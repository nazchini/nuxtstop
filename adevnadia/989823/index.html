<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>React component as prop: the right way™️</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>React component as prop: the right way™️</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/react" class="tag" data-v-70afb46a>
          #react
        </a><a href="/nuxtstop/t/webdev" class="tag" data-v-70afb46a>
          #webdev
        </a><a href="/nuxtstop/t/javascript" class="tag" data-v-70afb46a>
          #javascript
        </a><a href="/nuxtstop/t/tutorial" class="tag" data-v-70afb46a>
          #tutorial
        </a></div> <!----> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            38
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            5
          </span></div> <time data-v-70afb46a>Feb 15</time></div></header> <div class="content" data-v-70afb46a><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---BxEfmcD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fljxcldnv1oq2dyqtohr.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---BxEfmcD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fljxcldnv1oq2dyqtohr.png" alt="Image description" loading="lazy" width="880" height="563"></a></p>

<p>As always in React, there is one million way to do exactly the same thing. If, for example, I need to pass a component as a prop to another component, how should I do this? If I search the popular open-source libraries for an answer, I will find that:</p>

<ul>
<li>I can pass them as Elements like <a href="https://mui.com/components/buttons/#buttons-with-icons-and-label">Material UI library</a> does in Buttons with the <code>startIcon</code> prop</li>
<li>I can pass them as components themselves like for example <a href="https://react-select.com/components">react-select library</a> does for its <code>components</code> prop</li>
<li>I can pass them as functions like <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI</a> Data Grid component does with its <code>renderCell</code> prop</li>
</ul>

<p>Not confusing at all 😅.</p>

<p>So which way is the best way and which one should be avoided? Which one should be included in some “React best practices” list and why? Let’s figure it out together!</p>

<p>Or, if you like spoilers, just scroll to the summary part of the article. There is a definitive answer to those questions 😉</p>

<h2>
  <a name="why-would-we-want-to-pass-components-as-props" href="#why-would-we-want-to-pass-components-as-props">
  </a>
  Why would we want to pass components as props?
</h2>

<p>Before jumping into coding, let’s first understand why we would want to pass components as props to begin with. Short answer: for flexibility and to simplify sharing data between those components.</p>

<p>Imagine, for example, we’re implementing a button with an icon. We could, of course, implement it like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span> <span class="p">})</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nc">SomeIcon</span> <span class="na">size</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"red"</span> <span class="p">/></span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>But what if we need to give people the ability to change that icon? We could introduce <code>iconName</code> prop for that:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">Icons</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">cross</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span> <span class="o">|</span> <span class="p">...</span> <span class="c1">// all the supported icons</span>

<span class="kd">const</span> <span class="nx">getIconFromName</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">cross</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">&lt;</span><span class="nc">CrossIcon</span> <span class="na">size</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"red"</span> <span class="p">/>;</span>
    <span class="p">...</span>
    <span class="c1">// all other supported icons</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">iconName</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span> <span class="p">})</span> <span class="o">=></span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">getIconFromName</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
    <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>
    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>What about the ability for people to change the appearance of that icon? Change its size and color for example? We’d have to introduce some props for that as well:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">Icons</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">cross</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span> <span class="o">|</span> <span class="p">...</span> <span class="c1">// all the supported icons</span>
<span class="kd">type</span> <span class="nx">IconProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">size</span><span class="p">:</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">large</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">color</span><span class="p">:</span> <span class="kr">string</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">getIconFromName</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">:</span> <span class="nx">IconProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="dl">'</span><span class="s1">cross</span><span class="dl">'</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">&lt;</span><span class="nc">CrossIcon</span> <span class="si">{</span><span class="p">...</span><span class="nx">iconProps</span><span class="si">}</span> <span class="p">/>;</span>
    <span class="p">...</span>
    <span class="c1">// all other supported icons</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">,</span> <span class="nx">iconProps</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">:</span> <span class="nx">IconProps</span> <span class="p">})</span> <span class="o">=></span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">getIconFromName</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
    <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>
    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>What about giving people the ability to change the icon when something in the button changes? If a button is hovered, for example, and I want to change icon’s color to something different. I’m not even going to implement it here, it’d be way too complicated: we’d have to expose <code>onHover</code> callback, introduce state management in every single parent component, set state when the button is hovered, etc, etc.</p>

<p>It’s not only a very limited and complicated API. We also forced our <code>Button</code> component to know about every icon it can render, which means the bundled js of this <code>Button</code> will not only include its own code, but also every single icon on the list. That is going to be one heavy button 🙂</p>

<p>This is where passing components in props come in handy. Instead of passing to the <code>Button</code> the detailed limited description of the <code>Icon</code> in form of its name and its props, our <code>Button</code> can just say: "gimme an <code>Icon</code>, I don't care which one, your choice, and I'll render it in the right place".</p>

<p>Let’s see how it can be done with the three patterns we identified at the beginning:</p>

<ul>
<li>passing as an Element</li>
<li>passing as a Component</li>
<li>passing as a Function</li>
</ul>

<h2>
  <a name="building-a-button-with-an-icon" href="#building-a-button-with-an-icon">
  </a>
  Building a button with an icon
</h2>

<p>Or, to be precise, let’s build three buttons, with 3 different APIs for passing the icon, and then compare them. Hopefully, it will be obvious which one is better in the end. For the icon we’re going to use one of the icons from <a href="https://mui.com/components/icons/">material ui components library</a>. Lets start with the basics and just build the API first.</p>

<h3>
  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">
  </a>
  First: icon as React Element
</h3>

<p>We just need to pass an element to the <code>icon</code> prop of the button and then render that icon near the children like any other element.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>
  <span class="nl">icon</span><span class="p">:</span> <span class="nx">ReactElement</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">></span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconElement</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
      // our icon, same as children, is just React element 
      // which we can add directly to the render function
      <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then can use it like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">
  </a>
  Second: icon as a Component
</h3>

<p>We need to create a prop that starts with a capital letter to signal it’s a component, and then render that component from props like any other component.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>
  <span class="nl">Icon</span><span class="p">:</span> <span class="nx">ComponentType</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">></span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">Icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
      // our button is a component 
      // its name starts with a capital letter to signal that 
      // so we can just render it here as any other
      component
      <span class="p">&lt;</span><span class="nc">Icon</span> <span class="p">/></span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then can use it like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="k">import</span> <span class="nx">AccessAlarmIconGoogle</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@mui/icons-material/AccessAlarm</span><span class="dl">'</span><span class="p">;</span>

<span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIconGoogle</span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">>;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">
  </a>
  Third: icon as a function
</h3>

<p>We need to create a prop that starts with <code>render</code> to indicate it’s a render function, i.e. a function that returns an element, call the function inside the button and add the result to component’s render function as any other element.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>
  <span class="nl">renderIcon</span><span class="p">:</span> <span class="p">()</span> <span class="o">=></span> <span class="nx">ReactElement</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">></span><span class="p">;</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconRenderFunc</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">renderIcon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="c1">// getting the Element from the function</span>
  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">();</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
      // adding element like any other element here
      <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then use it like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span> <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>That was easy! Now our buttons can render any icon in that special icon slot without even knowing what’s there. See the working example <a href="https://codesandbox.io/s/buttons-with-icon-24slt?file=/src/App.tsx">in the codesandbox</a>.</p>

<p>Time to put those APIs to a test.</p>

<h2>
  <a name="modifying-the-size-and-color-of-the-icon" href="#modifying-the-size-and-color-of-the-icon">
  </a>
  Modifying the size and color of the icon
</h2>

<p>Let’s first see whether we can adjust our icon according to our needs without disturbing the button. After all, that was the major promise of those patterns, isn’t it?</p>

<h3>
  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">
  </a>
  First: icon as React Element
</h3>

<p>Couldn’t have been easier: all we need is just pass some props to the icon. We are using material UI icons, they give us <code>fontSize</code> and <code>color</code> for that.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">
  </a>
  Second: icon as a Component
</h3>

<p>Also simple: we need to extract our icon into a component, and pass the props there in the return element.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/>;</span>

<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIcon</span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">>;</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><strong>Important</strong>: the <code>AccessAlarmIcon</code> component should always be defined outside of the <code>Page</code> component, otherwise it will re-create this component on every <code>Page</code> re-render, and that is really bad for performance and prone to bugs. If you’re not familiar with how quickly it can turn ugly, this is the article for you: <a href="https://www.developerway.com/posts/how-to-write-performant-react-code">How to write performant React code: rules, patterns, do's and don'ts</a></p>

<h3>
  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">
  </a>
  Third: icon as a Function
</h3>

<p>Almost the same as the first one: just pass the props to the element.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>
  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=></span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/></span>
  <span class="p">)</span><span class="si">}</span>
<span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Easily done for all three of them, we have infinite flexibility to modify the <code>Icon</code> and didn’t need to touch the button for a single thing. Compare it with <code>iconName</code> and <code>iconProps</code> from the very first example 🙂</p>

<h2>
  <a name="default-values-for-the-icon-size-in-the-button" href="#default-values-for-the-icon-size-in-the-button">
  </a>
  Default values for the icon size in the button
</h2>

<p>You might have noticed, that I used the same icon size for all three examples. And when implementing a generic button component, more likely than not, you’ll have some prop that control button’s size as well. Infinity flexibility is good, but for something as design systems, you’d want some pre-defined types of buttons. And for different buttons sizes, you’d want the button to control the size of the icon, not leave it to the consumer, so you won’t end up with tiny icons in huge buttons or vice versa by accident.</p>

<p>Now it’s getting interesting: is it possible for the button to control one aspect of an icon while leaving the flexibility intact?</p>

<h3>
  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">
  </a>
  First: icon as React Element
</h3>

<p>For this one, it gets a little bit ugly. We receive our icon as a pre-defined element already, so the only thing we can do is to clone that element by using <code>React.cloneElement</code> api and override some of its props:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="c1">// in the button component</span>
<span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span> <span class="na">fontSize</span><span class="p">:</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span> <span class="p">});</span>

<span class="k">return</span> <span class="p">(</span>
  <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
    <span class="si">{</span><span class="nx">clonedIcon</span><span class="si">}</span>
    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
<span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And at the consumer side we can just remove the <code>fontSize</code> property.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/></span><span class="si">}</span> <span class="p">/></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>But what about default value, not overriding? What if I want consumers to be able to change the size of the icon if they need to?</p>

<p>Still possible, although even uglier, just nee to extract the passed props from the element and put them as default value:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">fontSize</span><span class="p">:</span> <span class="nx">icon</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span><span class="p">,</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>From the consumer side everything stays as it was before<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="p">/></span><span class="si">}</span> <span class="p">/></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">
  </a>
  Second: icon as a Component
</h3>

<p>Even more interesting here. First, we need to give the icon the default value on button side:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">Icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nc">Icon</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="p">/></span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And this is going to work perfectly when we pass the directly imported icon:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="k">import</span> <span class="nx">AccessAlarmIconGoogle</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@mui/icons-material/AccessAlarm</span><span class="dl">'</span><span class="p">;</span>

<span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIconGoogle</span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">>;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><code>Icon</code> prop is nothing more than just a reference to material UI icon component here, and that one knows how to deal with those props. But we extracted this icon to a component when we had to pass to it some color, remember?<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/>;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now the props' <code>Icon</code> is a reference to that wrapper component, and it just assumes that it doesn’t have any props. So our <code>fontSize</code> value from <code>&lt;Icon fontSize="small" /></code> from the button will be just swallowed. This whole pattern, if you’ve never worked with it before, can be confusing, since it creates this a bit weird mental circle that you need to navigate in order to understand what goes where.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--abK3q2JW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7wvfy3plrr8icdpiutuu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--abK3q2JW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7wvfy3plrr8icdpiutuu.png" alt="Image description" loading="lazy" width="880" height="447"></a></p>

<p>In order to fix the icon, we just need to pass through the props that <code>AccessAlarmIcon</code> receives to the actual icon. Usually, it’s done via spread:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="si">{</span><span class="p">...</span><span class="nx">props</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/>;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Or can be just hand-picked as well:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/>;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Mk74pogZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v0keb5m2s1x46ut1pq8d.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Mk74pogZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v0keb5m2s1x46ut1pq8d.png" alt="Image description" loading="lazy" width="880" height="447"></a></p>

<p>While this pattern seems complicated, it actually gives us perfect flexibility: the button can easily set its own props, and the consumer can choose whether they want to follow the direction buttons gives and how much of it they want, or whether they want to do their own thing. If, for example, I want to override button’s value and set my own icon size, all I need to do is to ignore the prop that comes from the button:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=></span> <span class="p">(</span>
  <span class="c1">// just ignore all the props coming from the button here</span>
  <span class="c1">// and override with our own values</span>
  <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/></span>
<span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">
  </a>
  Third: icon as a Function
</h3>

<p>This is going to be pretty much the same as with icon as a Component, only with the function. First, adjust the button to pass settings to the <code>renderIcon</code> function:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">({</span>
  <span class="na">fontSize</span><span class="p">:</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span><span class="p">,</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then on the consumer side, similar to props in Component step, pass that setting to the rendered component:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span> <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>
  button here
<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And again, if we want to override the size, all we need to do is to ignore the setting and pass our own value:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>
  <span class="c1">// ignore the setting here and write our own fontSize</span>
  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=></span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/></span><span class="si">}</span>
<span class="p">></span>
  button here
<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>See <a href="https://codesandbox.io/s/buttons-with-icon-extended-vl6lo?file=/src/App.tsx">the codesandbox</a> with all three examples.</p>

<h2>
  <a name="changing-the-icon-when-the-button-is-hovered" href="#changing-the-icon-when-the-button-is-hovered">
  </a>
  Changing the icon when the button is hovered
</h2>

<p>And now the final test that should decide everything: I want to give the ability for the users to modify the icon when the button is hovered.</p>

<p>First, let’s teach the button to notice the hover. Just some state and callbacks to set that state should do it:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIcon</span> <span class="o">=</span> <span class="p">(...)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isHovered</span><span class="p">,</span> <span class="nx">setIsHovered</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">button</span>
      <span class="na">onMouseOver</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=></span> <span class="nx">setIsHovered</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="si">}</span>
      <span class="na">onMouseOut</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=></span> <span class="nx">setIsHovered</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="si">}</span>
    <span class="p">></span>
      ...
    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then the icons.</p>

<h3>
  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">
  </a>
  First: icon as React Element
</h3>

<p>That one is the most interesting of the bunch. First, we need to pass that <code>isHover</code> prop to the icon from the button:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">fontSize</span><span class="p">:</span> <span class="nx">icon</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">isHovered</span><span class="p">:</span> <span class="nx">isHovered</span><span class="p">,</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And now, interestingly enough, we created <strong>exactly the same</strong> mental circle that we had when we implemented “icon as Component”. We passed <code>isHover</code> property to the icon component, now we need to go to the consumer, wrap that original icon component into another component, that component will have <code>isHover</code> prop from the button, and it should return the icon we want to render in the button. 🤯 If you managed to understand that explanation from just words I’ll send you some chocolate 😅 Here’s some code to make it easier.</p>

<p>Instead of the original simple direct render of the icon:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>we should create a wrapper component that has <code>isHovered</code> in its props and renders that icons as a result:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AlarmIconWithHoverForElement</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span>
      <span class="c1">// don't forget to spread all the props!</span>
      <span class="c1">// otherwise you'll lose all the defaults the button is setting</span>
      <span class="si">{</span><span class="p">...</span><span class="nx">props</span><span class="si">}</span>
      <span class="c1">// and just override the color based on the value of `isHover`</span>
      <span class="na">color</span><span class="p">=</span><span class="si">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">isHovered</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">primary</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span><span class="si">}</span>
    <span class="p">/></span>
  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then render that new component in the button itself:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AlarmIconWithHoverForElement</span> <span class="p">/></span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Looks a little bit weird, but it works perfectly 🤷🏽‍♀️</p>

<h3>
  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">
  </a>
  Second: icon as a Component
</h3>

<p>First, pass the <code>isHover</code> to the icon in the button:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">Icon</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">isHovered</span><span class="p">=</span><span class="si">{</span><span class="nx">isHovered</span><span class="si">}</span> <span class="p">/></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then back to the consumer. And now the funniest thing ever. In the previous step we created exactly the same mental circle that we need to remember when we’re dealing with components passed as Components. And it’s not just the mental picture of data flow, I can literally <strong>re-use exactly the same component</strong> from the previous step here! They are just components with some props after all:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AlarmIconWithHoverForElement</span><span class="si">}</span><span class="p">></span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>💥 works perfectly.</p>

<h3>
  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">
  </a>
  Third: icon as a Function
</h3>

<p>Same story: just pass the <code>isHovered</code> value to the function as the arguments:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">({</span>
  <span class="na">fontSize</span><span class="p">:</span> <span class="dl">'</span><span class="s1">small</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">isHovered</span><span class="p">:</span> <span class="nx">isHovered</span><span class="p">,</span>
<span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And then use it on the consumer side:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>
  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=></span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span>
      <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span>
      <span class="na">color</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">isHovered</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="si">}</span>
    <span class="p">/></span>
  <span class="p">)</span><span class="si">}</span>
<span class="p">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>🎉 again, works perfectly.</p>

<p>Take a look at <a href="https://codesandbox.io/s/buttons-with-icon-and-hover-y4zgl?file=/src/App.tsx">the sandbox</a> with the working solution.</p>

<h2>
  <a name="summary-and-the-answer-which-way-is-the-right-way" href="#summary-and-the-answer-which-way-is-the-right-way">
  </a>
  Summary and the answer: which way is The Right Way™️?
</h2>

<p>If you read the full article, you’re probably saying right now: Nadia, aren’t they are basically the same thing? What’s the difference? You promised a clear answer, but I don’t see it 🙁 And you’re right.</p>

<p>And if you just scrolled here right away because you love spoilers: I’m sorry, I lied a bit for the sake of the story 😳. There is no right answer here.</p>

<p>All of them are more or less the same and you probably can implement 99% of the needed use cases (if not 100%) with just one pattern everywhere. The only difference here is semantics, which area has the most complexity, and personal preferences and religious beliefs.</p>

<p>If I <em>had to</em> extract some general rules of which pattern should be used where, I’d probably go with something like this:</p>

<ul>
<li>I’d use “component as an Element” pattern (<code>&lt;Button icon={&lt;Icon />} /></code>) for cases, where I just need to render the component in a pre-defined place, without modifying its props in the “receiving” component.</li>
<li>I’d use “component as a Component” pattern (<code>&lt;Button Icon={Icon} /></code>) when I need to heavily modify and customise this component on the “receiving” side through its props, while at the same time allowing users full flexibility to override those props themselves (pretty much as <a href="https://react-select.com/components">react-select</a> does for <code>components</code> prop).</li>
<li>I’d use “component as a Function” pattern (<code>&lt;Button renderIcon={() => &lt;Icon />} /></code>) when I need the consumer to modify the result of this function, depending on some values coming from the “host” component itself (pretty much what <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI Data Grid</a> component does with <code>renderCell</code> prop)</li>
</ul>

<p>Hope this article made those patterns easier to understand and now you can use all of them when the use case needs it. Or you can now just totally ban any of them in your repo, just for fun or consistency sake, since now you can implement whatever you want with just one pattern 😊</p>

<p>See ya next time! ✌🏼</p>

<p>...</p>

<p>Originally published at <a href="https://www.developerway.com">https://www.developerway.com</a>. The website has more articles like this 😉</p>

<p><a href="https://www.developerway.com">Subscribe to the newsletter</a>, <a href="https://www.linkedin.com/in/adevnadia/">connect on LinkedIn</a> or <a href="https://twitter.com/adevnadia">follow on Twitter</a> to get notified as soon as the next article comes out.</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/adevnadia/react-component-as-prop-the-right-way-ane" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(n,s,a,t){return t.type_of="article",t.id=989823,t.title="React component as prop: the right way™️",t.description="As always in React, there is one million way to do exactly the same thing. If, for example, I need...",t.readable_publish_date="Feb 15",t.slug="react-component-as-prop-the-right-way-ane",t.path="/adevnadia/react-component-as-prop-the-right-way-ane",t.url="https://dev.to/adevnadia/react-component-as-prop-the-right-way-ane",t.comments_count=5,t.public_reactions_count=38,t.collection_id=n,t.published_timestamp=s,t.positive_reactions_count=38,t.cover_image=n,t.social_image="https://dev.to/social_previews/article/989823.png",t.canonical_url="https://www.developerway.com/posts/react-component-as-prop-the-right-way",t.created_at=s,t.edited_at="2022-02-18T14:42:50Z",t.crossposted_at=n,t.published_at=s,t.last_comment_at="2022-02-26T16:40:59Z",t.reading_time_minutes=12,t.tag_list="react, webdev, javascript, tutorial",t.tags=["react","webdev","javascript","tutorial"],t.body_html='<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---BxEfmcD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fljxcldnv1oq2dyqtohr.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---BxEfmcD--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fljxcldnv1oq2dyqtohr.png" alt="Image description" loading="lazy" width="880" height="563"></a></p>\n\n<p>As always in React, there is one million way to do exactly the same thing. If, for example, I need to pass a component as a prop to another component, how should I do this? If I search the popular open-source libraries for an answer, I will find that:</p>\n\n<ul>\n<li>I can pass them as Elements like <a href="https://mui.com/components/buttons/#buttons-with-icons-and-label">Material UI library</a> does in Buttons with the <code>startIcon</code> prop</li>\n<li>I can pass them as components themselves like for example <a href="https://react-select.com/components">react-select library</a> does for its <code>components</code> prop</li>\n<li>I can pass them as functions like <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI</a> Data Grid component does with its <code>renderCell</code> prop</li>\n</ul>\n\n<p>Not confusing at all 😅.</p>\n\n<p>So which way is the best way and which one should be avoided? Which one should be included in some “React best practices” list and why? Let’s figure it out together!</p>\n\n<p>Or, if you like spoilers, just scroll to the summary part of the article. There is a definitive answer to those questions 😉</p>\n\n<h2>\n  <a name="why-would-we-want-to-pass-components-as-props" href="#why-would-we-want-to-pass-components-as-props">\n  </a>\n  Why would we want to pass components as props?\n</h2>\n\n<p>Before jumping into coding, let’s first understand why we would want to pass components as props to begin with. Short answer: for flexibility and to simplify sharing data between those components.</p>\n\n<p>Imagine, for example, we’re implementing a button with an icon. We could, of course, implement it like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n      <span class="p">&lt;</span><span class="nc">SomeIcon</span> <span class="na">size</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"red"</span> <span class="p">/&gt;</span>\n      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>But what if we need to give people the ability to change that icon? We could introduce <code>iconName</code> prop for that:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">Icons</span> <span class="o">=</span> <span class="dl">\'</span><span class="s1">cross</span><span class="dl">\'</span> <span class="o">|</span> <span class="dl">\'</span><span class="s1">warning</span><span class="dl">\'</span> <span class="o">|</span> <span class="p">...</span> <span class="c1">// all the supported icons</span>\n\n<span class="kd">const</span> <span class="nx">getIconFromName</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">switch</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">case</span> <span class="dl">\'</span><span class="s1">cross</span><span class="dl">\'</span><span class="p">:</span>\n      <span class="k">return</span> <span class="p">&lt;</span><span class="nc">CrossIcon</span> <span class="na">size</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"red"</span> <span class="p">/&gt;;</span>\n    <span class="p">...</span>\n    <span class="c1">// all other supported icons</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n<span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">iconName</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">getIconFromName</span><span class="p">(</span><span class="nx">name</span><span class="p">);</span>\n\n  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n    <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>\n    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>What about the ability for people to change the appearance of that icon? Change its size and color for example? We’d have to introduce some props for that as well:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">Icons</span> <span class="o">=</span> <span class="dl">\'</span><span class="s1">cross</span><span class="dl">\'</span> <span class="o">|</span> <span class="dl">\'</span><span class="s1">warning</span><span class="dl">\'</span> <span class="o">|</span> <span class="p">...</span> <span class="c1">// all the supported icons</span>\n<span class="kd">type</span> <span class="nx">IconProps</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">size</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span> <span class="o">|</span> <span class="dl">\'</span><span class="s1">medium</span><span class="dl">\'</span> <span class="o">|</span> <span class="dl">\'</span><span class="s1">large</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="na">color</span><span class="p">:</span> <span class="kr">string</span>\n<span class="p">};</span>\n<span class="kd">const</span> <span class="nx">getIconFromName</span> <span class="o">=</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">:</span> <span class="nx">IconProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">switch</span> <span class="p">(</span><span class="nx">iconName</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">case</span> <span class="dl">\'</span><span class="s1">cross</span><span class="dl">\'</span><span class="p">:</span>\n      <span class="k">return</span> <span class="p">&lt;</span><span class="nc">CrossIcon</span> <span class="si">{</span><span class="p">...</span><span class="nx">iconProps</span><span class="si">}</span> <span class="p">/&gt;;</span>\n    <span class="p">...</span>\n    <span class="c1">// all other supported icons</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n<span class="kd">const</span> <span class="nx">Button</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">,</span> <span class="nx">iconProps</span> <span class="p">}:</span> <span class="p">{</span> <span class="nl">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">,</span> <span class="nx">iconName</span><span class="p">:</span> <span class="nx">Icons</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">:</span> <span class="nx">IconProps</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">getIconFromName</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">iconProps</span><span class="p">);</span>\n\n  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n    <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>\n    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>What about giving people the ability to change the icon when something in the button changes? If a button is hovered, for example, and I want to change icon’s color to something different. I’m not even going to implement it here, it’d be way too complicated: we’d have to expose <code>onHover</code> callback, introduce state management in every single parent component, set state when the button is hovered, etc, etc.</p>\n\n<p>It’s not only a very limited and complicated API. We also forced our <code>Button</code> component to know about every icon it can render, which means the bundled js of this <code>Button</code> will not only include its own code, but also every single icon on the list. That is going to be one heavy button 🙂</p>\n\n<p>This is where passing components in props come in handy. Instead of passing to the <code>Button</code> the detailed limited description of the <code>Icon</code> in form of its name and its props, our <code>Button</code> can just say: "gimme an <code>Icon</code>, I don\'t care which one, your choice, and I\'ll render it in the right place".</p>\n\n<p>Let’s see how it can be done with the three patterns we identified at the beginning:</p>\n\n<ul>\n<li>passing as an Element</li>\n<li>passing as a Component</li>\n<li>passing as a Function</li>\n</ul>\n\n<h2>\n  <a name="building-a-button-with-an-icon" href="#building-a-button-with-an-icon">\n  </a>\n  Building a button with an icon\n</h2>\n\n<p>Or, to be precise, let’s build three buttons, with 3 different APIs for passing the icon, and then compare them. Hopefully, it will be obvious which one is better in the end. For the icon we’re going to use one of the icons from <a href="https://mui.com/components/icons/">material ui components library</a>. Lets start with the basics and just build the API first.</p>\n\n<h3>\n  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">\n  </a>\n  First: icon as React Element\n</h3>\n\n<p>We just need to pass an element to the <code>icon</code> prop of the button and then render that icon near the children like any other element.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>\n  <span class="nl">icon</span><span class="p">:</span> <span class="nx">ReactElement</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">&gt;</span><span class="p">;</span>\n<span class="p">};</span>\n\n<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconElement</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n      // our icon, same as children, is just React element \n      // which we can add directly to the render function\n      <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>\n      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then can use it like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">\n  </a>\n  Second: icon as a Component\n</h3>\n\n<p>We need to create a prop that starts with a capital letter to signal it’s a component, and then render that component from props like any other component.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>\n  <span class="nl">Icon</span><span class="p">:</span> <span class="nx">ComponentType</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">&gt;</span><span class="p">;</span>\n<span class="p">};</span>\n\n<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">Icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n      // our button is a component \n      // its name starts with a capital letter to signal that \n      // so we can just render it here as any other\n      component\n      <span class="p">&lt;</span><span class="nc">Icon</span> <span class="p">/&gt;</span>\n      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then can use it like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="k">import</span> <span class="nx">AccessAlarmIconGoogle</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@mui/icons-material/AccessAlarm</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIconGoogle</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">&gt;;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">\n  </a>\n  Third: icon as a function\n</h3>\n\n<p>We need to create a prop that starts with <code>render</code> to indicate it’s a render function, i.e. a function that returns an element, call the function inside the button and add the result to component’s render function as any other element.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">type</span> <span class="nx">ButtonProps</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">;</span>\n  <span class="nl">renderIcon</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">ReactElement</span><span class="o">&lt;</span><span class="nx">IconProps</span><span class="o">&gt;</span><span class="p">;</span>\n<span class="p">};</span>\n\n<span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconRenderFunc</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">renderIcon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="c1">// getting the Element from the function</span>\n  <span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">();</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n      // adding element like any other element here\n      <span class="si">{</span><span class="nx">icon</span><span class="si">}</span>\n      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then use it like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span> <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>That was easy! Now our buttons can render any icon in that special icon slot without even knowing what’s there. See the working example <a href="https://codesandbox.io/s/buttons-with-icon-24slt?file=/src/App.tsx">in the codesandbox</a>.</p>\n\n<p>Time to put those APIs to a test.</p>\n\n<h2>\n  <a name="modifying-the-size-and-color-of-the-icon" href="#modifying-the-size-and-color-of-the-icon">\n  </a>\n  Modifying the size and color of the icon\n</h2>\n\n<p>Let’s first see whether we can adjust our icon according to our needs without disturbing the button. After all, that was the major promise of those patterns, isn’t it?</p>\n\n<h3>\n  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">\n  </a>\n  First: icon as React Element\n</h3>\n\n<p>Couldn’t have been easier: all we need is just pass some props to the icon. We are using material UI icons, they give us <code>fontSize</code> and <code>color</code> for that.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">\n  </a>\n  Second: icon as a Component\n</h3>\n\n<p>Also simple: we need to extract our icon into a component, and pass the props there in the return element.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/&gt;;</span>\n\n<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIcon</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">&gt;;</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><strong>Important</strong>: the <code>AccessAlarmIcon</code> component should always be defined outside of the <code>Page</code> component, otherwise it will re-create this component on every <code>Page</code> re-render, and that is really bad for performance and prone to bugs. If you’re not familiar with how quickly it can turn ugly, this is the article for you: <a href="https://www.developerway.com/posts/how-to-write-performant-react-code">How to write performant React code: rules, patterns, do\'s and don\'ts</a></p>\n\n<h3>\n  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">\n  </a>\n  Third: icon as a Function\n</h3>\n\n<p>Almost the same as the first one: just pass the props to the element.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>\n  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/&gt;</span>\n  <span class="p">)</span><span class="si">}</span>\n<span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Easily done for all three of them, we have infinite flexibility to modify the <code>Icon</code> and didn’t need to touch the button for a single thing. Compare it with <code>iconName</code> and <code>iconProps</code> from the very first example 🙂</p>\n\n<h2>\n  <a name="default-values-for-the-icon-size-in-the-button" href="#default-values-for-the-icon-size-in-the-button">\n  </a>\n  Default values for the icon size in the button\n</h2>\n\n<p>You might have noticed, that I used the same icon size for all three examples. And when implementing a generic button component, more likely than not, you’ll have some prop that control button’s size as well. Infinity flexibility is good, but for something as design systems, you’d want some pre-defined types of buttons. And for different buttons sizes, you’d want the button to control the size of the icon, not leave it to the consumer, so you won’t end up with tiny icons in huge buttons or vice versa by accident.</p>\n\n<p>Now it’s getting interesting: is it possible for the button to control one aspect of an icon while leaving the flexibility intact?</p>\n\n<h3>\n  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">\n  </a>\n  First: icon as React Element\n</h3>\n\n<p>For this one, it gets a little bit ugly. We receive our icon as a pre-defined element already, so the only thing we can do is to clone that element by using <code>React.cloneElement</code> api and override some of its props:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="c1">// in the button component</span>\n<span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span> <span class="na">fontSize</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span> <span class="p">});</span>\n\n<span class="k">return</span> <span class="p">(</span>\n  <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n    <span class="si">{</span><span class="nx">clonedIcon</span><span class="si">}</span>\n    <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n<span class="p">);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And at the consumer side we can just remove the <code>fontSize</code> property.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>But what about default value, not overriding? What if I want consumers to be able to change the size of the icon if they need to?</p>\n\n<p>Still possible, although even uglier, just nee to extract the passed props from the element and put them as default value:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span>\n  <span class="na">fontSize</span><span class="p">:</span> <span class="nx">icon</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">||</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span><span class="p">,</span>\n<span class="p">});</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>From the consumer side everything stays as it was before<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="p">/&gt;</span><span class="si">}</span> <span class="p">/&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">\n  </a>\n  Second: icon as a Component\n</h3>\n\n<p>Even more interesting here. First, we need to give the icon the default value on button side:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIconComponent</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">Icon</span> <span class="p">}:</span> <span class="nx">ButtonProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span><span class="p">&gt;</span>\n      <span class="p">&lt;</span><span class="nc">Icon</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="p">/&gt;</span>\n      <span class="si">{</span><span class="nx">children</span><span class="si">}</span>\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And this is going to work perfectly when we pass the directly imported icon:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="k">import</span> <span class="nx">AccessAlarmIconGoogle</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@mui/icons-material/AccessAlarm</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AccessAlarmIconGoogle</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">&gt;;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><code>Icon</code> prop is nothing more than just a reference to material UI icon component here, and that one knows how to deal with those props. But we extracted this icon to a component when we had to pass to it some color, remember?<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/&gt;;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now the props\' <code>Icon</code> is a reference to that wrapper component, and it just assumes that it doesn’t have any props. So our <code>fontSize</code> value from <code>&lt;Icon fontSize="small" /&gt;</code> from the button will be just swallowed. This whole pattern, if you’ve never worked with it before, can be confusing, since it creates this a bit weird mental circle that you need to navigate in order to understand what goes where.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--abK3q2JW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7wvfy3plrr8icdpiutuu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--abK3q2JW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7wvfy3plrr8icdpiutuu.png" alt="Image description" loading="lazy" width="880" height="447"></a></p>\n\n<p>In order to fix the icon, we just need to pass through the props that <code>AccessAlarmIcon</code> receives to the actual icon. Usually, it’s done via spread:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="si">{</span><span class="p">...</span><span class="nx">props</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/&gt;;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Or can be just hand-picked as well:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/&gt;;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Mk74pogZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v0keb5m2s1x46ut1pq8d.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Mk74pogZ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v0keb5m2s1x46ut1pq8d.png" alt="Image description" loading="lazy" width="880" height="447"></a></p>\n\n<p>While this pattern seems complicated, it actually gives us perfect flexibility: the button can easily set its own props, and the consumer can choose whether they want to follow the direction buttons gives and how much of it they want, or whether they want to do their own thing. If, for example, I want to override button’s value and set my own icon size, all I need to do is to ignore the prop that comes from the button:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AccessAlarmIcon</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>\n  <span class="c1">// just ignore all the props coming from the button here</span>\n  <span class="c1">// and override with our own values</span>\n  <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="na">color</span><span class="p">=</span><span class="s">"error"</span> <span class="p">/&gt;</span>\n<span class="p">);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">\n  </a>\n  Third: icon as a Function\n</h3>\n\n<p>This is going to be pretty much the same as with icon as a Component, only with the function. First, adjust the button to pass settings to the <code>renderIcon</code> function:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">({</span>\n  <span class="na">fontSize</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span><span class="p">,</span>\n<span class="p">});</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then on the consumer side, similar to props in Component step, pass that setting to the rendered component:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span> <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>\n  button here\n<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And again, if we want to override the size, all we need to do is to ignore the setting and pass our own value:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>\n  <span class="c1">// ignore the setting here and write our own fontSize</span>\n  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"large"</span> <span class="na">color</span><span class="p">=</span><span class="s">"success"</span> <span class="p">/&gt;</span><span class="si">}</span>\n<span class="p">&gt;</span>\n  button here\n<span class="p">&lt;/</span><span class="nc">ButtonWithIconRenderFunc</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>See <a href="https://codesandbox.io/s/buttons-with-icon-extended-vl6lo?file=/src/App.tsx">the codesandbox</a> with all three examples.</p>\n\n<h2>\n  <a name="changing-the-icon-when-the-button-is-hovered" href="#changing-the-icon-when-the-button-is-hovered">\n  </a>\n  Changing the icon when the button is hovered\n</h2>\n\n<p>And now the final test that should decide everything: I want to give the ability for the users to modify the icon when the button is hovered.</p>\n\n<p>First, let’s teach the button to notice the hover. Just some state and callbacks to set that state should do it:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">ButtonWithIcon</span> <span class="o">=</span> <span class="p">(...)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="p">[</span><span class="nx">isHovered</span><span class="p">,</span> <span class="nx">setIsHovered</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>\n\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">button</span>\n      <span class="na">onMouseOver</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setIsHovered</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="si">}</span>\n      <span class="na">onMouseOut</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">setIsHovered</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="si">}</span>\n    <span class="p">&gt;</span>\n      ...\n    <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then the icons.</p>\n\n<h3>\n  <a name="first-icon-as-react-element" href="#first-icon-as-react-element">\n  </a>\n  First: icon as React Element\n</h3>\n\n<p>That one is the most interesting of the bunch. First, we need to pass that <code>isHover</code> prop to the icon from the button:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">clonedIcon</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">cloneElement</span><span class="p">(</span><span class="nx">icon</span><span class="p">,</span> <span class="p">{</span>\n  <span class="na">fontSize</span><span class="p">:</span> <span class="nx">icon</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">||</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="na">isHovered</span><span class="p">:</span> <span class="nx">isHovered</span><span class="p">,</span>\n<span class="p">});</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And now, interestingly enough, we created <strong>exactly the same</strong> mental circle that we had when we implemented “icon as Component”. We passed <code>isHover</code> property to the icon component, now we need to go to the consumer, wrap that original icon component into another component, that component will have <code>isHover</code> prop from the button, and it should return the icon we want to render in the button. 🤯 If you managed to understand that explanation from just words I’ll send you some chocolate 😅 Here’s some code to make it easier.</p>\n\n<p>Instead of the original simple direct render of the icon:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span> <span class="na">color</span><span class="p">=</span><span class="s">"warning"</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>we should create a wrapper component that has <code>isHovered</code> in its props and renders that icons as a result:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">AlarmIconWithHoverForElement</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span>\n      <span class="c1">// don\'t forget to spread all the props!</span>\n      <span class="c1">// otherwise you\'ll lose all the defaults the button is setting</span>\n      <span class="si">{</span><span class="p">...</span><span class="nx">props</span><span class="si">}</span>\n      <span class="c1">// and just override the color based on the value of `isHover`</span>\n      <span class="na">color</span><span class="p">=</span><span class="si">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">isHovered</span> <span class="p">?</span> <span class="dl">\'</span><span class="s1">primary</span><span class="dl">\'</span> <span class="p">:</span> <span class="dl">\'</span><span class="s1">warning</span><span class="dl">\'</span><span class="si">}</span>\n    <span class="p">/&gt;</span>\n  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then render that new component in the button itself:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconElement</span> <span class="na">icon</span><span class="p">=</span><span class="si">{</span><span class="p">&lt;</span><span class="nc">AlarmIconWithHoverForElement</span> <span class="p">/&gt;</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconElement</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Looks a little bit weird, but it works perfectly 🤷🏽‍♀️</p>\n\n<h3>\n  <a name="second-icon-as-a-component" href="#second-icon-as-a-component">\n  </a>\n  Second: icon as a Component\n</h3>\n\n<p>First, pass the <code>isHover</code> to the icon in the button:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">Icon</span> <span class="na">fontSize</span><span class="p">=</span><span class="s">"small"</span> <span class="na">isHovered</span><span class="p">=</span><span class="si">{</span><span class="nx">isHovered</span><span class="si">}</span> <span class="p">/&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then back to the consumer. And now the funniest thing ever. In the previous step we created exactly the same mental circle that we need to remember when we’re dealing with components passed as Components. And it’s not just the mental picture of data flow, I can literally <strong>re-use exactly the same component</strong> from the previous step here! They are just components with some props after all:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconComponent</span> <span class="na">Icon</span><span class="p">=</span><span class="si">{</span><span class="nx">AlarmIconWithHoverForElement</span><span class="si">}</span><span class="p">&gt;</span>button here<span class="p">&lt;/</span><span class="nc">ButtonWithIconComponent</span><span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>💥 works perfectly.</p>\n\n<h3>\n  <a name="third-icon-as-a-function" href="#third-icon-as-a-function">\n  </a>\n  Third: icon as a Function\n</h3>\n\n<p>Same story: just pass the <code>isHovered</code> value to the function as the arguments:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="kd">const</span> <span class="nx">icon</span> <span class="o">=</span> <span class="nx">renderIcon</span><span class="p">({</span>\n  <span class="na">fontSize</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">small</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="na">isHovered</span><span class="p">:</span> <span class="nx">isHovered</span><span class="p">,</span>\n<span class="p">});</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And then use it on the consumer side:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight tsx"><code><span class="p">&lt;</span><span class="nc">ButtonWithIconRenderFunc</span>\n  <span class="na">renderIcon</span><span class="p">=</span><span class="si">{</span><span class="p">(</span><span class="nx">settings</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nc">AccessAlarmIconGoogle</span>\n      <span class="na">fontSize</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">fontSize</span><span class="si">}</span>\n      <span class="na">color</span><span class="p">=</span><span class="si">{</span><span class="nx">settings</span><span class="p">.</span><span class="nx">isHovered</span> <span class="p">?</span> <span class="dl">"</span><span class="s2">primary</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="si">}</span>\n    <span class="p">/&gt;</span>\n  <span class="p">)</span><span class="si">}</span>\n<span class="p">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>🎉 again, works perfectly.</p>\n\n<p>Take a look at <a href="https://codesandbox.io/s/buttons-with-icon-and-hover-y4zgl?file=/src/App.tsx">the sandbox</a> with the working solution.</p>\n\n<h2>\n  <a name="summary-and-the-answer-which-way-is-the-right-way" href="#summary-and-the-answer-which-way-is-the-right-way">\n  </a>\n  Summary and the answer: which way is The Right Way™️?\n</h2>\n\n<p>If you read the full article, you’re probably saying right now: Nadia, aren’t they are basically the same thing? What’s the difference? You promised a clear answer, but I don’t see it 🙁 And you’re right.</p>\n\n<p>And if you just scrolled here right away because you love spoilers: I’m sorry, I lied a bit for the sake of the story 😳. There is no right answer here.</p>\n\n<p>All of them are more or less the same and you probably can implement 99% of the needed use cases (if not 100%) with just one pattern everywhere. The only difference here is semantics, which area has the most complexity, and personal preferences and religious beliefs.</p>\n\n<p>If I <em>had to</em> extract some general rules of which pattern should be used where, I’d probably go with something like this:</p>\n\n<ul>\n<li>I’d use “component as an Element” pattern (<code>&lt;Button icon={&lt;Icon /&gt;} /&gt;</code>) for cases, where I just need to render the component in a pre-defined place, without modifying its props in the “receiving” component.</li>\n<li>I’d use “component as a Component” pattern (<code>&lt;Button Icon={Icon} /&gt;</code>) when I need to heavily modify and customise this component on the “receiving” side through its props, while at the same time allowing users full flexibility to override those props themselves (pretty much as <a href="https://react-select.com/components">react-select</a> does for <code>components</code> prop).</li>\n<li>I’d use “component as a Function” pattern (<code>&lt;Button renderIcon={() =&gt; &lt;Icon /&gt;} /&gt;</code>) when I need the consumer to modify the result of this function, depending on some values coming from the “host” component itself (pretty much what <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI Data Grid</a> component does with <code>renderCell</code> prop)</li>\n</ul>\n\n<p>Hope this article made those patterns easier to understand and now you can use all of them when the use case needs it. Or you can now just totally ban any of them in your repo, just for fun or consistency sake, since now you can implement whatever you want with just one pattern 😊</p>\n\n<p>See ya next time! ✌🏼</p>\n\n<p>...</p>\n\n<p>Originally published at <a href="https://www.developerway.com">https://www.developerway.com</a>. The website has more articles like this 😉</p>\n\n<p><a href="https://www.developerway.com">Subscribe to the newsletter</a>, <a href="https://www.linkedin.com/in/adevnadia/">connect on LinkedIn</a> or <a href="https://twitter.com/adevnadia">follow on Twitter</a> to get notified as soon as the next article comes out.</p>\n\n',t.body_markdown='![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fljxcldnv1oq2dyqtohr.png)\n\nAs always in React, there is one million way to do exactly the same thing. If, for example, I need to pass a component as a prop to another component, how should I do this? If I search the popular open-source libraries for an answer, I will find that:\n\n- I can pass them as Elements like <a href="https://mui.com/components/buttons/#buttons-with-icons-and-label">Material UI library</a> does in Buttons with the `startIcon` prop\n- I can pass them as components themselves like for example <a href="https://react-select.com/components">react-select library</a> does for its `components` prop\n- I can pass them as functions like <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI</a> Data Grid component does with its `renderCell` prop\n\nNot confusing at all 😅.\n\nSo which way is the best way and which one should be avoided? Which one should be included in some “React best practices” list and why? Let’s figure it out together!\n\nOr, if you like spoilers, just scroll to the summary part of the article. There is a definitive answer to those questions 😉\n\n## Why would we want to pass components as props?\n\nBefore jumping into coding, let’s first understand why we would want to pass components as props to begin with. Short answer: for flexibility and to simplify sharing data between those components.\n\nImagine, for example, we’re implementing a button with an icon. We could, of course, implement it like this:\n\n```tsx\nconst Button = ({ children }: { children: ReactNode }) => {\n  return (\n    <button>\n      <SomeIcon size="small" color="red" />\n      {children}\n    </button>\n  );\n};\n```\n\nBut what if we need to give people the ability to change that icon? We could introduce `iconName` prop for that:\n\n```tsx\ntype Icons = \'cross\' | \'warning\' | ... // all the supported icons\n\nconst getIconFromName = (iconName: Icons) => {\n  switch (iconName) {\n    case \'cross\':\n      return <CrossIcon size="small" color="red" />;\n    ...\n    // all other supported icons\n  }\n}\nconst Button = ({ children, iconName }: { children: ReactNode, iconName: Icons }) => {\n  const icon = getIconFromName(name);\n\n  return <button>\n    {icon}\n    {children}\n  </button>\n}\n```\n\nWhat about the ability for people to change the appearance of that icon? Change its size and color for example? We’d have to introduce some props for that as well:\n\n```tsx\ntype Icons = \'cross\' | \'warning\' | ... // all the supported icons\ntype IconProps = {\n  size: \'small\' | \'medium\' | \'large\',\n  color: string\n};\nconst getIconFromName = (iconName: Icons, iconProps: IconProps) => {\n  switch (iconName) {\n    case \'cross\':\n      return <CrossIcon {...iconProps} />;\n    ...\n    // all other supported icons\n  }\n}\nconst Button = ({ children, iconName, iconProps }: { children: ReactNode, iconName: Icons, iconProps: IconProps }) => {\n  const icon = getIconFromName(name, iconProps);\n\n  return <button>\n    {icon}\n    {children}\n  </button>\n}\n```\n\nWhat about giving people the ability to change the icon when something in the button changes? If a button is hovered, for example, and I want to change icon’s color to something different. I’m not even going to implement it here, it’d be way too complicated: we’d have to expose `onHover` callback, introduce state management in every single parent component, set state when the button is hovered, etc, etc.\n\nIt’s not only a very limited and complicated API. We also forced our `Button` component to know about every icon it can render, which means the bundled js of this `Button` will not only include its own code, but also every single icon on the list. That is going to be one heavy button 🙂\n\nThis is where passing components in props come in handy. Instead of passing to the `Button` the detailed limited description of the `Icon` in form of its name and its props, our `Button` can just say: "gimme an `Icon`, I don\'t care which one, your choice, and I\'ll render it in the right place".\n\nLet’s see how it can be done with the three patterns we identified at the beginning:\n\n- passing as an Element\n- passing as a Component\n- passing as a Function\n\n## Building a button with an icon\n\nOr, to be precise, let’s build three buttons, with 3 different APIs for passing the icon, and then compare them. Hopefully, it will be obvious which one is better in the end. For the icon we’re going to use one of the icons from <a href="https://mui.com/components/icons/">material ui components library</a>. Lets start with the basics and just build the API first.\n\n### First: icon as React Element\n\nWe just need to pass an element to the `icon` prop of the button and then render that icon near the children like any other element.\n\n```tsx\ntype ButtonProps = {\n  children: ReactNode;\n  icon: ReactElement<IconProps>;\n};\n\nexport const ButtonWithIconElement = ({ children, icon }: ButtonProps) => {\n  return (\n    <button>\n      // our icon, same as children, is just React element \n      // which we can add directly to the render function\n      {icon}\n      {children}\n    </button>\n  );\n};\n```\n\nAnd then can use it like this:\n\n```tsx\n<ButtonWithIconElement icon={<AccessAlarmIconGoogle />}>button here</ButtonWithIconElement>\n```\n\n### Second: icon as a Component\n\nWe need to create a prop that starts with a capital letter to signal it’s a component, and then render that component from props like any other component.\n\n```tsx\ntype ButtonProps = {\n  children: ReactNode;\n  Icon: ComponentType<IconProps>;\n};\n\nexport const ButtonWithIconComponent = ({ children, Icon }: ButtonProps) => {\n  return (\n    <button>\n      // our button is a component \n      // its name starts with a capital letter to signal that \n      // so we can just render it here as any other\n      component\n      <Icon />\n      {children}\n    </button>\n  );\n};\n```\n\nAnd then can use it like this:\n\n```tsx\nimport AccessAlarmIconGoogle from \'@mui/icons-material/AccessAlarm\';\n\n<ButtonWithIconComponent Icon={AccessAlarmIconGoogle}>button here</ButtonWithIconComponent>;\n```\n\n### Third: icon as a function\n\nWe need to create a prop that starts with `render` to indicate it’s a render function, i.e. a function that returns an element, call the function inside the button and add the result to component’s render function as any other element.\n\n```tsx\ntype ButtonProps = {\n  children: ReactNode;\n  renderIcon: () => ReactElement<IconProps>;\n};\n\nexport const ButtonWithIconRenderFunc = ({ children, renderIcon }: ButtonProps) => {\n  // getting the Element from the function\n  const icon = renderIcon();\n  return (\n    <button>\n      // adding element like any other element here\n      {icon}\n      {children}\n    </button>\n  );\n};\n```\n\nAnd then use it like this:\n\n```tsx\n<ButtonWithIconRenderFunc renderIcon={() => <AccessAlarmIconGoogle />}>button here</ButtonWithIconRenderFunc>\n```\n\nThat was easy! Now our buttons can render any icon in that special icon slot without even knowing what’s there. See the working example <a href="https://codesandbox.io/s/buttons-with-icon-24slt?file=/src/App.tsx">in the codesandbox</a>.\n\nTime to put those APIs to a test.\n\n## Modifying the size and color of the icon\n\nLet’s first see whether we can adjust our icon according to our needs without disturbing the button. After all, that was the major promise of those patterns, isn’t it?\n\n### First: icon as React Element\n\nCouldn’t have been easier: all we need is just pass some props to the icon. We are using material UI icons, they give us `fontSize` and `color` for that.\n\n```tsx\n<ButtonWithIconElement icon={<AccessAlarmIconGoogle fontSize="small" color="warning" />}>button here</ButtonWithIconElement>\n```\n\n### Second: icon as a Component\n\nAlso simple: we need to extract our icon into a component, and pass the props there in the return element.\n\n```tsx\nconst AccessAlarmIcon = () => <AccessAlarmIconGoogle fontSize="small" color="error" />;\n\nconst Page = () => {\n  return <ButtonWithIconComponent Icon={AccessAlarmIcon}>button here</ButtonWithIconComponent>;\n};\n```\n\n**Important**: the `AccessAlarmIcon` component should always be defined outside of the `Page` component, otherwise it will re-create this component on every `Page` re-render, and that is really bad for performance and prone to bugs. If you’re not familiar with how quickly it can turn ugly, this is the article for you: <a href="https://www.developerway.com/posts/how-to-write-performant-react-code">How to write performant React code: rules, patterns, do\'s and don\'ts</a>\n\n### Third: icon as a Function\n\nAlmost the same as the first one: just pass the props to the element.\n\n```tsx\n<ButtonWithIconRenderFunc\n  renderIcon={() => (\n    <AccessAlarmIconGoogle fontSize="small" color="success" />\n  )}\n>\n```\n\nEasily done for all three of them, we have infinite flexibility to modify the `Icon` and didn’t need to touch the button for a single thing. Compare it with `iconName` and `iconProps` from the very first example 🙂\n\n## Default values for the icon size in the button\n\nYou might have noticed, that I used the same icon size for all three examples. And when implementing a generic button component, more likely than not, you’ll have some prop that control button’s size as well. Infinity flexibility is good, but for something as design systems, you’d want some pre-defined types of buttons. And for different buttons sizes, you’d want the button to control the size of the icon, not leave it to the consumer, so you won’t end up with tiny icons in huge buttons or vice versa by accident.\n\nNow it’s getting interesting: is it possible for the button to control one aspect of an icon while leaving the flexibility intact?\n\n### First: icon as React Element\n\nFor this one, it gets a little bit ugly. We receive our icon as a pre-defined element already, so the only thing we can do is to clone that element by using `React.cloneElement` api and override some of its props:\n\n```tsx\n// in the button component\nconst clonedIcon = React.cloneElement(icon, { fontSize: \'small\' });\n\nreturn (\n  <button>\n    {clonedIcon}\n    {children}\n  </button>\n);\n```\n\nAnd at the consumer side we can just remove the `fontSize` property.\n\n```tsx\n<ButtonWithIconElement icon={<AccessAlarmIconGoogle color="warning" />} />\n```\n\nBut what about default value, not overriding? What if I want consumers to be able to change the size of the icon if they need to?\n\nStill possible, although even uglier, just nee to extract the passed props from the element and put them as default value:\n\n```tsx\nconst clonedIcon = React.cloneElement(icon, {\n  fontSize: icon.props.fontSize || \'small\',\n});\n```\n\nFrom the consumer side everything stays as it was before\n\n```tsx\n<ButtonWithIconElement icon={<AccessAlarmIconGoogle color="warning" fontSize="large" />} />\n```\n\n### Second: icon as a Component\n\nEven more interesting here. First, we need to give the icon the default value on button side:\n\n```tsx\nexport const ButtonWithIconComponent = ({ children, Icon }: ButtonProps) => {\n  return (\n    <button>\n      <Icon fontSize="small" />\n      {children}\n    </button>\n  );\n};\n```\n\nAnd this is going to work perfectly when we pass the directly imported icon:\n\n```tsx\nimport AccessAlarmIconGoogle from \'@mui/icons-material/AccessAlarm\';\n\n<ButtonWithIconComponent Icon={AccessAlarmIconGoogle}>button here</ButtonWithIconComponent>;\n```\n\n`Icon` prop is nothing more than just a reference to material UI icon component here, and that one knows how to deal with those props. But we extracted this icon to a component when we had to pass to it some color, remember?\n\n```tsx\nconst AccessAlarmIcon = () => <AccessAlarmIconGoogle fontSize="small" color="error" />;\n```\n\nNow the props\' `Icon` is a reference to that wrapper component, and it just assumes that it doesn’t have any props. So our `fontSize` value from `<Icon fontSize="small" />` from the button will be just swallowed. This whole pattern, if you’ve never worked with it before, can be confusing, since it creates this a bit weird mental circle that you need to navigate in order to understand what goes where.\n\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7wvfy3plrr8icdpiutuu.png)\n\n\nIn order to fix the icon, we just need to pass through the props that `AccessAlarmIcon` receives to the actual icon. Usually, it’s done via spread:\n\n```tsx\nconst AccessAlarmIcon = (props) => <AccessAlarmIconGoogle {...props} color="error" />;\n```\n\nOr can be just hand-picked as well:\n\n```tsx\nconst AccessAlarmIcon = (props) => <AccessAlarmIconGoogle fontSize={props.fontSize} color="error" />;\n```\n\n\n![Image description](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/v0keb5m2s1x46ut1pq8d.png)\n\n\nWhile this pattern seems complicated, it actually gives us perfect flexibility: the button can easily set its own props, and the consumer can choose whether they want to follow the direction buttons gives and how much of it they want, or whether they want to do their own thing. If, for example, I want to override button’s value and set my own icon size, all I need to do is to ignore the prop that comes from the button:\n\n```tsx\nconst AccessAlarmIcon = (props) => (\n  // just ignore all the props coming from the button here\n  // and override with our own values\n  <AccessAlarmIconGoogle fontSize="large" color="error" />\n);\n```\n\n### Third: icon as a Function\n\nThis is going to be pretty much the same as with icon as a Component, only with the function. First, adjust the button to pass settings to the `renderIcon` function:\n\n```tsx\nconst icon = renderIcon({\n  fontSize: \'small\',\n});\n```\n\nAnd then on the consumer side, similar to props in Component step, pass that setting to the rendered component:\n\n```tsx\n<ButtonWithIconRenderFunc renderIcon={(settings) => <AccessAlarmIconGoogle fontSize={settings.fontSize} color="success" />}>\n  button here\n</ButtonWithIconRenderFunc>\n```\n\nAnd again, if we want to override the size, all we need to do is to ignore the setting and pass our own value:\n\n```tsx\n<ButtonWithIconRenderFunc\n  // ignore the setting here and write our own fontSize\n  renderIcon={(settings) => <AccessAlarmIconGoogle fontSize="large" color="success" />}\n>\n  button here\n</ButtonWithIconRenderFunc>\n```\n\nSee <a href="https://codesandbox.io/s/buttons-with-icon-extended-vl6lo?file=/src/App.tsx">the codesandbox</a> with all three examples.\n\n## Changing the icon when the button is hovered\n\nAnd now the final test that should decide everything: I want to give the ability for the users to modify the icon when the button is hovered.\n\nFirst, let’s teach the button to notice the hover. Just some state and callbacks to set that state should do it:\n\n```tsx\nexport const ButtonWithIcon = (...) => {\n  const [isHovered, setIsHovered] = useState(false);\n\n  return (\n    <button\n      onMouseOver={() => setIsHovered(true)}\n      onMouseOut={() => setIsHovered(false)}\n    >\n      ...\n    </button>\n  );\n};\n```\n\nAnd then the icons.\n\n### First: icon as React Element\n\nThat one is the most interesting of the bunch. First, we need to pass that `isHover` prop to the icon from the button:\n\n```tsx\nconst clonedIcon = React.cloneElement(icon, {\n  fontSize: icon.props.fontSize || \'small\',\n  isHovered: isHovered,\n});\n```\n\nAnd now, interestingly enough, we created **exactly the same** mental circle that we had when we implemented “icon as Component”. We passed `isHover` property to the icon component, now we need to go to the consumer, wrap that original icon component into another component, that component will have `isHover` prop from the button, and it should return the icon we want to render in the button. 🤯 If you managed to understand that explanation from just words I’ll send you some chocolate 😅 Here’s some code to make it easier.\n\nInstead of the original simple direct render of the icon:\n\n```tsx\n<ButtonWithIconElement icon={<AccessAlarmIconGoogle color="warning" />}>button here</ButtonWithIconElement>\n```\n\nwe should create a wrapper component that has `isHovered` in its props and renders that icons as a result:\n\n```tsx\nconst AlarmIconWithHoverForElement = (props) => {\n  return (\n    <AccessAlarmIconGoogle\n      // don\'t forget to spread all the props!\n      // otherwise you\'ll lose all the defaults the button is setting\n      {...props}\n      // and just override the color based on the value of `isHover`\n      color={props.isHovered ? \'primary\' : \'warning\'}\n    />\n  );\n};\n```\n\nAnd then render that new component in the button itself:\n\n```tsx\n<ButtonWithIconElement icon={<AlarmIconWithHoverForElement />}>button here</ButtonWithIconElement>\n```\n\nLooks a little bit weird, but it works perfectly 🤷🏽‍♀️\n\n### Second: icon as a Component\n\nFirst, pass the `isHover` to the icon in the button:\n\n```tsx\n<Icon fontSize="small" isHovered={isHovered} />\n```\n\nAnd then back to the consumer. And now the funniest thing ever. In the previous step we created exactly the same mental circle that we need to remember when we’re dealing with components passed as Components. And it’s not just the mental picture of data flow, I can literally **re-use exactly the same component** from the previous step here! They are just components with some props after all:\n\n```tsx\n<ButtonWithIconComponent Icon={AlarmIconWithHoverForElement}>button here</ButtonWithIconComponent>\n```\n\n💥 works perfectly.\n\n### Third: icon as a Function\n\nSame story: just pass the `isHovered` value to the function as the arguments:\n\n```tsx\nconst icon = renderIcon({\n  fontSize: \'small\',\n  isHovered: isHovered,\n});\n```\n\nAnd then use it on the consumer side:\n\n```tsx\n<ButtonWithIconRenderFunc\n  renderIcon={(settings) => (\n    <AccessAlarmIconGoogle\n      fontSize={settings.fontSize}\n      color={settings.isHovered ? "primary" : "warning"}\n    />\n  )}\n>\n```\n\n🎉 again, works perfectly.\n\nTake a look at <a href="https://codesandbox.io/s/buttons-with-icon-and-hover-y4zgl?file=/src/App.tsx">the sandbox</a> with the working solution.\n\n## Summary and the answer: which way is The Right Way™️?\n\nIf you read the full article, you’re probably saying right now: Nadia, aren’t they are basically the same thing? What’s the difference? You promised a clear answer, but I don’t see it 🙁 And you’re right.\n\nAnd if you just scrolled here right away because you love spoilers: I’m sorry, I lied a bit for the sake of the story 😳. There is no right answer here.\n\nAll of them are more or less the same and you probably can implement 99% of the needed use cases (if not 100%) with just one pattern everywhere. The only difference here is semantics, which area has the most complexity, and personal preferences and religious beliefs.\n\nIf I _had to_ extract some general rules of which pattern should be used where, I’d probably go with something like this:\n\n- I’d use “component as an Element” pattern (`<Button icon={<Icon />} />`) for cases, where I just need to render the component in a pre-defined place, without modifying its props in the “receiving” component.\n- I’d use “component as a Component” pattern (`<Button Icon={Icon} />`) when I need to heavily modify and customise this component on the “receiving” side through its props, while at the same time allowing users full flexibility to override those props themselves (pretty much as <a href="https://react-select.com/components">react-select</a> does for `components` prop).\n- I’d use “component as a Function” pattern (`<Button renderIcon={() => <Icon />} />`) when I need the consumer to modify the result of this function, depending on some values coming from the “host” component itself (pretty much what <a href="https://mui.com/components/data-grid/columns/#render-cell">Material UI Data Grid</a> component does with `renderCell` prop)\n\nHope this article made those patterns easier to understand and now you can use all of them when the use case needs it. Or you can now just totally ban any of them in your repo, just for fun or consistency sake, since now you can implement whatever you want with just one pattern 😊\n\nSee ya next time! ✌🏼\n\n\n...\n\nOriginally published at [https://www.developerway.com](https://www.developerway.com). The website has more articles like this 😉\n\n[Subscribe to the newsletter](https://www.developerway.com), [connect on LinkedIn](https://www.linkedin.com/in/adevnadia/) or [follow on Twitter](https://twitter.com/adevnadia) to get notified as soon as the next article comes out.\n\n',t.user={name:"Nadia Makarevich",username:a,twitter_username:a,github_username:a,website_url:"https://www.developerway.com",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--JnKvtJkQ--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/762035/1f7fe6e4-1e60-4c01-80cc-532142263682.jpg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--j3FZXwJO--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/762035/1f7fe6e4-1e60-4c01-80cc-532142263682.jpg"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:t}},error:n,state:{currentArticle:t},serverRendered:!0,routePath:"/adevnadia/989823",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:n}}}}(null,"2022-02-15T08:50:13Z","adevnadia",{})</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
