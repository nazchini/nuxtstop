<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Exploring the CSS Paint API: Blob Animation</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Exploring the CSS Paint API: Blob Animation</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/css" class="tag" data-v-70afb46a>
          #css
        </a><a href="/nuxtstop/t/html" class="tag" data-v-70afb46a>
          #html
        </a><a href="/nuxtstop/t/webdev" class="tag" data-v-70afb46a>
          #webdev
        </a><a href="/nuxtstop/t/tutorial" class="tag" data-v-70afb46a>
          #tutorial
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--aSFJ8pTw--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fi8flx77nzqpmjy2npak.png" alt="Exploring the CSS Paint API: Blob Animation" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            144
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            12
          </span></div> <time data-v-70afb46a>Sep 29 '21</time></div></header> <div class="content" data-v-70afb46a><p>After <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">the fragmentation effect</a>, I am going to tackle another interesting animation: <strong>The Blob!</strong> We all agree that such effect is hard to achieve with CSS, so we generally reach for SVG to make those gooey shapes. But now that the powerful Paint API is available, using CSS is not only possible, but maybe even a preferable approach once browser support comes around.</p>

<p>Here’s what we’re making. It’s just Chrome and Edge support for now, so check this out on one of those browsers as we go along.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sUHv5589--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/overview-blob.gif%3Fresize%3D1024%252C290%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sUHv5589--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/overview-blob.gif%3Fresize%3D1024%252C290%26ssl%3D1" alt="CSS blob animation" loading="lazy" width="880" height="249" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center><a href="https://codepen.io/t_afif/pen/zYwRZwW">Live demo</a></center>
</h4>


<hr>

<h2>
  <a name="building-the-blob" href="#building-the-blob">
  </a>
  Building the blob
</h2>

<p>Let’s understand the logic behind drawing a blob using a classic <code>&lt;canvas></code> element to better illustrate the shape:</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/QWvYdjo?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>When talking about a blob, we’re also talking about the general shape of a distorted circle, so that’s the shape we can use as our base. We define N points that we place around a circle (illustrated in green).<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">CenterX</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">CenterY</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">Radius</span> <span class="o">=</span> <span class="mi">150</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">N</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">[];</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Considering the center point (defined by <code>CenterX</code>/<code>CenterY</code>) and the radius, we calculate the coordinate of each point using some basic trigonometry.</p>

<p>After that, we draw a cubic Bézier curve between our points using <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo">quadraticCurveTo()</a>. To do this, we introduce more points (illustrated in red) because a cubic Bézier curve requires a <strong>start point</strong>, a <strong>control point</strong>, and an <strong>end point</strong>.</p>

<p>The red points are the start and end points, and the green points can be the control points. Each red point is placed at the midpoint between two green points.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span> <span class="cm">/* start the path */</span>
<span class="kd">var</span> <span class="nx">xc1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">yc1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">xc1</span><span class="p">,</span> <span class="nx">yc1</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">yc</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nx">quadraticCurveTo</span><span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">xc</span><span class="p">,</span> <span class="nx">yc</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">quadraticCurveTo</span><span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">xc1</span><span class="p">,</span> <span class="nx">yc1</span><span class="p">);</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span> <span class="cm">/* end the path */</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now all we have to do is to update the position of our control points to create the blob shape. Let’s try with one point by adding the following:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">point</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="mi">3</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
<span class="nx">point</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="mi">3</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><iframe height="600" src="https://codepen.io/t_afif/embed/vYmbgov?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>The third point is closest to the center of our circle (by about <code>50px</code>) and our cubic Bézier curve follows the movement perfectly to keep a curved shape.</p>

<p>Let’s do the same with all the points. We can use the same general idea, changing these existing lines:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>…into:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">50</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Each point is offset by a random value between 0 and 50 pixels, bringing each point closer to the center by a slightly different amount. And we get our blob shape as a result!</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/LYyqWYr?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>Now we apply that shape as a mask on an image using the CSS Paint API. Since we are dealing with a blobby shape, it’s suitable to consider square elements (height equal to width) instead, where the radius is equal to half the width or height.</p>

<p>Here we go using a CSS variable (<code>N</code>) to control the number of points.</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/gOWqmob?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p><sup>I highly recommend reading the first part of <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">my previous article</a> to understand the structure of the Paint API.</sup></p>

<p>Each time the code runs, we get a new shape, thanks to the random configuration.</p>


<hr>

<h2>
  <a name="lets-animate-this" href="#lets-animate-this">
  </a>
  Let’s animate this!
</h2>

<p>Drawing a blog is good and all, but animating it is better! Animating the blob is actually the main purpose of this article, after all. We will see how to create different kinds of gooey blob animations using the same foundation of code.</p>

<p>The main idea is to smoothly adjust the position of the points — whether it’s all or some of them — to transition between two shapes. Let’s start with the basic one: a transition from a circle into a blob by changing the position of one point.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9YxDWFwm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9YxDWFwm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" alt="blob animation" loading="lazy" width="418" height="418" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/oNWmWob">Live demo</a> </center>
</h4>

<p>For this, I introduced a new CSS variable, <code>B</code> , to which I am applying a CSS transition.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight css"><code><span class="k">@property</span> <span class="n">--b</span><span class="p">{</span>
  <span class="py">syntax</span><span class="p">:</span> <span class="s2">'&lt;number>'</span><span class="p">;</span>
  <span class="py">inherits</span><span class="p">:</span> <span class="n">false</span><span class="p">;</span>
  <span class="py">initial-value</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">img</span> <span class="p">{</span>
  <span class="py">--b</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span><span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">img</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="py">--b</span><span class="p">:</span><span class="m">100</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>I get the value of this variable inside the <code>paint()</code> function and use it to define the position of our point.</p>

<p>If you check the code in the embedded linked demo, you will notice this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> 
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="p">;</span>
<span class="k">else</span>
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>All the points have a fixed position (defined by the shape’s radius) but the first point specifically has a variable position, (<code>RADIUS - B</code>). On hover, The value of <code>B</code> is changing from 0 to 100, moving our point closer to the middle while creating that cool effect.</p>

<p>Let’s do this for more points. Not all of them but only the even ones. I will define the position as follow:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ubvvsm9V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-lots-of-points-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ubvvsm9V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-lots-of-points-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" alt="" loading="lazy" width="418" height="418" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/KKmJmxr">Live demo</a> </center>
</h4>

<p>We have our first blob animation! We defined 20 points and are making half of them closer to the center on hover.</p>

<p>We can easily have different blobby variations simply by adjusting the CSS variables. We define the number of points and the final value of the <code>B</code> variable.</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/ZEKwyoW?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>Now let’s try it with some random stuff. Instead of moving our points with a fixed value, let’s make that value random move them all around. We previously used this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Let’s change that to this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>…where <code>random()</code> gives us a value in the range <code>[0 1]</code>. In other words, each point is moved by a random value between <code>0</code> and <code>B</code> . Here’s what we get:</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/poPGryN?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>See that? We get another cool animation with the same code structure. We only changed one instruction. We can make that instruction a variable so we can decide if we want to use the uniform or the random configuration without changing our JavaScript. We introduce another variable, <code>T</code>, that behaves like a boolean:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">if</span><span class="p">(</span><span class="nx">T</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> 
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>
<span class="k">else</span> 
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><iframe height="600" src="https://codepen.io/t_afif/embed/dyWazKE?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>

<p>We have two animations and, thanks to the <code>T</code> variable, we get to decide which one to use. We can control the number of points using <code>N</code> and the distance using the variable <code>V</code>. Yes, a lot of variables but don’t worry, we will sum up everything at the end.</p>

<h4>
  <a name="what-is-that-random-function-doing" href="#what-is-that-random-function-doing">
  </a>
  What is that random() function doing?
</h4>

<p>It’s the same function I used in <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">the previous article</a>. We saw there that we cannot rely on the default built-in function because we need a random function where we are able to control the seed to make sure we always get the same sequence of random values. So the seed value is also another variable that we can control to get a different blob shape. Go change that value manually and see the result.</p>

<p>In the previous article, I mentioned that the Paint API removes all of the complexity on the CSS side of things, and that gives us more flexibility to create complex animations. For example, we can combine what we have done up to this point with keyframes and <code>cubic-bezier()</code>:</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/GRmzbQB?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>


<hr>

<h2>
  <a name="controlling-the-movement-of-the-points" href="#controlling-the-movement-of-the-points">
  </a>
  Controlling the movement of the points
</h2>

<p>In all the blobs we’ve created so far, we considered the same movement for our points. Whether we’re using the uniform configuration or the random one, we always move the points from the edge to the center of the circle following a line.</p>

<p>Now let’s see how we can control that movement in order to get even more animations. The idea behind this logic is simple: we move the x and y differently.</p>

<p>Previously we were doing this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">F</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">F</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>…where <code>F(B)</code> is a function based on the variable B that holds the transition.</p>

<p>Now we will have something like this instead:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">Fx</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">Fy</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>…where we’ve updating the x and y variables differently to makes more animations. Let’s try a few.</p>

<h3>
  <a name="one-axis-movement" href="#one-axis-movement">
  </a>
  One axis movement
</h3>

<p>For this one, we will make one of the functions equal to 0 and keep the other one the same as before. In other words, one coordinate remains fixed along the animation</p>

<p>If we do:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="nx">Fy</span><span class="p">(</span><span class="nx">B</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>…we get:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yklnTj-7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blobs-complex-random.gif%3Fresize%3D526%252C266%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yklnTj-7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blobs-complex-random.gif%3Fresize%3D526%252C266%26ssl%3D1" alt="" loading="lazy" width="526" height="266" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/abWXeZE">Live demo</a> </center>
</h4>

<p>The points are only moving horizontally to get another kind of effect. We can easily do the same for the other axis by making <code>Fx(B)=0</code> (<a href="https://codepen.io/t_afif/pen/XWROvZZ">see a demo</a>).</p>

<p>I think you get the idea. All we have to do is to adjust the functions for each axis to get a different animation.</p>

<h3>
  <a name="left-or-right-movement" href="#left-or-right-movement">
  </a>
  Left or right movement
</h3>

<p>Let’s try another kind of movement. Instead of making the points converging into the center, let’s make them move into the same direction (either right or left). We need a condition based on the location of the point which is defined by the angle.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dyyjq5z3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629058145926_image.png%3Fw%3D762%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dyyjq5z3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629058145926_image.png%3Fw%3D762%26ssl%3D1" alt="" loading="lazy" width="762" height="616"></a></p>

<p>We have two group of points: ones in the <code>[90deg 270deg]</code> range (the left side), and the remaining points along the ride side of the shape. If we consider the indexes, we can express the range differently, like <code>[0.25N 0.75N]</code> where <code>N</code> is the number of points.</p>

<p>The trick is to have a different sign for each group:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">0.75</span><span class="o">*</span><span class="nx">N</span> <span class="o">&&</span> <span class="nx">i</span><span class="o">></span><span class="mf">0.25</span><span class="o">*</span><span class="nx">N</span><span class="p">)</span> 
  <span class="nx">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="cm">/* we invert the sign for the left group */</span>
<span class="k">if</span><span class="p">(</span><span class="nx">T</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> 
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">sign</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>
<span class="k">else</span> 
  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">sign</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">r</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>And we get:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--x0MwGoQp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-one-side.gif%3Fresize%3D260%252C260%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--x0MwGoQp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-one-side.gif%3Fresize%3D260%252C260%26ssl%3D1" alt="" loading="lazy" width="260" height="260" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/ZEKPzoV">Live demo</a> </center>
</h4>

<p>We are able to get the same direction but with one small drawback: one group of the points are going outside the mask area because we are increasing the distance on some points while decreasing the distance on others. We need to reduce the size of our circle to leave enough space for all of our points.</p>

<p>We simply decrease the size of our circle using the <code>V</code> value that defines the final value for our <code>B</code> variable. In other words, it’s the maximum distance that one point can reach.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--jpn4dFYr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/reduced-shape-area.png%3Fw%3D568%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--jpn4dFYr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/reduced-shape-area.png%3Fw%3D568%26ssl%3D1" alt="" loading="lazy" width="568" height="572"></a></p>

<p>Our initial shape (illustrated by the grey area and defined with the green points) will cover a smaller area since we will decrease the Radius value with the value of <code>V</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">V</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--v</span><span class="dl">'</span><span class="p">));</span>
<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">V</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--OnmD7mPe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/one-direction-blob.gif%3Fresize%3D315%252C250%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--OnmD7mPe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/one-direction-blob.gif%3Fresize%3D315%252C250%26ssl%3D1" alt="" loading="lazy" width="315" height="250" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/JjNzodM">Live demo</a> </center>
</h4>

<p>We fixed the issue of the points getting outside but we have another small drawback: the hover-able area is the same, so the effect starts even before the cursor hits the image. It would be good if we can also reduce that area so everything is consistent.</p>

<p>We can use an extra wrapper and a negative margin trick. Here’s <a href="https://codepen.io/t_afif/pen/QWvPXym">the demo</a>. The trick is pretty simple:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight css"><code><span class="nc">.box</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span> <span class="err">*</span> <span class="m">1px</span><span class="p">);</span>
  <span class="py">--t</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span> <span class="err">*</span> <span class="m">-1px</span><span class="p">);</span>
  <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">-webkit-mask</span><span class="p">:</span> <span class="n">paint</span><span class="p">(</span><span class="n">blob</span><span class="p">);</span>
  <span class="py">--b</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span><span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.box</span><span class="nd">:hover</span> <span class="nt">img</span> <span class="p">{</span>
  <span class="py">--b</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The extra wrapper is an inline-block element. The image inside it has negative margins equal to the <code>V</code> variable which reduces the overall size of the shape’s box. Then we disable the hover effect on the image element (using <code>pointer-events: none</code>) so only the box element triggers the transition. Finally we add some margin to the box element to avoid any overlap.</p>

<p>Like the previous effect, this one can also be combined with <code>cubic-bezier()</code> and keyframes to get more cool animations. Below is an example using <a href="https://css-tricks.com/advanced-css-animation-using-cubic-bezier/#sinusoidal-curve">my sinusoidal curve</a> for a wobbling effect on hover.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--pXgW37aw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/sinusoidal-blob.gif%3Fresize%3D309%252C288%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pXgW37aw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/sinusoidal-blob.gif%3Fresize%3D309%252C288%26ssl%3D1" alt="" loading="lazy" width="309" height="288" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/poPYvrR">Live demo</a> </center>
</h4>

<p>If we add some transforms, we can create a kind of strange (but pretty cool) sliding animation:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9UM7b040--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-wobble-slide.gif%3Fresize%3D402%252C246%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9UM7b040--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-wobble-slide.gif%3Fresize%3D402%252C246%26ssl%3D1" alt="" loading="lazy" width="402" height="246" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/qBmwedr">Live demo</a> </center>
</h4>

<h3>
  <a name="circular-movement" href="#circular-movement">
  </a>
  Circular movement
</h3>

<p>Let’s tackle another interesting movement that will allow us to create infinite and “realistic” blob animations. Instead of moving our points from one location to another, we will rotate them around an orbit to have a continuous movement.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Lv0AZsKu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629195334761_image.png%3Fw%3D560%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Lv0AZsKu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629195334761_image.png%3Fw%3D560%26ssl%3D1" alt="" loading="lazy" width="560" height="516"></a></p>

<p>The initial location of our points (in green) will become an orbit and the red circle is the path that our points will take. In other words, each point will rotate around its initial position following a circle having a radius r.</p>

<p>All we need to do is make sure there is no overlap between two adjacent paths so the radius need to have a maximum allowed value.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--so7c2NrR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629196244372_image.png%3Fw%3D608%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--so7c2NrR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629196244372_image.png%3Fw%3D608%26ssl%3D1" alt="" loading="lazy" width="608" height="574"></a></p>

<p>I will not detail the math but the max value is equal to:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="nx">Radius</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">N</span><span class="p">));</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--5GLp_Hwh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-circular.gif%3Fresize%3D326%252C316%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--5GLp_Hwh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-circular.gif%3Fresize%3D326%252C316%26ssl%3D1" alt="" loading="lazy" width="326" height="316" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/wvdZppV">Live demo</a> </center>
</h4>

<p>This is the relevant part of the code:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">(</span><span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="p">(</span><span class="nx">N</span><span class="o">*</span><span class="mi">2</span><span class="p">));</span>
<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">r</span><span class="p">;</span>
<span class="c1">// ...</span>

<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">rr</span> <span class="o">=</span> <span class="nx">r</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">xx</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span>
  <span class="kd">var</span> <span class="nx">yy</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span> 
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">RADIUS</span> <span class="o">+</span> <span class="nx">xx</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">RADIUS</span> <span class="o">+</span> <span class="nx">yy</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>
  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>We get the max value of the radius and we reduce that value from the main radius. Remember that we need to have enough space for our points so we need to reduce the mask area like we did with the previous animation. Then for each point we get a random radius <code>rr</code> (between <code>0</code> and <code>r</code>). Then we calculate the position inside the circular path using <code>xx</code> and <code>yy</code>. And, finally, we place the path around its orbit and get the final position (the <code>x</code>, <code>y</code> values).</p>

<p>Notice the value <code>B</code> which is, as usual, the one with the transition. This time, we will have a transition from 0 to 1 in order to make a full turn around the orbit.</p>

<h3>
  <a name="spiral-movement" href="#spiral-movement">
  </a>
  Spiral movement
</h3>

<p>One more for you! This one is a combination of the two previous ones.</p>

<p>We saw how to move the points around a fixed orbit and how to move a point from the edge of the circle to the center. We can combine both and have our point move around an orbit and we do the same for the orbit by moving it from the edge to the center.</p>

<p>Let’s add an extra variable to our existing code:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">rr</span> <span class="o">=</span> <span class="nx">r</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">xx</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span>
  <span class="kd">var</span> <span class="nx">yy</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span> 

  <span class="kd">var</span> <span class="nx">ro</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">Bo</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">ro</span> <span class="o">+</span> <span class="nx">xx</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">ro</span> <span class="o">+</span> <span class="nx">yy</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>
  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>As you can see, I used the exact same logic as the very first animation we looked at. We reduce the radius with a random value (controlled with <code>Bo</code> in this case).</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--vtCoeJrM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-spiral.gif%3Fresize%3D326%252C316%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vtCoeJrM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-spiral.gif%3Fresize%3D326%252C316%26ssl%3D1" alt="" loading="lazy" width="326" height="316" data-animated="true"></a></p>

<h4>
  <a name="live-demo" href="#live-demo">
  </a>
  <center>
<a href="https://codepen.io/t_afif/pen/GRmaGGg">Live demo</a> </center>
</h4>

<p>Yet another fancy blob animation! Now each element has two animations: one animates the orbit (<code>Bo</code>), and the other animates the point in its circular path (<code>B</code>). Imagine all the effects that you can get by simply adjusting the animation value (duration, ease, etc.)!</p>


<hr>

<h2>
  <a name="putting-everything-together" href="#putting-everything-together">
  </a>
  Putting everything together
</h2>

<p>Oof, we are done with all the animations! I know that some of you may have gotten lost with all the variations and all the variables we introduced, but no worries! We will sum everything up right now and you will see that it’s easier than what might expect.</p>

<p>I want to also highlight that what I have done is not an exhaustive list of all the possible animations. I only tackled a few of them. We can define even more but the main purpose of this article is to understand the overall structure and be able to extend it as needed.</p>

<p>Let’s summarize what we have done and what are the main points:</p>

<ul>
<li><p><strong>The number of points (N)</strong>: This variable is the one that controls the granularity of the blob’s shape. We define it in the CSS and it is later used to define the number of control points.</p></li>
<li><p><strong>The type of movement (T)</strong>: In almost all the animations we looked at, I always considered two kind of animations: a “uniform” animation and a “random” one. I am calling this the type of movement that we can control using the variable <code>T</code> set in the CSS. We will have somewhere in the code to do an if-else based on that <code>T</code> variable.</p></li>
<li><p><strong>The random configuration</strong>: When dealing with random movement, we need to use our own <code>random()</code> function where we can control the seed in order to have the same random sequence for each element. The seed can also be considered a variable, one that generates different shapes.</p></li>
<li><p><strong>The nature of movement</strong>: This is the path that the points take. We can have a lot of variations (From the edge of the circle to the center, a one axis movement, a circular movement, a spiral movement and many others…). Like the type of movement, the nature of the movement can also be made conditional by introducing another variable, and there is no limit to what can be done here. All we have to do is to find the math formula to create another animation.</p></li>
<li><p><strong>The animation variable (B)</strong>: This is the CSS variable that contains the transition/animation. We generally apply a transition/animation from 0 to a certain value (defined in all the examples with the variable <code>V</code>). This variable is used to express the position of our points. Updating that variable logically updates the positions; hence the animations we get. In most cases, we only need to animate one variable, but we can have more based on the nature of the movement (like the spiral one where we used two variables).</p></li>
<li><p><strong>The shape area</strong>: By default, our shape covers the entire element area, but we saw that some movement require the points to go outside the shape. That’s why we had to reduce the area. We generally do this by the maximum value of <code>B</code> (defined by <code>V</code>), or a different value based on the nature of the movement.</p></li>
</ul>

<p>Our code is structured like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">[];</span> 
<span class="cm">/* The center of the element */</span>
<span class="kd">const</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
<span class="cm">/* We read all of the CSS variables */</span>
<span class="kd">const</span> <span class="nx">N</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--n</span><span class="dl">'</span><span class="p">));</span> <span class="cm">/* number of points */</span>
<span class="kd">const</span> <span class="nx">T</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--t</span><span class="dl">'</span><span class="p">));</span> <span class="cm">/* type of movement  */</span>
<span class="kd">const</span> <span class="nx">Na</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--na</span><span class="dl">'</span><span class="p">));</span> <span class="cm">/* nature of movement  */</span>
<span class="kd">const</span> <span class="nx">B</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--b</span><span class="dl">'</span><span class="p">));</span> <span class="cm">/* animation variable */</span>
<span class="kd">const</span> <span class="nx">V</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--v</span><span class="dl">'</span><span class="p">));</span>  <span class="cm">/* max value of B */</span>
<span class="kd">const</span> <span class="nx">seed</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">--seed</span><span class="dl">'</span><span class="p">));</span> <span class="cm">/* the seed */</span>
<span class="c1">// ...</span>

<span class="cm">/* The radius of the shape */</span>
<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">A</span><span class="p">(</span><span class="nx">V</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">);</span>

<span class="cm">/* Our random() function */</span>
<span class="kd">let</span> <span class="nx">random</span> <span class="o">=</span>  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// ...</span>
<span class="p">}</span>
<span class="cm">/* we define the position of our points */</span>
<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
   <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">Fx</span><span class="p">[</span><span class="nx">N</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">](</span><span class="nx">B</span><span class="p">)</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>
   <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">Fy</span><span class="p">[</span><span class="nx">N</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">](</span><span class="nx">B</span><span class="p">)</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>
   <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>
<span class="p">}</span>

<span class="cm">/* We draw the shape, this part is always the same */</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>
<span class="c1">// ...</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
<span class="cm">/* We fill it with a solid color */</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">#000</span><span class="dl">'</span><span class="p">;</span>
<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>As you can see, the code is not as complex as you might have expected. All the work is within those function <code>Fx</code> and <code>Fy</code>, which defines the movement based on <code>N</code>,<code>T</code> and <code>Na</code>. We also have the function <code>A</code> that reduces the size of the shape to prevent points overflowing the shape during the animation.</p>

<p>Let’s check the CSS:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight css"><code><span class="k">@property</span> <span class="n">--b</span> <span class="p">{</span>
  <span class="py">syntax</span><span class="p">:</span> <span class="s2">'&lt;number>'</span><span class="p">;</span>
  <span class="py">inherits</span><span class="p">:</span> <span class="n">false</span><span class="p">;</span>
  <span class="py">initial-value</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">img</span> <span class="p">{</span>
  <span class="nl">-webkit-mask</span><span class="p">:</span><span class="n">paint</span><span class="p">(</span><span class="n">blob</span><span class="p">);</span>
  <span class="py">--n</span><span class="p">:</span> <span class="m">20</span><span class="p">;</span>
  <span class="py">--t</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="py">--na</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="py">--v</span><span class="p">:</span> <span class="m">50</span><span class="p">;</span>
  <span class="py">--seed</span><span class="p">:</span> <span class="m">125</span><span class="p">;</span>
  <span class="py">--b</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">img</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="py">--b</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>I think the code is self-explanatory. You define the variables, apply the mask, and animate the <code>B</code> variable using either a transition or keyframes. That’s all!</p>

<p>I will end this article with a final demo where I put all the variations together. All you have to do is to play with the CSS variables</p>

<p><iframe height="600" src="https://codepen.io/t_afif/embed/JjJPpLy?height=600&default-tab=result&embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width:100%">
</iframe>
</p>


<hr>

<h3>
  <a name="you-want-to-support-me" href="#you-want-to-support-me">
  </a>
  <center>You want to support me?</center>
</h3>

<p><a href="https://www.buymeacoffee.com/afif"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--zQj764Ae--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="buy me a coffee" loading="lazy" width="434" height="100"></a></p>


<center><strong>OR</strong></center>

<p><a href="https://www.patreon.com/temani"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4kAQAgAW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/db3jtgy2i5l4w8slkps5.png" alt="Become a patron" loading="lazy" width="499" height="125"></a></p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/afif/exploring-the-css-paint-api-blob-animation-3djl" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(s,a,n,e){return a.type_of="article",a.id=845126,a.title="Exploring the CSS Paint API: Blob Animation",a.description="After the fragmentation effect, I am going to tackle another interesting animation: The Blob! We all...",a.readable_publish_date="Sep 29 '21",a.slug="exploring-the-css-paint-api-blob-animation-3djl",a.path="/this-is-learning/exploring-the-css-paint-api-blob-animation-3djl",a.url="https://dev.to/this-is-learning/exploring-the-css-paint-api-blob-animation-3djl",a.comments_count=12,a.public_reactions_count=144,a.collection_id=14814,a.published_timestamp=n,a.positive_reactions_count=144,a.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--aSFJ8pTw--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fi8flx77nzqpmjy2npak.png",a.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--ZQDKmQKS--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fi8flx77nzqpmjy2npak.png",a.canonical_url="https://css-tricks.com/exploring-the-css-paint-api-blob-animation/",a.created_at="2021-09-29T09:28:32Z",a.edited_at=s,a.crossposted_at=s,a.published_at=n,a.last_comment_at="2021-12-30T12:13:11Z",a.reading_time_minutes=15,a.tag_list="css, html, webdev, tutorial",a.tags=["css","html","webdev","tutorial"],a.body_html='<p>After <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">the fragmentation effect</a>, I am going to tackle another interesting animation: <strong>The Blob!</strong> We all agree that such effect is hard to achieve with CSS, so we generally reach for SVG to make those gooey shapes. But now that the powerful Paint API is available, using CSS is not only possible, but maybe even a preferable approach once browser support comes around.</p>\n\n<p>Here’s what we’re making. It’s just Chrome and Edge support for now, so check this out on one of those browsers as we go along.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sUHv5589--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/overview-blob.gif%3Fresize%3D1024%252C290%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sUHv5589--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/overview-blob.gif%3Fresize%3D1024%252C290%26ssl%3D1" alt="CSS blob animation" loading="lazy" width="880" height="249" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center><a href="https://codepen.io/t_afif/pen/zYwRZwW">Live demo</a></center>\n</h4>\n\n\n<hr>\n\n<h2>\n  <a name="building-the-blob" href="#building-the-blob">\n  </a>\n  Building the blob\n</h2>\n\n<p>Let’s understand the logic behind drawing a blob using a classic <code>&lt;canvas&gt;</code> element to better illustrate the shape:</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/QWvYdjo?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>When talking about a blob, we’re also talking about the general shape of a distorted circle, so that’s the shape we can use as our base. We define N points that we place around a circle (illustrated in green).<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">CenterX</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>\n<span class="kd">const</span> <span class="nx">CenterY</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>\n<span class="kd">const</span> <span class="nx">Radius</span> <span class="o">=</span> <span class="mi">150</span><span class="p">;</span>\n<span class="kd">const</span> <span class="nx">N</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">[];</span>\n\n<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>\n  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">];</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Considering the center point (defined by <code>CenterX</code>/<code>CenterY</code>) and the radius, we calculate the coordinate of each point using some basic trigonometry.</p>\n\n<p>After that, we draw a cubic Bézier curve between our points using <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo">quadraticCurveTo()</a>. To do this, we introduce more points (illustrated in red) because a cubic Bézier curve requires a <strong>start point</strong>, a <strong>control point</strong>, and an <strong>end point</strong>.</p>\n\n<p>The red points are the start and end points, and the green points can be the control points. Each red point is placed at the midpoint between two green points.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span> <span class="cm">/* start the path */</span>\n<span class="kd">var</span> <span class="nx">xc1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">yc1</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">xc1</span><span class="p">,</span> <span class="nx">yc1</span><span class="p">);</span>\n<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>\n  <span class="kd">var</span> <span class="nx">xc</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>\n  <span class="kd">var</span> <span class="nx">yc</span> <span class="o">=</span> <span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>\n  <span class="nx">ctx</span><span class="p">.</span><span class="nx">quadraticCurveTo</span><span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">xc</span><span class="p">,</span> <span class="nx">yc</span><span class="p">);</span>\n<span class="p">}</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">quadraticCurveTo</span><span class="p">(</span><span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="nx">point</span><span class="p">[</span><span class="nx">N</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">xc1</span><span class="p">,</span> <span class="nx">yc1</span><span class="p">);</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span> <span class="cm">/* end the path */</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now all we have to do is to update the position of our control points to create the blob shape. Let’s try with one point by adding the following:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="nx">point</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="mi">3</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n<span class="nx">point</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="mi">3</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="mi">50</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/vYmbgov?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>The third point is closest to the center of our circle (by about <code>50px</code>) and our cubic Bézier curve follows the movement perfectly to keep a curved shape.</p>\n\n<p>Let’s do the same with all the points. We can use the same general idea, changing these existing lines:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">Radius</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>…into:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">50</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">();</span>\n<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Each point is offset by a random value between 0 and 50 pixels, bringing each point closer to the center by a slightly different amount. And we get our blob shape as a result!</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/LYyqWYr?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>Now we apply that shape as a mask on an image using the CSS Paint API. Since we are dealing with a blobby shape, it’s suitable to consider square elements (height equal to width) instead, where the radius is equal to half the width or height.</p>\n\n<p>Here we go using a CSS variable (<code>N</code>) to control the number of points.</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/gOWqmob?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p><sup>I highly recommend reading the first part of <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">my previous article</a> to understand the structure of the Paint API.</sup></p>\n\n<p>Each time the code runs, we get a new shape, thanks to the random configuration.</p>\n\n\n<hr>\n\n<h2>\n  <a name="lets-animate-this" href="#lets-animate-this">\n  </a>\n  Let’s animate this!\n</h2>\n\n<p>Drawing a blog is good and all, but animating it is better! Animating the blob is actually the main purpose of this article, after all. We will see how to create different kinds of gooey blob animations using the same foundation of code.</p>\n\n<p>The main idea is to smoothly adjust the position of the points — whether it’s all or some of them — to transition between two shapes. Let’s start with the basic one: a transition from a circle into a blob by changing the position of one point.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9YxDWFwm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9YxDWFwm--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" alt="blob animation" loading="lazy" width="418" height="418" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/oNWmWob">Live demo</a> </center>\n</h4>\n\n<p>For this, I introduced a new CSS variable, <code>B</code> , to which I am applying a CSS transition.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight css"><code><span class="k">@property</span> <span class="n">--b</span><span class="p">{</span>\n  <span class="py">syntax</span><span class="p">:</span> <span class="s2">\'&lt;number&gt;\'</span><span class="p">;</span>\n  <span class="py">inherits</span><span class="p">:</span> <span class="n">false</span><span class="p">;</span>\n  <span class="py">initial-value</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nt">img</span> <span class="p">{</span>\n  <span class="py">--b</span><span class="p">:</span><span class="m">0</span><span class="p">;</span>\n  <span class="nl">transition</span><span class="p">:</span><span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nt">img</span><span class="nd">:hover</span> <span class="p">{</span>\n  <span class="py">--b</span><span class="p">:</span><span class="m">100</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>I get the value of this variable inside the <code>paint()</code> function and use it to define the position of our point.</p>\n\n<p>If you check the code in the embedded linked demo, you will notice this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> \n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="p">;</span>\n<span class="k">else</span>\n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>All the points have a fixed position (defined by the shape’s radius) but the first point specifically has a variable position, (<code>RADIUS - B</code>). On hover, The value of <code>B</code> is changing from 0 to 100, moving our point closer to the middle while creating that cool effect.</p>\n\n<p>Let’s do this for more points. Not all of them but only the even ones. I will define the position as follow:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ubvvsm9V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-lots-of-points-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ubvvsm9V--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-lots-of-points-hover.gif%3Fresize%3D418%252C418%26ssl%3D1" alt="" loading="lazy" width="418" height="418" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/KKmJmxr">Live demo</a> </center>\n</h4>\n\n<p>We have our first blob animation! We defined 20 points and are making half of them closer to the center on hover.</p>\n\n<p>We can easily have different blobby variations simply by adjusting the CSS variables. We define the number of points and the final value of the <code>B</code> variable.</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/ZEKwyoW?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>Now let’s try it with some random stuff. Instead of moving our points with a fixed value, let’s make that value random move them all around. We previously used this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Let’s change that to this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>…where <code>random()</code> gives us a value in the range <code>[0 1]</code>. In other words, each point is moved by a random value between <code>0</code> and <code>B</code> . Here’s what we get:</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/poPGryN?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>See that? We get another cool animation with the same code structure. We only changed one instruction. We can make that instruction a variable so we can decide if we want to use the uniform or the random configuration without changing our JavaScript. We introduce another variable, <code>T</code>, that behaves like a boolean:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">if</span><span class="p">(</span><span class="nx">T</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> \n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>\n<span class="k">else</span> \n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/dyWazKE?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n<p>We have two animations and, thanks to the <code>T</code> variable, we get to decide which one to use. We can control the number of points using <code>N</code> and the distance using the variable <code>V</code>. Yes, a lot of variables but don’t worry, we will sum up everything at the end.</p>\n\n<h4>\n  <a name="what-is-that-random-function-doing" href="#what-is-that-random-function-doing">\n  </a>\n  What is that random() function doing?\n</h4>\n\n<p>It’s the same function I used in <a href="https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl">the previous article</a>. We saw there that we cannot rely on the default built-in function because we need a random function where we are able to control the seed to make sure we always get the same sequence of random values. So the seed value is also another variable that we can control to get a different blob shape. Go change that value manually and see the result.</p>\n\n<p>In the previous article, I mentioned that the Paint API removes all of the complexity on the CSS side of things, and that gives us more flexibility to create complex animations. For example, we can combine what we have done up to this point with keyframes and <code>cubic-bezier()</code>:</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/GRmzbQB?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n\n<hr>\n\n<h2>\n  <a name="controlling-the-movement-of-the-points" href="#controlling-the-movement-of-the-points">\n  </a>\n  Controlling the movement of the points\n</h2>\n\n<p>In all the blobs we’ve created so far, we considered the same movement for our points. Whether we’re using the uniform configuration or the random one, we always move the points from the edge to the center of the circle following a line.</p>\n\n<p>Now let’s see how we can control that movement in order to get even more animations. The idea behind this logic is simple: we move the x and y differently.</p>\n\n<p>Previously we were doing this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">F</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">F</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>…where <code>F(B)</code> is a function based on the variable B that holds the transition.</p>\n\n<p>Now we will have something like this instead:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">Fx</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterX</span><span class="p">;</span>\n<span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="nx">Radius</span> <span class="o">-</span> <span class="nx">Fy</span><span class="p">(</span><span class="nx">B</span><span class="p">))</span> <span class="o">+</span> <span class="nx">CenterY</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>…where we’ve updating the x and y variables differently to makes more animations. Let’s try a few.</p>\n\n<h3>\n  <a name="one-axis-movement" href="#one-axis-movement">\n  </a>\n  One axis movement\n</h3>\n\n<p>For this one, we will make one of the functions equal to 0 and keep the other one the same as before. In other words, one coordinate remains fixed along the animation</p>\n\n<p>If we do:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="nx">Fy</span><span class="p">(</span><span class="nx">B</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>…we get:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yklnTj-7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blobs-complex-random.gif%3Fresize%3D526%252C266%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yklnTj-7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blobs-complex-random.gif%3Fresize%3D526%252C266%26ssl%3D1" alt="" loading="lazy" width="526" height="266" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/abWXeZE">Live demo</a> </center>\n</h4>\n\n<p>The points are only moving horizontally to get another kind of effect. We can easily do the same for the other axis by making <code>Fx(B)=0</code> (<a href="https://codepen.io/t_afif/pen/XWROvZZ">see a demo</a>).</p>\n\n<p>I think you get the idea. All we have to do is to adjust the functions for each axis to get a different animation.</p>\n\n<h3>\n  <a name="left-or-right-movement" href="#left-or-right-movement">\n  </a>\n  Left or right movement\n</h3>\n\n<p>Let’s try another kind of movement. Instead of making the points converging into the center, let’s make them move into the same direction (either right or left). We need a condition based on the location of the point which is defined by the angle.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dyyjq5z3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629058145926_image.png%3Fw%3D762%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dyyjq5z3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629058145926_image.png%3Fw%3D762%26ssl%3D1" alt="" loading="lazy" width="762" height="616"></a></p>\n\n<p>We have two group of points: ones in the <code>[90deg 270deg]</code> range (the left side), and the remaining points along the ride side of the shape. If we consider the indexes, we can express the range differently, like <code>[0.25N 0.75N]</code> where <code>N</code> is the number of points.</p>\n\n<p>The trick is to have a different sign for each group:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">sign</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>\n<span class="k">if</span><span class="p">(</span><span class="nx">i</span><span class="o">&lt;</span><span class="mf">0.75</span><span class="o">*</span><span class="nx">N</span> <span class="o">&amp;&amp;</span> <span class="nx">i</span><span class="o">&gt;</span><span class="mf">0.25</span><span class="o">*</span><span class="nx">N</span><span class="p">)</span> \n  <span class="nx">sign</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="cm">/* we invert the sign for the left group */</span>\n<span class="k">if</span><span class="p">(</span><span class="nx">T</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> \n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">sign</span><span class="o">*</span><span class="p">(</span><span class="nx">i</span><span class="o">%</span><span class="mi">2</span><span class="p">);</span>\n<span class="k">else</span> \n  <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">B</span><span class="o">*</span><span class="nx">sign</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">r</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>And we get:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--x0MwGoQp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-one-side.gif%3Fresize%3D260%252C260%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--x0MwGoQp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-one-side.gif%3Fresize%3D260%252C260%26ssl%3D1" alt="" loading="lazy" width="260" height="260" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/ZEKPzoV">Live demo</a> </center>\n</h4>\n\n<p>We are able to get the same direction but with one small drawback: one group of the points are going outside the mask area because we are increasing the distance on some points while decreasing the distance on others. We need to reduce the size of our circle to leave enough space for all of our points.</p>\n\n<p>We simply decrease the size of our circle using the <code>V</code> value that defines the final value for our <code>B</code> variable. In other words, it’s the maximum distance that one point can reach.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--jpn4dFYr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/reduced-shape-area.png%3Fw%3D568%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--jpn4dFYr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/reduced-shape-area.png%3Fw%3D568%26ssl%3D1" alt="" loading="lazy" width="568" height="572"></a></p>\n\n<p>Our initial shape (illustrated by the grey area and defined with the green points) will cover a smaller area since we will decrease the Radius value with the value of <code>V</code>:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">V</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--v</span><span class="dl">\'</span><span class="p">));</span>\n<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">V</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--OnmD7mPe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/one-direction-blob.gif%3Fresize%3D315%252C250%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--OnmD7mPe--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/one-direction-blob.gif%3Fresize%3D315%252C250%26ssl%3D1" alt="" loading="lazy" width="315" height="250" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/JjNzodM">Live demo</a> </center>\n</h4>\n\n<p>We fixed the issue of the points getting outside but we have another small drawback: the hover-able area is the same, so the effect starts even before the cursor hits the image. It would be good if we can also reduce that area so everything is consistent.</p>\n\n<p>We can use an extra wrapper and a negative margin trick. Here’s <a href="https://codepen.io/t_afif/pen/QWvPXym">the demo</a>. The trick is pretty simple:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight css"><code><span class="nc">.box</span> <span class="p">{</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>\n  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>\n  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>\n  <span class="nl">margin</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span> <span class="err">*</span> <span class="m">1px</span><span class="p">);</span>\n  <span class="py">--t</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n<span class="p">}</span>\n\n<span class="nt">img</span> <span class="p">{</span>\n  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>\n  <span class="nl">margin</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span> <span class="err">*</span> <span class="m">-1px</span><span class="p">);</span>\n  <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>\n  <span class="nl">-webkit-mask</span><span class="p">:</span> <span class="n">paint</span><span class="p">(</span><span class="n">blob</span><span class="p">);</span>\n  <span class="py">--b</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n  <span class="nl">transition</span><span class="p">:</span><span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nc">.box</span><span class="nd">:hover</span> <span class="nt">img</span> <span class="p">{</span>\n  <span class="py">--b</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">)</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The extra wrapper is an inline-block element. The image inside it has negative margins equal to the <code>V</code> variable which reduces the overall size of the shape’s box. Then we disable the hover effect on the image element (using <code>pointer-events: none</code>) so only the box element triggers the transition. Finally we add some margin to the box element to avoid any overlap.</p>\n\n<p>Like the previous effect, this one can also be combined with <code>cubic-bezier()</code> and keyframes to get more cool animations. Below is an example using <a href="https://css-tricks.com/advanced-css-animation-using-cubic-bezier/#sinusoidal-curve">my sinusoidal curve</a> for a wobbling effect on hover.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--pXgW37aw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/sinusoidal-blob.gif%3Fresize%3D309%252C288%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pXgW37aw--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/sinusoidal-blob.gif%3Fresize%3D309%252C288%26ssl%3D1" alt="" loading="lazy" width="309" height="288" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/poPYvrR">Live demo</a> </center>\n</h4>\n\n<p>If we add some transforms, we can create a kind of strange (but pretty cool) sliding animation:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9UM7b040--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-wobble-slide.gif%3Fresize%3D402%252C246%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9UM7b040--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-wobble-slide.gif%3Fresize%3D402%252C246%26ssl%3D1" alt="" loading="lazy" width="402" height="246" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/qBmwedr">Live demo</a> </center>\n</h4>\n\n<h3>\n  <a name="circular-movement" href="#circular-movement">\n  </a>\n  Circular movement\n</h3>\n\n<p>Let’s tackle another interesting movement that will allow us to create infinite and “realistic” blob animations. Instead of moving our points from one location to another, we will rotate them around an orbit to have a continuous movement.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Lv0AZsKu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629195334761_image.png%3Fw%3D560%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Lv0AZsKu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629195334761_image.png%3Fw%3D560%26ssl%3D1" alt="" loading="lazy" width="560" height="516"></a></p>\n\n<p>The initial location of our points (in green) will become an orbit and the red circle is the path that our points will take. In other words, each point will rotate around its initial position following a circle having a radius r.</p>\n\n<p>All we need to do is make sure there is no overlap between two adjacent paths so the radius need to have a maximum allowed value.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--so7c2NrR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629196244372_image.png%3Fw%3D608%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--so7c2NrR--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629196244372_image.png%3Fw%3D608%26ssl%3D1" alt="" loading="lazy" width="608" height="574"></a></p>\n\n<p>I will not detail the math but the max value is equal to:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">r</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="nx">Radius</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">N</span><span class="p">));</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--5GLp_Hwh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-circular.gif%3Fresize%3D326%252C316%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--5GLp_Hwh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-circular.gif%3Fresize%3D326%252C316%26ssl%3D1" alt="" loading="lazy" width="326" height="316" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/wvdZppV">Live demo</a> </center>\n</h4>\n\n<p>This is the relevant part of the code:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="p">(</span><span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="p">)</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="o">/</span><span class="p">(</span><span class="nx">N</span><span class="o">*</span><span class="mi">2</span><span class="p">));</span>\n<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">r</span><span class="p">;</span>\n<span class="c1">// ...</span>\n\n<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>\n  <span class="kd">var</span> <span class="nx">rr</span> <span class="o">=</span> <span class="nx">r</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n  <span class="kd">var</span> <span class="nx">xx</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span>\n  <span class="kd">var</span> <span class="nx">yy</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span> \n  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">RADIUS</span> <span class="o">+</span> <span class="nx">xx</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>\n  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">RADIUS</span> <span class="o">+</span> <span class="nx">yy</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>\n  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We get the max value of the radius and we reduce that value from the main radius. Remember that we need to have enough space for our points so we need to reduce the mask area like we did with the previous animation. Then for each point we get a random radius <code>rr</code> (between <code>0</code> and <code>r</code>). Then we calculate the position inside the circular path using <code>xx</code> and <code>yy</code>. And, finally, we place the path around its orbit and get the final position (the <code>x</code>, <code>y</code> values).</p>\n\n<p>Notice the value <code>B</code> which is, as usual, the one with the transition. This time, we will have a transition from 0 to 1 in order to make a full turn around the orbit.</p>\n\n<h3>\n  <a name="spiral-movement" href="#spiral-movement">\n  </a>\n  Spiral movement\n</h3>\n\n<p>One more for you! This one is a combination of the two previous ones.</p>\n\n<p>We saw how to move the points around a fixed orbit and how to move a point from the edge of the circle to the center. We can combine both and have our point move around an orbit and we do the same for the orbit by moving it from the edge to the center.</p>\n\n<p>Let’s add an extra variable to our existing code:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>\n  <span class="kd">var</span> <span class="nx">rr</span> <span class="o">=</span> <span class="nx">r</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n  <span class="kd">var</span> <span class="nx">xx</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span>\n  <span class="kd">var</span> <span class="nx">yy</span> <span class="o">=</span> <span class="nx">rr</span><span class="o">*</span><span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">(</span><span class="nx">B</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">));</span> \n\n  <span class="kd">var</span> <span class="nx">ro</span> <span class="o">=</span> <span class="nx">RADIUS</span> <span class="o">-</span> <span class="nx">Bo</span><span class="o">*</span><span class="nx">random</span><span class="p">();</span>\n  <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">cos</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">ro</span> <span class="o">+</span> <span class="nx">xx</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>\n  <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">sin</span><span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">N</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">))</span> <span class="o">*</span> <span class="nx">ro</span> <span class="o">+</span> <span class="nx">yy</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>\n  <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>As you can see, I used the exact same logic as the very first animation we looked at. We reduce the radius with a random value (controlled with <code>Bo</code> in this case).</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--vtCoeJrM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-spiral.gif%3Fresize%3D326%252C316%26ssl%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vtCoeJrM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-spiral.gif%3Fresize%3D326%252C316%26ssl%3D1" alt="" loading="lazy" width="326" height="316" data-animated="true"></a></p>\n\n<h4>\n  <a name="live-demo" href="#live-demo">\n  </a>\n  <center>\n<a href="https://codepen.io/t_afif/pen/GRmaGGg">Live demo</a> </center>\n</h4>\n\n<p>Yet another fancy blob animation! Now each element has two animations: one animates the orbit (<code>Bo</code>), and the other animates the point in its circular path (<code>B</code>). Imagine all the effects that you can get by simply adjusting the animation value (duration, ease, etc.)!</p>\n\n\n<hr>\n\n<h2>\n  <a name="putting-everything-together" href="#putting-everything-together">\n  </a>\n  Putting everything together\n</h2>\n\n<p>Oof, we are done with all the animations! I know that some of you may have gotten lost with all the variations and all the variables we introduced, but no worries! We will sum everything up right now and you will see that it’s easier than what might expect.</p>\n\n<p>I want to also highlight that what I have done is not an exhaustive list of all the possible animations. I only tackled a few of them. We can define even more but the main purpose of this article is to understand the overall structure and be able to extend it as needed.</p>\n\n<p>Let’s summarize what we have done and what are the main points:</p>\n\n<ul>\n<li><p><strong>The number of points (N)</strong>: This variable is the one that controls the granularity of the blob’s shape. We define it in the CSS and it is later used to define the number of control points.</p></li>\n<li><p><strong>The type of movement (T)</strong>: In almost all the animations we looked at, I always considered two kind of animations: a “uniform” animation and a “random” one. I am calling this the type of movement that we can control using the variable <code>T</code> set in the CSS. We will have somewhere in the code to do an if-else based on that <code>T</code> variable.</p></li>\n<li><p><strong>The random configuration</strong>: When dealing with random movement, we need to use our own <code>random()</code> function where we can control the seed in order to have the same random sequence for each element. The seed can also be considered a variable, one that generates different shapes.</p></li>\n<li><p><strong>The nature of movement</strong>: This is the path that the points take. We can have a lot of variations (From the edge of the circle to the center, a one axis movement, a circular movement, a spiral movement and many others…). Like the type of movement, the nature of the movement can also be made conditional by introducing another variable, and there is no limit to what can be done here. All we have to do is to find the math formula to create another animation.</p></li>\n<li><p><strong>The animation variable (B)</strong>: This is the CSS variable that contains the transition/animation. We generally apply a transition/animation from 0 to a certain value (defined in all the examples with the variable <code>V</code>). This variable is used to express the position of our points. Updating that variable logically updates the positions; hence the animations we get. In most cases, we only need to animate one variable, but we can have more based on the nature of the movement (like the spiral one where we used two variables).</p></li>\n<li><p><strong>The shape area</strong>: By default, our shape covers the entire element area, but we saw that some movement require the points to go outside the shape. That’s why we had to reduce the area. We generally do this by the maximum value of <code>B</code> (defined by <code>V</code>), or a different value based on the nature of the movement.</p></li>\n</ul>\n\n<p>Our code is structured like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">point</span> <span class="o">=</span> <span class="p">[];</span> \n<span class="cm">/* The center of the element */</span>\n<span class="kd">const</span> <span class="nx">cx</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>\n<span class="kd">const</span> <span class="nx">cy</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">height</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>\n<span class="cm">/* We read all of the CSS variables */</span>\n<span class="kd">const</span> <span class="nx">N</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--n</span><span class="dl">\'</span><span class="p">));</span> <span class="cm">/* number of points */</span>\n<span class="kd">const</span> <span class="nx">T</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--t</span><span class="dl">\'</span><span class="p">));</span> <span class="cm">/* type of movement  */</span>\n<span class="kd">const</span> <span class="nx">Na</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--na</span><span class="dl">\'</span><span class="p">));</span> <span class="cm">/* nature of movement  */</span>\n<span class="kd">const</span> <span class="nx">B</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--b</span><span class="dl">\'</span><span class="p">));</span> <span class="cm">/* animation variable */</span>\n<span class="kd">const</span> <span class="nx">V</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--v</span><span class="dl">\'</span><span class="p">));</span>  <span class="cm">/* max value of B */</span>\n<span class="kd">const</span> <span class="nx">seed</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">properties</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">\'</span><span class="s1">--seed</span><span class="dl">\'</span><span class="p">));</span> <span class="cm">/* the seed */</span>\n<span class="c1">// ...</span>\n\n<span class="cm">/* The radius of the shape */</span>\n<span class="kd">const</span> <span class="nx">RADIUS</span> <span class="o">=</span> <span class="nx">size</span><span class="p">.</span><span class="nx">width</span><span class="o">/</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">A</span><span class="p">(</span><span class="nx">V</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">);</span>\n\n<span class="cm">/* Our random() function */</span>\n<span class="kd">let</span> <span class="nx">random</span> <span class="o">=</span>  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>\n  <span class="c1">// ...</span>\n<span class="p">}</span>\n<span class="cm">/* we define the position of our points */</span>\n<span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">N</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>\n   <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">Fx</span><span class="p">[</span><span class="nx">N</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">](</span><span class="nx">B</span><span class="p">)</span> <span class="o">+</span> <span class="nx">cx</span><span class="p">;</span>\n   <span class="kd">var</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">Fy</span><span class="p">[</span><span class="nx">N</span><span class="p">,</span><span class="nx">T</span><span class="p">,</span><span class="nx">Na</span><span class="p">](</span><span class="nx">B</span><span class="p">)</span> <span class="o">+</span> <span class="nx">cy</span><span class="p">;</span>\n   <span class="nx">point</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nx">x</span><span class="p">,</span><span class="nx">y</span><span class="p">];</span>\n<span class="p">}</span>\n\n<span class="cm">/* We draw the shape, this part is always the same */</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>\n<span class="c1">// ...</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>\n<span class="cm">/* We fill it with a solid color */</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="dl">\'</span><span class="s1">#000</span><span class="dl">\'</span><span class="p">;</span>\n<span class="nx">ctx</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>As you can see, the code is not as complex as you might have expected. All the work is within those function <code>Fx</code> and <code>Fy</code>, which defines the movement based on <code>N</code>,<code>T</code> and <code>Na</code>. We also have the function <code>A</code> that reduces the size of the shape to prevent points overflowing the shape during the animation.</p>\n\n<p>Let’s check the CSS:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight css"><code><span class="k">@property</span> <span class="n">--b</span> <span class="p">{</span>\n  <span class="py">syntax</span><span class="p">:</span> <span class="s2">\'&lt;number&gt;\'</span><span class="p">;</span>\n  <span class="py">inherits</span><span class="p">:</span> <span class="n">false</span><span class="p">;</span>\n  <span class="py">initial-value</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n<span class="p">}</span>\n\n<span class="nt">img</span> <span class="p">{</span>\n  <span class="nl">-webkit-mask</span><span class="p">:</span><span class="n">paint</span><span class="p">(</span><span class="n">blob</span><span class="p">);</span>\n  <span class="py">--n</span><span class="p">:</span> <span class="m">20</span><span class="p">;</span>\n  <span class="py">--t</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n  <span class="py">--na</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>\n  <span class="py">--v</span><span class="p">:</span> <span class="m">50</span><span class="p">;</span>\n  <span class="py">--seed</span><span class="p">:</span> <span class="m">125</span><span class="p">;</span>\n  <span class="py">--b</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>\n  <span class="nl">transition</span><span class="p">:</span> <span class="n">--b</span> <span class="m">.5s</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="nt">img</span><span class="nd">:hover</span> <span class="p">{</span>\n  <span class="py">--b</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--v</span><span class="p">);</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>I think the code is self-explanatory. You define the variables, apply the mask, and animate the <code>B</code> variable using either a transition or keyframes. That’s all!</p>\n\n<p>I will end this article with a final demo where I put all the variations together. All you have to do is to play with the CSS variables</p>\n\n<p><iframe height="600" src="https://codepen.io/t_afif/embed/JjJPpLy?height=600&amp;default-tab=result&amp;embed-version=2" scrolling="no" frameborder="no" allowtransparency="true" loading="lazy" style="width: 100%;">\n</iframe>\n</p>\n\n\n<hr>\n\n<h3>\n  <a name="you-want-to-support-me" href="#you-want-to-support-me">\n  </a>\n  <center>You want to support me?</center>\n</h3>\n\n<p><a href="https://www.buymeacoffee.com/afif"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--zQj764Ae--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://cdn.buymeacoffee.com/buttons/default-orange.png" alt="buy me a coffee" loading="lazy" width="434" height="100"></a></p>\n\n\n<center><strong>OR</strong></center>\n\n<p><a href="https://www.patreon.com/temani"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4kAQAgAW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/db3jtgy2i5l4w8slkps5.png" alt="Become a patron" loading="lazy" width="499" height="125"></a></p>\n\n',a.body_markdown="After [the fragmentation effect](https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl), I am going to tackle another interesting animation: **The Blob!** We all agree that such effect is hard to achieve with CSS, so we generally reach for SVG to make those gooey shapes. But now that the powerful Paint API is available, using CSS is not only possible, but maybe even a preferable approach once browser support comes around.\n\nHere’s what we’re making. It’s just Chrome and Edge support for now, so check this out on one of those browsers as we go along.\n\n![CSS blob animation](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/overview-blob.gif?resize=1024%2C290&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/zYwRZwW)</center>\n\n---\n\n## Building the blob\n\nLet’s understand the logic behind drawing a blob using a classic `<canvas>` element to better illustrate the shape:\n\n{% codepen https://codepen.io/t_afif/pen/QWvYdjo %}\n\nWhen talking about a blob, we’re also talking about the general shape of a distorted circle, so that’s the shape we can use as our base. We define N points that we place around a circle (illustrated in green).\n\n```javascript\nconst CenterX = 200;\nconst CenterY = 200;\nconst Radius = 150;\nconst N = 10;\nvar point = [];\n\nfor (var i = 0; i < N; i++) {\n  var x = Math.cos((i / N) * (2 * Math.PI)) * Radius + CenterX;\n  var y = Math.sin((i / N) * (2 * Math.PI)) * Radius + CenterY;\n  point[i] = [x, y];\n}\n```\n\nConsidering the center point (defined by `CenterX`/`CenterY`) and the radius, we calculate the coordinate of each point using some basic trigonometry.\n\nAfter that, we draw a cubic Bézier curve between our points using [quadraticCurveTo()](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/quadraticCurveTo). To do this, we introduce more points (illustrated in red) because a cubic Bézier curve requires a **start point**, a **control point**, and an **end point**.\n\nThe red points are the start and end points, and the green points can be the control points. Each red point is placed at the midpoint between two green points.\n\n```javascript\nctx.beginPath(); /* start the path */\nvar xc1 = (point[0][0] + point[N - 1][0]) / 2;\nvar yc1 = (point[0][1] + point[N - 1][1]) / 2;\nctx.moveTo(xc1, yc1);\nfor (var i = 0; i < N - 1; i++) {\n  var xc = (point[i][0] + point[i + 1][0]) / 2;\n  var yc = (point[i][1] + point[i + 1][1]) / 2;\n  ctx.quadraticCurveTo(point[i][0], point[i][1], xc, yc);\n}\nctx.quadraticCurveTo(point[N - 1][0], point[N - 1][1], xc1, yc1);\nctx.closePath(); /* end the path */\n```\n\nNow all we have to do is to update the position of our control points to create the blob shape. Let’s try with one point by adding the following:\n\n```javascript\npoint[3][0]= Math.cos((3 / N) * (2 * Math.PI)) * (Radius - 50) + CenterX;\npoint[3][1]= Math.sin((3 / N) * (2 * Math.PI)) * (Radius - 50) + CenterY;\n```\n\n{% codepen https://codepen.io/t_afif/pen/vYmbgov %}\n\nThe third point is closest to the center of our circle (by about `50px`) and our cubic Bézier curve follows the movement perfectly to keep a curved shape.\n\nLet’s do the same with all the points. We can use the same general idea, changing these existing lines:\n\n```javascript\nvar x = Math.cos((i / N) * (2 * Math.PI)) * Radius + CenterX;\nvar y = Math.sin((i / N) * (2 * Math.PI)) * Radius + CenterY;\n```\n\n…into:\n\n```javascript\nvar r = 50*Math.random();\nvar x = Math.cos((i / N) * (2 * Math.PI)) * (Radius - r) + CenterX;\nvar y = Math.sin((i / N) * (2 * Math.PI)) * (Radius - r) + CenterY;\n```\n\nEach point is offset by a random value between 0 and 50 pixels, bringing each point closer to the center by a slightly different amount. And we get our blob shape as a result!\n\n{% codepen https://codepen.io/t_afif/pen/LYyqWYr %}\n\nNow we apply that shape as a mask on an image using the CSS Paint API. Since we are dealing with a blobby shape, it’s suitable to consider square elements (height equal to width) instead, where the radius is equal to half the width or height.\n\nHere we go using a CSS variable (`N`) to control the number of points.\n\n{% codepen https://codepen.io/t_afif/pen/gOWqmob %}\n\n<sup>I highly recommend reading the first part of [my previous article](https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl) to understand the structure of the Paint API.</sup>\n\nEach time the code runs, we get a new shape, thanks to the random configuration.\n\n----\n\n## Let’s animate this!\n\nDrawing a blog is good and all, but animating it is better! Animating the blob is actually the main purpose of this article, after all. We will see how to create different kinds of gooey blob animations using the same foundation of code.\n\nThe main idea is to smoothly adjust the position of the points — whether it’s all or some of them — to transition between two shapes. Let’s start with the basic one: a transition from a circle into a blob by changing the position of one point.\n\n![blob animation](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-hover.gif?resize=418%2C418&ssl=1)\n#### <center>[Live demo](https://codepen.io/t_afif/pen/oNWmWob) </center>\n\nFor this, I introduced a new CSS variable, `B` , to which I am applying a CSS transition.\n\n```css\n@property --b{\n  syntax: '<number>';\n  inherits: false;\n  initial-value: 0;\n}\nimg {\n  --b:0;\n  transition:--b .5s;\n}\nimg:hover {\n  --b:100\n}\n```\n\nI get the value of this variable inside the `paint()` function and use it to define the position of our point.\n\nIf you check the code in the embedded linked demo, you will notice this:\n\n```javascript\nif(i==0) \n  var r = RADIUS - B;\nelse\n  var r = RADIUS\n```\n\nAll the points have a fixed position (defined by the shape’s radius) but the first point specifically has a variable position, (`RADIUS - B`). On hover, The value of `B` is changing from 0 to 100, moving our point closer to the middle while creating that cool effect.\n\nLet’s do this for more points. Not all of them but only the even ones. I will define the position as follow:\n\n```javascript\nvar r = RADIUS - B*(i%2);\n```\n\n![](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-lots-of-points-hover.gif?resize=418%2C418&ssl=1)\n#### <center>[Live demo](https://codepen.io/t_afif/pen/KKmJmxr) </center>\n\nWe have our first blob animation! We defined 20 points and are making half of them closer to the center on hover.\n\nWe can easily have different blobby variations simply by adjusting the CSS variables. We define the number of points and the final value of the `B` variable.\n\n{% codepen https://codepen.io/t_afif/pen/ZEKwyoW %}\n\nNow let’s try it with some random stuff. Instead of moving our points with a fixed value, let’s make that value random move them all around. We previously used this:\n\n```javascript\nvar r = RADIUS - B*(i%2);\n```\n\nLet’s change that to this:\n\n```javascript\nvar r = RADIUS - B*random();\n```\n\n…where `random()` gives us a value in the range `[0 1]`. In other words, each point is moved by a random value between `0` and `B` . Here’s what we get:\n\n{% codepen https://codepen.io/t_afif/pen/poPGryN %}\n\nSee that? We get another cool animation with the same code structure. We only changed one instruction. We can make that instruction a variable so we can decide if we want to use the uniform or the random configuration without changing our JavaScript. We introduce another variable, `T`, that behaves like a boolean:\n\n```javascript\nif(T == 0) \n  var r = RADIUS - B*(i%2);\nelse \n  var r = RADIUS - B*random();\n```\n\n{% codepen https://codepen.io/t_afif/pen/dyWazKE %}\n\nWe have two animations and, thanks to the `T` variable, we get to decide which one to use. We can control the number of points using `N` and the distance using the variable `V`. Yes, a lot of variables but don’t worry, we will sum up everything at the end.\n\n#### What is that random() function doing?\n\nIt’s the same function I used in [the previous article](https://dev.to/this-is-learning/exploring-the-css-paint-api-image-fragmentation-effect-3ekl). We saw there that we cannot rely on the default built-in function because we need a random function where we are able to control the seed to make sure we always get the same sequence of random values. So the seed value is also another variable that we can control to get a different blob shape. Go change that value manually and see the result.\n\nIn the previous article, I mentioned that the Paint API removes all of the complexity on the CSS side of things, and that gives us more flexibility to create complex animations. For example, we can combine what we have done up to this point with keyframes and `cubic-bezier()`:\n\n{% codepen https://codepen.io/t_afif/pen/GRmzbQB %}\n\n----\n\n## Controlling the movement of the points\n\nIn all the blobs we’ve created so far, we considered the same movement for our points. Whether we’re using the uniform configuration or the random one, we always move the points from the edge to the center of the circle following a line.\n\nNow let’s see how we can control that movement in order to get even more animations. The idea behind this logic is simple: we move the x and y differently.\n\nPreviously we were doing this:\n\n```javascript\nvar x = Math.cos((i / N) * (2 * Math.PI)) * (Radius - F(B)) + CenterX;\nvar y = Math.sin((i / N) * (2 * Math.PI)) * (Radius - F(B)) + CenterY;\n```\n\n…where `F(B)` is a function based on the variable B that holds the transition.\n\nNow we will have something like this instead:\n\n```javascript\nvar x = Math.cos((i / N) * (2 * Math.PI)) * (Radius - Fx(B)) + CenterX;\nvar y = Math.sin((i / N) * (2 * Math.PI)) * (Radius - Fy(B)) + CenterY;\n```\n\n…where we’ve updating the x and y variables differently to makes more animations. Let’s try a few.\n\n### One axis movement\n\nFor this one, we will make one of the functions equal to 0 and keep the other one the same as before. In other words, one coordinate remains fixed along the animation\n\nIf we do:\n\n```javascript\nFy(B) = 0\n```\n\n…we get:\n\n![](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/blobs-complex-random.gif?resize=526%2C266&ssl=1)\n#### <center>[Live demo](https://codepen.io/t_afif/pen/abWXeZE) </center>\n\nThe points are only moving horizontally to get another kind of effect. We can easily do the same for the other axis by making `Fx(B)=0` ([see a demo](https://codepen.io/t_afif/pen/XWROvZZ)).\n\nI think you get the idea. All we have to do is to adjust the functions for each axis to get a different animation.\n\n### Left or right movement\n\nLet’s try another kind of movement. Instead of making the points converging into the center, let’s make them move into the same direction (either right or left). We need a condition based on the location of the point which is defined by the angle.\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629058145926_image.png?w=762&ssl=1)\n\nWe have two group of points: ones in the `[90deg 270deg]` range (the left side), and the remaining points along the ride side of the shape. If we consider the indexes, we can express the range differently, like `[0.25N 0.75N]` where `N` is the number of points.\n\nThe trick is to have a different sign for each group:\n\n```javascript\nvar sign = 1;\nif(i<0.75*N && i>0.25*N) \n  sign = -1; /* we invert the sign for the left group */\nif(T == 0) \n  var r = RADIUS - B*sign*(i%2);\nelse \n  var r = RADIUS - B*sign*random();\nvar x = Math.cos((i / N) * (2 * Math.PI)) * r + cx;\n```\n\nAnd we get:\n\n![](https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-one-side.gif?resize=260%2C260&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/ZEKPzoV) </center>\n\nWe are able to get the same direction but with one small drawback: one group of the points are going outside the mask area because we are increasing the distance on some points while decreasing the distance on others. We need to reduce the size of our circle to leave enough space for all of our points.\n\nWe simply decrease the size of our circle using the `V` value that defines the final value for our `B` variable. In other words, it’s the maximum distance that one point can reach.\n\n![](https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/08/reduced-shape-area.png?w=568&ssl=1)\n\nOur initial shape (illustrated by the grey area and defined with the green points) will cover a smaller area since we will decrease the Radius value with the value of `V`:\n\n```javascript\nconst V = parseFloat(properties.get('--v'));\nconst RADIUS = size.width/2 - V;\n```\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/one-direction-blob.gif?resize=315%2C250&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/JjNzodM) </center>\n\nWe fixed the issue of the points getting outside but we have another small drawback: the hover-able area is the same, so the effect starts even before the cursor hits the image. It would be good if we can also reduce that area so everything is consistent.\n\nWe can use an extra wrapper and a negative margin trick. Here’s [the demo](https://codepen.io/t_afif/pen/QWvPXym). The trick is pretty simple:\n\n```css\n.box {\n  display: inline-block;\n  border-radius: 50%;\n  cursor: pointer;\n  margin: calc(var(--v) * 1px);\n  --t: 0;\n}\n\nimg {\n  display: block;\n  margin: calc(var(--v) * -1px);\n  pointer-events: none;\n  -webkit-mask: paint(blob);\n  --b: 0;\n  transition:--b .5s;\n}\n.box:hover img {\n  --b: var(--v)\n}\n```\n\nThe extra wrapper is an inline-block element. The image inside it has negative margins equal to the `V` variable which reduces the overall size of the shape’s box. Then we disable the hover effect on the image element (using `pointer-events: none`) so only the box element triggers the transition. Finally we add some margin to the box element to avoid any overlap.\n\nLike the previous effect, this one can also be combined with `cubic-bezier()` and keyframes to get more cool animations. Below is an example using [my sinusoidal curve](https://css-tricks.com/advanced-css-animation-using-cubic-bezier/#sinusoidal-curve) for a wobbling effect on hover.\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/sinusoidal-blob.gif?resize=309%2C288&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/poPYvrR) </center>\n\nIf we add some transforms, we can create a kind of strange (but pretty cool) sliding animation:\n\n![](https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/blob-wobble-slide.gif?resize=402%2C246&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/qBmwedr) </center>\n\n### Circular movement\n\nLet’s tackle another interesting movement that will allow us to create infinite and “realistic” blob animations. Instead of moving our points from one location to another, we will rotate them around an orbit to have a continuous movement.\n\n![](https://i1.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629195334761_image.png?w=560&ssl=1)\n\nThe initial location of our points (in green) will become an orbit and the red circle is the path that our points will take. In other words, each point will rotate around its initial position following a circle having a radius r.\n\nAll we need to do is make sure there is no overlap between two adjacent paths so the radius need to have a maximum allowed value.\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/s_DAC0394A392E87E2414FB8A81BFF7A4BC4102B58AC8FDBA6A77B6A92E284A2F5_1629196244372_image.png?w=608&ssl=1)\n\nI will not detail the math but the max value is equal to:\n\n```javascript\nconst r = 2*Radius*Math.sin(Math.PI/(2*N));\n```\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-circular.gif?resize=326%2C316&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/wvdZppV) </center>\n\nThis is the relevant part of the code:\n\n```javascript\nvar r = (size.width)*Math.sin(Math.PI/(N*2));\nconst RADIUS = size.width/2 - r;\n// ...\n\nfor(var i = 0; i < N; i++) {\n  var rr = r*random();\n  var xx = rr*Math.cos(B * (2 * Math.PI));\n  var yy = rr*Math.sin(B * (2 * Math.PI)); \n  var x = Math.cos((i / N) * (2 * Math.PI)) * RADIUS + xx + cx;\n  var y = Math.sin((i / N) * (2 * Math.PI)) * RADIUS + yy + cy;\n  point[i] = [x,y];\n}\n```\n\nWe get the max value of the radius and we reduce that value from the main radius. Remember that we need to have enough space for our points so we need to reduce the mask area like we did with the previous animation. Then for each point we get a random radius `rr` (between `0` and `r`). Then we calculate the position inside the circular path using `xx` and `yy`. And, finally, we place the path around its orbit and get the final position (the `x`, `y` values).\n\nNotice the value `B` which is, as usual, the one with the transition. This time, we will have a transition from 0 to 1 in order to make a full turn around the orbit.\n\n### Spiral movement\n\nOne more for you! This one is a combination of the two previous ones.\n\nWe saw how to move the points around a fixed orbit and how to move a point from the edge of the circle to the center. We can combine both and have our point move around an orbit and we do the same for the orbit by moving it from the edge to the center.\n\nLet’s add an extra variable to our existing code:\n\n```javascript\nfor(var i = 0; i < N; i++) {\n  var rr = r*random();\n  var xx = rr*Math.cos(B * (2 * Math.PI));\n  var yy = rr*Math.sin(B * (2 * Math.PI)); \n\n  var ro = RADIUS - Bo*random();\n  var x = Math.cos((i / N) * (2 * Math.PI)) * ro + xx + cx;\n  var y = Math.sin((i / N) * (2 * Math.PI)) * ro + yy + cy;\n  point[i] = [x,y];\n}\n```\nAs you can see, I used the exact same logic as the very first animation we looked at. We reduce the radius with a random value (controlled with `Bo` in this case).\n\n![](https://i2.wp.com/css-tricks.com/wp-content/uploads/2021/08/blog-spiral.gif?resize=326%2C316&ssl=1)\n\n#### <center>[Live demo](https://codepen.io/t_afif/pen/GRmaGGg) </center>\n\nYet another fancy blob animation! Now each element has two animations: one animates the orbit (`Bo`), and the other animates the point in its circular path (`B`). Imagine all the effects that you can get by simply adjusting the animation value (duration, ease, etc.)!\n\n----\n\n## Putting everything together\n\nOof, we are done with all the animations! I know that some of you may have gotten lost with all the variations and all the variables we introduced, but no worries! We will sum everything up right now and you will see that it’s easier than what might expect.\n\nI want to also highlight that what I have done is not an exhaustive list of all the possible animations. I only tackled a few of them. We can define even more but the main purpose of this article is to understand the overall structure and be able to extend it as needed.\n\nLet’s summarize what we have done and what are the main points:\n\n* **The number of points (N)**: This variable is the one that controls the granularity of the blob’s shape. We define it in the CSS and it is later used to define the number of control points.\n\n* **The type of movement (T)**: In almost all the animations we looked at, I always considered two kind of animations: a “uniform” animation and a “random” one. I am calling this the type of movement that we can control using the variable `T` set in the CSS. We will have somewhere in the code to do an if-else based on that `T` variable.\n\n* **The random configuration**: When dealing with random movement, we need to use our own `random()` function where we can control the seed in order to have the same random sequence for each element. The seed can also be considered a variable, one that generates different shapes.\n\n* **The nature of movement**: This is the path that the points take. We can have a lot of variations (From the edge of the circle to the center, a one axis movement, a circular movement, a spiral movement and many others…). Like the type of movement, the nature of the movement can also be made conditional by introducing another variable, and there is no limit to what can be done here. All we have to do is to find the math formula to create another animation.\n\n* **The animation variable (B)**: This is the CSS variable that contains the transition/animation. We generally apply a transition/animation from 0 to a certain value (defined in all the examples with the variable `V`). This variable is used to express the position of our points. Updating that variable logically updates the positions; hence the animations we get. In most cases, we only need to animate one variable, but we can have more based on the nature of the movement (like the spiral one where we used two variables).\n\n* **The shape area**: By default, our shape covers the entire element area, but we saw that some movement require the points to go outside the shape. That’s why we had to reduce the area. We generally do this by the maximum value of `B` (defined by `V`), or a different value based on the nature of the movement.\n\nOur code is structured like this:\n\n```javascript\nvar point = []; \n/* The center of the element */\nconst cx = size.width/2;\nconst cy = size.height/2;\n/* We read all of the CSS variables */\nconst N = parseInt(properties.get('--n')); /* number of points */\nconst T = parseInt(properties.get('--t')); /* type of movement  */\nconst Na = parseInt(properties.get('--na')); /* nature of movement  */\nconst B = parseFloat(properties.get('--b')); /* animation variable */\nconst V = parseInt(properties.get('--v'));  /* max value of B */\nconst seed = parseInt(properties.get('--seed')); /* the seed */\n// ...\n\n/* The radius of the shape */\nconst RADIUS = size.width/2 - A(V,T,Na);\n\n/* Our random() function */\nlet random =  function() {\n  // ...\n}\n/* we define the position of our points */\nfor(var i = 0; i < N; i++) {\n   var x = Fx[N,T,Na](B) + cx;\n   var y = Fy[N,T,Na](B) + cy;\n   point[i] = [x,y];\n}\n\n/* We draw the shape, this part is always the same */\nctx.beginPath();\n// ...\nctx.closePath();\n/* We fill it with a solid color */\nctx.fillStyle = '#000';\nctx.fill();\n```\n\nAs you can see, the code is not as complex as you might have expected. All the work is within those function `Fx` and `Fy`, which defines the movement based on `N`,`T` and `Na`. We also have the function `A` that reduces the size of the shape to prevent points overflowing the shape during the animation.\n\nLet’s check the CSS:\n\n```css\n@property --b {\n  syntax: '<number>';\n  inherits: false;\n  initial-value: 0;\n}\n\nimg {\n  -webkit-mask:paint(blob);\n  --n: 20;\n  --t: 0;\n  --na: 1;\n  --v: 50;\n  --seed: 125;\n  --b: 0;\n  transition: --b .5s;\n}\nimg:hover {\n  --b: var(--v);\n}\n```\n\nI think the code is self-explanatory. You define the variables, apply the mask, and animate the `B` variable using either a transition or keyframes. That’s all!\n\nI will end this article with a final demo where I put all the variations together. All you have to do is to play with the CSS variables\n\n{% codepen https://codepen.io/t_afif/pen/JjJPpLy %}\n\n----\n\n### <center>You want to support me?</center>\n\n[![buy me a coffee](https://cdn.buymeacoffee.com/buttons/default-orange.png)](https://www.buymeacoffee.com/afif)\n\n<center>**OR**</center>\n\n[![Become a patron](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/db3jtgy2i5l4w8slkps5.png)](https://www.patreon.com/temani)",a.user={name:"Temani Afif",username:"afif",twitter_username:"ChallengesCss",github_username:"Afif13",website_url:"http://support.temani-afif.com/",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--aDsPd8BD--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/577896/343fde9f-609b-419b-95d1-07d16b320a37.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--h8DxsnjW--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/577896/343fde9f-609b-419b-95d1-07d16b320a37.png"},a.organization={name:"This is Learning",username:e,slug:e,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--Y_qiuPkj--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/3314/dc73eb74-08f9-4592-b599-c08f2bb14b4d.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--YUtYH_M_--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/3314/dc73eb74-08f9-4592-b599-c08f2bb14b4d.png"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:a}},error:s,state:{currentArticle:a},serverRendered:!0,routePath:"/afif/845126",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:s}}}}(null,{},"2021-09-29T12:02:54Z","this-is-learning")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
