<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>a first look at ethers and hardhat</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>a first look at ethers and hardhat</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/etherjs" class="tag" data-v-70afb46a>
          #etherjs
        </a><a href="/nuxtstop/t/hardhat" class="tag" data-v-70afb46a>
          #hardhat
        </a><a href="/nuxtstop/t/solidity" class="tag" data-v-70afb46a>
          #solidity
        </a><a href="/nuxtstop/t/ethereum" class="tag" data-v-70afb46a>
          #ethereum
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BkiX5W8d--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nv9kfg35fvz5aunc0x44.png" alt="a first look at ethers and hardhat" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            12
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            3
          </span></div> <time data-v-70afb46a>Mar 4</time></div></header> <div class="content" data-v-70afb46a><p><a href="https://ethers.org/">ethers.js</a> is a library that aims to be a complete and compact tool for interacting with the Ethereum Blockchain and its ecosystem. This example uses <a href="https://hardhat.org/">Hardhat</a>, an Ethereum development environment, to compile a smart contract and deploy it to <a href="https://ropsten.etherscan.io/">Ropsten</a>, an Ethereum test network that allows for blockchain development testing.</p>

<p>The contract is written in <a href="https://docs.soliditylang.org/">Solidity</a>, an object-oriented, high-level language for implementing smart contracts. After deploying the contract, we will generate a boilerplate React application with <a href="https://vitejs.dev/">Vite</a> and connect the application to our smart contract running on Ropsten. <a href="https://www.alchemy.com/">Alchemy</a> provides a <a href="https://www.infoq.com/articles/blockchain-as-a-service-get-block/">managed node</a> that enables connecting to various tools in the blockchain ecosystem.</p>

<h2>
  <a name="outline" href="#outline">
  </a>
  Outline
</h2>

<ul>
<li>
<a href="#create-project">Create Project</a>

<ul>
<li><a href="#install-dependencies">Install Dependencies</a></li>
<li><a href="#initialize-hardhat-environment">Initialize Hardhat Environment</a></li>
<li><a href="#sample-deployment-script">Sample Deployment Script</a></li>
<li><a href="#hardhat-configuration">Hardhat Configuration</a></li>
<li><a href="#greeter-solidity-contract">Greeter Solidity Contract</a></li>
</ul>


</li>
<li>
<a href="#deploy-to-testnet">Deploy to Testnet</a>

<ul>
<li><a href="#compile-application-binary-interface">Compile Application Binary Interface</a></li>
<li><a href="#start-test-node">Start Test Node</a></li>
<li><a href="#run-deployment-script">Run Deployment Script</a></li>
</ul>


</li>
<li>
<a href="#connect-to-metamask">Connect to MetaMask</a>

<ul>
<li><a href="#import-account-into-metamask">Import Account into MetaMask</a></li>
</ul>


</li>
<li>
<a href="#create-react-app">Create React App</a>

<ul>
<li><a href="#start-development-server">Start Development Server</a></li>
<li><a href="#connect-react-app-to-metamask">Connect React App to MetaMask</a></li>
</ul>


</li>
<li>
<a href="#deploy-to-ropsten-testnet">Deploy to Ropsten Testnet</a>

<ul>
<li><a href="#connect-metamask-to-ropsten">Connect MetaMask to Ropsten</a></li>
<li><a href="#create-an-alchemy-account">Create an Alchemy Account</a></li>
<li><a href="#create-an-alchemy-application">Create an Alchemy Application</a></li>
<li><a href="#get-alchemy-key">Get Alchemy Key</a></li>
<li><a href="#add-alchemy-endpoint-to-hardhat-configuration">Add Alchemy Endpoint to Hardhat Configuration</a></li>
<li><a href="#deploy-contract-to-ropsten">Deploy Contract to Ropsten</a></li>
</ul>


</li>
</ul>

<h2>
  <a name="create-project" href="#create-project">
  </a>
  Create Project
</h2>

<p>This article is heavily based on Nader Dabit's definitive article, <a href="https://dev.to/dabit3/the-complete-guide-to-full-stack-ethereum-development-3j13">The Complete Guide to Full Stack Ethereum Development</a>. I've made a few alternations including using Vite instead of Create React App and the inclusion of <code>dotenv</code> for environment variables but all credit due to Sensei Dabit.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn create vite ajcwebdev-ethers <span class="nt">--template</span> react
<span class="nb">cd </span>ajcwebdev-ethers
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="install-dependencies" href="#install-dependencies">
  </a>
  Install Dependencies
</h3>

<p>In addition to Ethers and Hardhat we will also install <a href="https://ethereum-waffle.readthedocs.io/">Waffle</a> and <a href="https://www.chaijs.com/">Chai</a> for testing our contracts.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn add dotenv ethers hardhat <span class="se">\</span>
  chai @nomiclabs/hardhat-ethers @nomiclabs/hardhat-waffle <span class="se">\</span>
  ethereum-waffle @openzeppelin/contracts
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Create a <code>.env</code> file to store environment variables later in the tutorial.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">touch</span> .env
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The file will include the following three variables:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>ALCHEMY_URL=
ALCHEMY_KEY=
VITE_GREETER_ADDRESS=
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="initialize-hardhat-environment" href="#initialize-hardhat-environment">
  </a>
  Initialize Hardhat Environment
</h3>

<p>Developing smart contracts requires the ability to deploy your contracts, run tests, and debug Solidity code. We will also need a way to compile Solidity code into code that can be run in a client-side application. Hardhat compiles your contracts and runs them on a development network. This lets you develop without having to deal with live environments.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn hardhat
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Choose <code>Create a basic sample project</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>ðŸ‘· Welcome to Hardhat v2.8.0 ðŸ‘·

âœ” What do you want to do? Â· Create a basic sample project
âœ” Hardhat project root: Â· /Users/ajcwebdev/ajcwebdev-ethers
âœ” Do you want to add a .gitignore? (Y/n) Â· y

âœ¨ Project created âœ¨

See the README.txt file for some example tasks you can run.
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This creates the following files/directories:</p>

<ul>
<li>
<code>hardhat.config.js</code> - Entire Hardhat setup including config, plugins, and custom tasks.</li>
<li>
<code>scripts</code> - Contains a script named <code>sample-script.js</code> that deploys your smart contract when executed</li>
<li>
<code>test</code> - Contains an example testing script</li>
<li>
<code>contracts</code> - Contains an example Solidity smart contract</li>
</ul>

<h3>
  <a name="sample-deployment-script" href="#sample-deployment-script">
  </a>
  Sample Deployment Script
</h3>

<p>In <code>sample-script.js</code> we use <code>getContractFactory</code> to create a <code>ContractFactory</code>, an abstraction used to deploy new smart contracts.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// scripts/sample-script.js</span>

<span class="kd">const</span> <span class="nx">hre</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">)</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">Greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getContractFactory</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter</span><span class="dl">"</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello, Hardhat!</span><span class="dl">"</span><span class="p">)</span>
  <span class="k">await</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployed</span><span class="p">()</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed to:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=></span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><code>Greeter</code> is a factory for instances of our greeting contract. Calling <code>deploy()</code> on a <code>ContractFactory</code> will start the deployment, and return a <code>Promise</code> that resolves to a <code>Contract</code>. This is the object that has a method for each of your smart contract functions. Modify the text to send your own message.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello from ajcwebdev!</span><span class="dl">"</span><span class="p">)</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>I'll also add a few more console logs to the <code>main</code> function to log additional pieces of information including the <code>signer</code>, <code>hash</code>, and <code>blockHash</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// scripts/sample-script.js</span>

<span class="kd">const</span> <span class="nx">hre</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">)</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">Greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getContractFactory</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter</span><span class="dl">"</span><span class="p">)</span>
  <span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello from ajcwebdev!</span><span class="dl">"</span><span class="p">)</span>
  <span class="k">await</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployed</span><span class="p">()</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">address</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> address</span><span class="dl">"</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed by </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">greeter</span><span class="p">.</span><span class="nx">signer</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> signer</span><span class="dl">"</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploy transaction hash: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployTransaction</span><span class="p">.</span><span class="nx">hash</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploy transaction block hash: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployTransaction</span><span class="p">.</span><span class="nx">blockHash</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">main</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=></span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="p">})</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="hardhat-configuration" href="#hardhat-configuration">
  </a>
  Hardhat Configuration
</h3>

<p>When Hardhat is run, it searches for the closest <code>hardhat.config.js</code> file starting from the current working directory. This file normally lives in the root of your project. The entirety of your Hardhat setup, including your config, plugins and custom tasks, is contained in this file.</p>

<p>We need to make a couple changes to our <code>hardhat.config.js</code> file. Update the chain ID to <a href="https://hardhat.org/metamask-issue.html">1337</a> and change the location for the <a href="https://hardhat.org/guides/compile-contracts.html#artifacts">artifacts</a> of the compiled contracts to the <code>src</code> directory of the React app.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// hardhat.config.js</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@nomiclabs/hardhat-waffle</span><span class="dl">"</span><span class="p">)</span>

<span class="nx">task</span><span class="p">(</span><span class="dl">"</span><span class="s2">accounts</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Prints the list of accounts</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">taskArgs</span><span class="p">,</span> <span class="nx">hre</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getSigners</span><span class="p">()</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">account</span> <span class="k">of</span> <span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="cm">/**
 * @type import('hardhat/config').HardhatUserConfig
 */</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">solidity</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.8.7</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">artifacts</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/artifacts</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">networks</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hardhat</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">chainId</span><span class="p">:</span> <span class="mi">1337</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="greeter-solidity-contract" href="#greeter-solidity-contract">
  </a>
  Greeter Solidity Contract
</h3>

<p>Solidity files start with a pragma that is used by the Solidity compiler to validate its version. <code>contract</code> specifies the main building block for the smart contract, which is named <code>Greeter</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>

<span class="c1">//SPDX-License-Identifier: MIT</span>
<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">0</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">hardhat/console.sol</span><span class="dl">"</span>

<span class="nx">contract</span> <span class="nx">Greeter</span> <span class="p">{</span> <span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The <code>constructor</code> is executed only once when the contract is created. The <code>Greeter</code> constructor will set a <code>greeting</code> variable and expose a function (<code>greet</code>) that can be called to return the <code>greeting</code>. It also exposes a function called <code>setGreeting</code> that allows a user to update the greeting.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>

<span class="c1">//SPDX-License-Identifier: MIT</span>
<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">0</span>

<span class="k">import</span> <span class="dl">"</span><span class="s2">hardhat/console.sol</span><span class="dl">"</span>

<span class="nx">contract</span> <span class="nx">Greeter</span> <span class="p">{</span>
  <span class="nx">string</span> <span class="kr">private</span> <span class="nx">greeting</span>

  <span class="kd">constructor</span><span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span> <span class="nx">_greeting</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploying a Greeter with greeting: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">_greeting</span><span class="p">)</span>
    <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">_greeting</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">greet</span><span class="p">()</span> <span class="kr">public</span> <span class="nx">view</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">greeting</span>
  <span class="p">}</span>

  <span class="kd">function</span> <span class="nx">setGreeting</span><span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span> <span class="nx">_greeting</span><span class="p">)</span> <span class="kr">public</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Changing greeting from '%s' to '%s'</span><span class="dl">"</span><span class="p">,</span> <span class="nx">greeting</span><span class="p">,</span> <span class="nx">_greeting</span><span class="p">)</span>
    <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">_greeting</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>These methods will be available for a user to interact with when deployed to the Ethereum blockchain. These methods represent the two ways of interacting with a smart contract:</p>

<ul>
<li>
<code>greet</code> reads from the blockchain and does not require money for <a href="https://www.investopedia.com/terms/g/gas-ethereum.asp">gas</a>.</li>
<li>
<code>setGreeting</code> writes to the blockchain and requires payment for the transaction if you want to deploy to <a href="https://ethereum.org/en/glossary/#mainnet">mainnet</a> and not a <a href="https://ethereum.org/en/glossary/#testnet">testnet</a>.</li>
</ul>

<p>Change the version of Solidity to match the <code>hardhat.config.js</code> file.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>

<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">7</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h2>
  <a name="deploy-to-testnet" href="#deploy-to-testnet">
  </a>
  Deploy to Testnet
</h2>

<p>To deploy to the local network, you first need to compile your contract and then start a local test node. Our React app will interact with the smart contract using a combination of the Ethers library, the contract address, and the ABI that will be created from the contract by <code>hardhat</code>.</p>

<h3>
  <a name="compile-application-binary-interface" href="#compile-application-binary-interface">
  </a>
  Compile Application Binary Interface
</h3>

<p>ABI stands for application binary interface. It is the interface between your client-side application and the Ethereum blockchain where the smart contract you are going to be interacting with is deployed.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn hardhat compile
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>ABIs are typically compiled from Solidity smart contracts by a development framework like Hardhat. You can also often find the ABIs for a smart contract on <a href="https://etherscan.io/">Etherscan</a>.</p>

<h3>
  <a name="start-test-node" href="#start-test-node">
  </a>
  Start Test Node
</h3>



<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn hardhat node
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This will return a list of addresses and private keys.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Started HTTP and WebSocket JSON-RPC server at http://127.0.0.1:8545/

Accounts
========
Account #0: 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266 (10000 ETH)
Private Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

Account #1: 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 (10000 ETH)
Private Key: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d

...
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>We will need to pick an account and corresponding private key. I will use Account #11:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Account #11: 0x71be63f3384f5fb98995898a86b02fb2426c5788 (10000 ETH)
Private Key: 0x701b615bbdfb9de65240bc28bd21bbc0d996645a3dd57e7b12bc2bdf6f192c82
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Leave this terminal running and open another for the next command.</p>

<h3>
  <a name="run-deployment-script" href="#run-deployment-script">
  </a>
  Run Deployment Script
</h3>

<p>Change the name of <code>sample-script.js</code> to <code>deploy.js</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">mv </span>scripts/sample-script.js scripts/deploy.js
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Run the deploy script and give a flag to the CLI to let it know that we would like to deploy to our local network:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn hardhat run scripts/deploy.js <span class="se">\</span>
  <span class="nt">--network</span> localhost
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This will result in the following output in your terminal:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Greeter deployed to 0x5FbDB2315678afecb367f032d93F642f64180aa3 address
Greeter deployed by "&lt;SignerWithAddress 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266>" signer
Deploy transaction hash: 0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1
Deploy transaction block hash: 0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The address returned on the first line (<code>0x5FbDB2315678afecb367f032d93F642f64180aa3</code>) is what we will use in our client application to talk to the smart contract. Save this address somewhere that you can access later as we will need to use it when connecting to the contract from the client application.</p>

<h2>
  <a name="connect-to-metamask" href="#connect-to-metamask">
  </a>
  Connect to MetaMask
</h2>

<p>To send transactions to the smart contract, we will need to connect our MetaMask wallet using one of the accounts created when we ran <code>yarn hardhat node</code>. In the terminal running our local node, you will see the following output verifying that the <code>Greeter</code> contract was successfully deployed.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>web3_clientVersion
eth_chainId
eth_accounts
eth_blockNumber
eth_chainId (2)
eth_estimateGas
eth_getBlockByNumber
eth_feeHistory
eth_sendTransaction
  Contract deployment: Greeter
  Contract address:    0x5fbdb2315678afecb367f032d93f642f64180aa3
  Transaction:         0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1
  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266
  Value:               0 ETH
  Gas used:            505488 of 505488
  Block #1:            0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395

  console.log:
    Deploying a Greeter with greeting: Hello from ajcwebdev!

eth_chainId
eth_getTransactionByHash
eth_chainId
eth_getTransactionReceipt
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>In the list of contracts that the CLI logs out, you should see both an Account number as well as a Private Key for the account you originally chose at the beginning of the tutorial. We can import this account into MetaMask in order to start using some of its fake Eth. To do so, first open MetaMask and check the available networks.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0NHLsSGh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dsuehp9d7vb1mfylez2q.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0NHLsSGh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dsuehp9d7vb1mfylez2q.png" alt="01-check-metamask-networks" loading="lazy" width="880" height="847"></a></p>

<p>If you only see the Ethereum Mainnet, go to Settings > Advanced and make sure "Show test networks" is set to ON.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--T9v_MLik--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8bxwvd2v3uz093u2hoe3.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--T9v_MLik--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8bxwvd2v3uz093u2hoe3.png" alt="02-set-metamask-to-localhost8545" loading="lazy" width="880" height="857"></a></p>

<p>Update the network to Localhost 8545.</p>

<h3>
  <a name="import-account-into-metamask" href="#import-account-into-metamask">
  </a>
  Import Account into MetaMask
</h3>

<p>Once you are connected to Localhost 8545, click the icon at the top right to see your accounts. Select "Import Account."</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---KDuROPU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cskqw7cw2h5g7532zc92.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---KDuROPU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cskqw7cw2h5g7532zc92.png" alt="03-import-account-into-metamask" loading="lazy" width="880" height="637"></a></p>

<p>Go back to the list of accounts printed by <code>yarn hardhat node</code> and copy the account's private keys. I'll be using Account #11.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--znBknVG6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sxzhie84g1jqarghftuv.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--znBknVG6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sxzhie84g1jqarghftuv.png" alt="04-paste-private-key-to-import-account" loading="lazy" width="880" height="643"></a></p>

<p>After importing the account you will see ether in the account.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--RXT1lN6o--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvx212ng4nyagzbt7rge.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RXT1lN6o--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvx212ng4nyagzbt7rge.png" alt="05-ether-account-balance-in-metamask" loading="lazy" width="880" height="846"></a></p>

<p>If you are using MetaMask for other purposes, it will be important to distinguish this account from an account that is actually holding funds. Go to "Account details."</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8gslCocq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bowt63izdzaa5anjaccu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8gslCocq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bowt63izdzaa5anjaccu.png" alt="06-get-account-details-in-metamask" loading="lazy" width="880" height="401"></a></p>

<p>Click the pencil icon next to the account name to give it a more descriptive name.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BxdxSBvy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5hst60nomgcxutmt5c0y.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BxdxSBvy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5hst60nomgcxutmt5c0y.png" alt="07-rename-account-to-hardhat-account-11" loading="lazy" width="880" height="651"></a></p>

<h2>
  <a name="create-react-app" href="#create-react-app">
  </a>
  Create React App
</h2>

<p>Set <code>greeterAddress</code> to the contract address logged out to the CLI when it was deployed. I have created an environment variable named <code>VITE_GREETER_ADDRESS</code> in a <code>.env</code> file. Any environment variables that need to be exposed on the client must be prefixed with <code>VITE_</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">ethers</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>We'll import the <code>useState</code> hook and set the state to <code>greeting</code> with <code>setGreetingValue</code>. <code>fetchGreeting</code> will call the smart contract and read the current greeting value.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">ethers</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">greeting</span><span class="p">,</span> <span class="nx">setGreetingValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">()</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">requestAccount</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span> <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">eth_requestAccounts</span><span class="dl">'</span> <span class="p">})</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchGreeting</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">provider</span><span class="p">)</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">greet</span><span class="p">()</span>
        <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Greeting: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Contract Address: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Contract Network: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">_network</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">}</span>    
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">header</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">></span>Ethers.js, Hardhat, Solidity, ENS<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">></span>and React, Alchemy, and MetaMask<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">></span>
      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">></span>

      <span class="p">&lt;</span><span class="nt">main</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">></span>Greeting<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">></span>

        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">fetchGreeting</span><span class="si">}</span><span class="p">></span>
          Fetch Greeting
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>

        <span class="p">&lt;</span><span class="nt">div</span><span class="p">></span><span class="si">{</span><span class="nx">greeting</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">></span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>I'll include Water.css in <code>index.html</code> for some nice looking CSS defaults.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight html"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/water.css@2/out/water.css"</span><span class="nt">></span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="start-development-server" href="#start-development-server">
  </a>
  Start Development Server
</h3>

<p>Start the development server with <code>yarn dev</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Open <a href="http://localhost:3000">localhost:3000</a>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--MwJKQEuh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zkoxpx53ht60b3o7ki34.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--MwJKQEuh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zkoxpx53ht60b3o7ki34.png" alt="08-react-app-on-localhost-3000-with-fetch-greeting-button" loading="lazy" width="880" height="315"></a></p>

<p>Click the "Fetch Greeting" button to display the greeting from the deployed contract.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6RxSH0Lz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a26a1vq1urbtvaewprp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6RxSH0Lz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a26a1vq1urbtvaewprp.png" alt="09-greeting-displayed-after-clicking-fetch-greeting-button" loading="lazy" width="880" height="290"></a></p>

<p><code>setGreeting</code> calls the smart contract and sends an update.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">ethers</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">greeting</span><span class="p">,</span> <span class="nx">setGreetingValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">()</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">requestAccount</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span> <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">eth_requestAccounts</span><span class="dl">'</span> <span class="p">})</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchGreeting</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">provider</span><span class="p">)</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">greet</span><span class="p">()</span>
        <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Greeting: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Contract Address: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Contract Network: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">_network</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
      <span class="p">}</span>
    <span class="p">}</span>    
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">function</span> <span class="nx">setGreeting</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">greeting</span><span class="p">)</span> <span class="k">return</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">undefined</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nx">requestAccount</span><span class="p">()</span>
      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">signer</span> <span class="o">=</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">getSigner</span><span class="p">()</span>
      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">signer</span><span class="p">)</span>
      <span class="kd">const</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">setGreeting</span><span class="p">(</span><span class="nx">greeting</span><span class="p">)</span>
      <span class="k">await</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">wait</span><span class="p">()</span>
      <span class="nx">fetchGreeting</span><span class="p">()</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">></span>
      <span class="p">&lt;</span><span class="nt">header</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">></span>Ethers.js, Hardhat, Solidity, ENS<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">></span>and React, Alchemy, and MetaMask<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">></span>
      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">></span>

      <span class="p">&lt;</span><span class="nt">main</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">></span>Greeting<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">></span>

        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">fetchGreeting</span><span class="si">}</span><span class="p">></span>
          Fetch Greeting
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
        <span class="p">&lt;</span><span class="nt">div</span><span class="p">></span><span class="si">{</span><span class="nx">greeting</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>

        <span class="p">&lt;</span><span class="nt">input</span>
          <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">e</span> <span class="o">=></span> <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>
          <span class="na">placeholder</span><span class="p">=</span><span class="s">"Set greeting"</span> 
        <span class="p">/></span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">setGreeting</span><span class="si">}</span><span class="p">></span>
          Set Greeting
        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">></span>
      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">></span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="connect-react-app-to-metamask" href="#connect-react-app-to-metamask">
  </a>
  Connect React App to MetaMask
</h3>

<p>Select account to connect with MetaMask.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BwghNKqW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rytdc1cj071kk4xcm27v.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BwghNKqW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rytdc1cj071kk4xcm27v.png" alt="10-select-account-to-connect-with-metamask" loading="lazy" width="880" height="609"></a></p>

<p>Connect to the account.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--eIwC0DmM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qft6ta0lj5xhk4i0knu8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--eIwC0DmM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qft6ta0lj5xhk4i0knu8.png" alt="11-connect-to-account-with-metamask" loading="lazy" width="880" height="610"></a></p>

<p>Enter input and click Set Greeting. You will be asked to pay a gas fee.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XY6Pe6Xl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xppbyh6zwtqgacjojjax.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XY6Pe6Xl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xppbyh6zwtqgacjojjax.png" alt="12-pay-gas-fee" loading="lazy" width="880" height="688"></a></p>

<p>The greeting value will be set to the new inputted greeting.</p>

<h2>
  <a name="deploy-to-ropsten-testnet" href="#deploy-to-ropsten-testnet">
  </a>
  Deploy to Ropsten Testnet
</h2>

<p>Ethereum provides test networks like Ropsten, Rinkeby, or Kovan that we can use to deploy a publicly accessible version of our contract without having to deploy it to the mainnet.</p>

<h3>
  <a name="connect-metamask-to-ropsten" href="#connect-metamask-to-ropsten">
  </a>
  Connect MetaMask to Ropsten
</h3>

<p>Update your MetaMask wallet to connect to the <a href="https://ropsten.etherscan.io/">Ropsten</a> network.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VbHNbX6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xeefv78bpy2vj1i1xdi8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VbHNbX6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xeefv78bpy2vj1i1xdi8.png" alt="13-change-to-ropsten-testnet" loading="lazy" width="710" height="1194"></a></p>

<p>We can get access to Ropsten and other test networks by using a service like <a href="https://infura.io/">Infura</a>, <a href="https://www.alchemy.com/">Alchemy</a>, or <a href="https://www.quicknode.com/">QuickNode</a>.</p>

<h3>
  <a name="create-an-alchemy-account" href="#create-an-alchemy-account">
  </a>
  Create an Alchemy Account
</h3>

<p>Alchemy Supernode is a blockchain API that can connect to various tools in the blockchain ecosystem such as Ethereum, Polygon, Arbitrum, Optimism, and Flow. It provides common node functionality including JSON-RPC support with built in reliability, data correctness and scalability. After creating an account, you will see your dashboard.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--1YxCMsA3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1w8axkijbifzcfa9lqu7.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--1YxCMsA3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1w8axkijbifzcfa9lqu7.png" alt="14-alchemy-dashboard" loading="lazy" width="880" height="354"></a></p>

<h3>
  <a name="create-an-alchemy-application" href="#create-an-alchemy-application">
  </a>
  Create an Alchemy Application
</h3>

<p>Click <strong>Create App</strong> and give your app a name and description. Select development for the environment, Ethereum for the chain, and Ropsten for the network.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--CjwlIqsJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/drxvimw53jqlu4nrmcii.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CjwlIqsJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/drxvimw53jqlu4nrmcii.png" alt="15-create-app-on-alchemy" loading="lazy" width="880" height="446"></a></p>

<p>After creating the app you will see it appear in your dashboard.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--i9PHzwQT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0fpw8akulm90jgp6vup0.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--i9PHzwQT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0fpw8akulm90jgp6vup0.png" alt="16-alchemy-dashboard-with-ajcwebdev-ethers-app" loading="lazy" width="880" height="183"></a></p>

<h3>
  <a name="get-alchemy-key" href="#get-alchemy-key">
  </a>
  Get Alchemy Key
</h3>

<p>Click the name of the app to see more details.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IkcbjgMT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qjzpqe9zgmo3nzcstkmy.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IkcbjgMT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qjzpqe9zgmo3nzcstkmy.png" alt="17-alchemy-app-view-details" loading="lazy" width="880" height="342"></a></p>

<p>Click <strong>View Key</strong> to see your endpoints.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_cc7X0Dr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nvxdpozaswc9u4fy4ccc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_cc7X0Dr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nvxdpozaswc9u4fy4ccc.png" alt="18-alchemy-endpoints" loading="lazy" width="880" height="313"></a></p>

<p>The https endpoint will look something like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>https://eth-ropsten.alchemyapi.io/v2/PROJECT_ID
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Click <strong>Edit App</strong> and add the account address from <code>App.jsx</code> to the allowed accounts.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ODM25BjP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ved13q0s5d1lrgnmofu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ODM25BjP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ved13q0s5d1lrgnmofu.png" alt="19-allowed-addresses" loading="lazy" width="880" height="625"></a></p>

<h3>
  <a name="add-alchemy-endpoint-to-hardhat-configuration" href="#add-alchemy-endpoint-to-hardhat-configuration">
  </a>
  Add Alchemy Endpoint to Hardhat Configuration
</h3>

<p>Open <code>hardhat.config.js</code> and add <code>networks</code> property.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="c1">// hardhat.config.js</span>

<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@nomiclabs/hardhat-waffle</span><span class="dl">"</span><span class="p">)</span>
<span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">dotenv</span><span class="dl">'</span><span class="p">).</span><span class="nx">config</span><span class="p">()</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">ALCHEMY_URL</span><span class="p">,</span> <span class="nx">ALCHEMY_KEY</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span>

<span class="nx">task</span><span class="p">(</span><span class="dl">"</span><span class="s2">accounts</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Prints the list of accounts</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">taskArgs</span><span class="p">,</span> <span class="nx">hre</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getSigners</span><span class="p">()</span>

  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">account</span> <span class="k">of</span> <span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="cm">/**
 * @type import('hardhat/config').HardhatUserConfig
 */</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">solidity</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.8.7</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">defaultNetwork</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">artifacts</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/artifacts</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">networks</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">hardhat</span><span class="p">:</span> <span class="p">{},</span>
    <span class="na">ropsten</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">url</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">ALCHEMY_URL</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="na">accounts</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="p">${</span><span class="nx">ALCHEMY_KEY</span><span class="p">}</span><span class="s2">`</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="deploy-contract-to-ropsten" href="#deploy-contract-to-ropsten">
  </a>
  Deploy Contract to Ropsten
</h3>

<p>Send yourself test Ether by visiting a test faucet like <a href="https://faucet.ropsten.be/">faucet.ropsten.be</a> or <a href="https://faucet.dimensions.network/">faucet.dimensions.network</a>. Run the following script to deploy.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn hardhat run scripts/deploy.js <span class="se">\</span>
  <span class="nt">--network</span> ropsten
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>





<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>Greeter deployed to 0x42839A6cD421B0C29AcD3FB900feAa6a76f34684 address
Greeter deployed by "&lt;SignerWithAddress 0x71bE63f3384f5fb98995898A86B02Fb2426c5788>" signer
Deploy transaction hash: 0x9f5875c939d804501767690d843aefb05d91f4b1f5d34d477dbe6d7327c83ca4
Deploy transaction block hash: null
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Once your contract is deployed you can view the live contract on <a href="https://ropsten.etherscan.io/">Etherscan Ropsten Testnet Explorer</a>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dKtwAP7e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcbigmb5felstbcdeiio.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dKtwAP7e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcbigmb5felstbcdeiio.png" alt="20-contract-on-etherscan" loading="lazy" width="880" height="409"></a></p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/ajcwebdev/a-first-look-at-ethers-and-hardhat-5848" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(s,n,a,t){return a.type_of="article",a.id=1008800,a.title="a first look at ethers and hardhat",a.description="This example uses Hardhat and Ethers to compile a smart contract written in Solidity and deploy that contract to an Ethereum test network with Alchemy.",a.readable_publish_date="Mar 4",a.slug="a-first-look-at-ethers-and-hardhat-5848",a.path="/ajcwebdev/a-first-look-at-ethers-and-hardhat-5848",a.url="https://dev.to/ajcwebdev/a-first-look-at-ethers-and-hardhat-5848",a.comments_count=3,a.public_reactions_count=12,a.collection_id=s,a.published_timestamp=t,a.positive_reactions_count=12,a.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--BkiX5W8d--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nv9kfg35fvz5aunc0x44.png",a.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--JGsoj9PC--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nv9kfg35fvz5aunc0x44.png",a.canonical_url="https://ajcwebdev.com/a-first-look-at-ethers-and-hardhat",a.created_at="2022-03-04T06:01:06Z",a.edited_at="2022-05-05T06:59:57Z",a.crossposted_at=s,a.published_at=t,a.last_comment_at="2022-03-24T17:18:27Z",a.reading_time_minutes=12,a.tag_list="etherjs, hardhat, solidity, ethereum",a.tags=["etherjs","hardhat","solidity","ethereum"],a.body_html='<p><a href="https://ethers.org/">ethers.js</a> is a library that aims to be a complete and compact tool for interacting with the Ethereum Blockchain and its ecosystem. This example uses <a href="https://hardhat.org/">Hardhat</a>, an Ethereum development environment, to compile a smart contract and deploy it to <a href="https://ropsten.etherscan.io/">Ropsten</a>, an Ethereum test network that allows for blockchain development testing.</p>\n\n<p>The contract is written in <a href="https://docs.soliditylang.org/">Solidity</a>, an object-oriented, high-level language for implementing smart contracts. After deploying the contract, we will generate a boilerplate React application with <a href="https://vitejs.dev/">Vite</a> and connect the application to our smart contract running on Ropsten. <a href="https://www.alchemy.com/">Alchemy</a> provides a <a href="https://www.infoq.com/articles/blockchain-as-a-service-get-block/">managed node</a> that enables connecting to various tools in the blockchain ecosystem.</p>\n\n<h2>\n  <a name="outline" href="#outline">\n  </a>\n  Outline\n</h2>\n\n<ul>\n<li>\n<a href="#create-project">Create Project</a>\n\n<ul>\n<li><a href="#install-dependencies">Install Dependencies</a></li>\n<li><a href="#initialize-hardhat-environment">Initialize Hardhat Environment</a></li>\n<li><a href="#sample-deployment-script">Sample Deployment Script</a></li>\n<li><a href="#hardhat-configuration">Hardhat Configuration</a></li>\n<li><a href="#greeter-solidity-contract">Greeter Solidity Contract</a></li>\n</ul>\n\n\n</li>\n<li>\n<a href="#deploy-to-testnet">Deploy to Testnet</a>\n\n<ul>\n<li><a href="#compile-application-binary-interface">Compile Application Binary Interface</a></li>\n<li><a href="#start-test-node">Start Test Node</a></li>\n<li><a href="#run-deployment-script">Run Deployment Script</a></li>\n</ul>\n\n\n</li>\n<li>\n<a href="#connect-to-metamask">Connect to MetaMask</a>\n\n<ul>\n<li><a href="#import-account-into-metamask">Import Account into MetaMask</a></li>\n</ul>\n\n\n</li>\n<li>\n<a href="#create-react-app">Create React App</a>\n\n<ul>\n<li><a href="#start-development-server">Start Development Server</a></li>\n<li><a href="#connect-react-app-to-metamask">Connect React App to MetaMask</a></li>\n</ul>\n\n\n</li>\n<li>\n<a href="#deploy-to-ropsten-testnet">Deploy to Ropsten Testnet</a>\n\n<ul>\n<li><a href="#connect-metamask-to-ropsten">Connect MetaMask to Ropsten</a></li>\n<li><a href="#create-an-alchemy-account">Create an Alchemy Account</a></li>\n<li><a href="#create-an-alchemy-application">Create an Alchemy Application</a></li>\n<li><a href="#get-alchemy-key">Get Alchemy Key</a></li>\n<li><a href="#add-alchemy-endpoint-to-hardhat-configuration">Add Alchemy Endpoint to Hardhat Configuration</a></li>\n<li><a href="#deploy-contract-to-ropsten">Deploy Contract to Ropsten</a></li>\n</ul>\n\n\n</li>\n</ul>\n\n<h2>\n  <a name="create-project" href="#create-project">\n  </a>\n  Create Project\n</h2>\n\n<p>This article is heavily based on Nader Dabit\'s definitive article, <a href="https://dev.to/dabit3/the-complete-guide-to-full-stack-ethereum-development-3j13">The Complete Guide to Full Stack Ethereum Development</a>. I\'ve made a few alternations including using Vite instead of Create React App and the inclusion of <code>dotenv</code> for environment variables but all credit due to Sensei Dabit.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn create vite ajcwebdev-ethers <span class="nt">--template</span> react\n<span class="nb">cd </span>ajcwebdev-ethers\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="install-dependencies" href="#install-dependencies">\n  </a>\n  Install Dependencies\n</h3>\n\n<p>In addition to Ethers and Hardhat we will also install <a href="https://ethereum-waffle.readthedocs.io/">Waffle</a> and <a href="https://www.chaijs.com/">Chai</a> for testing our contracts.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn add dotenv ethers hardhat <span class="se">\\</span>\n  chai @nomiclabs/hardhat-ethers @nomiclabs/hardhat-waffle <span class="se">\\</span>\n  ethereum-waffle @openzeppelin/contracts\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Create a <code>.env</code> file to store environment variables later in the tutorial.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">touch</span> .env\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The file will include the following three variables:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>ALCHEMY_URL=\nALCHEMY_KEY=\nVITE_GREETER_ADDRESS=\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="initialize-hardhat-environment" href="#initialize-hardhat-environment">\n  </a>\n  Initialize Hardhat Environment\n</h3>\n\n<p>Developing smart contracts requires the ability to deploy your contracts, run tests, and debug Solidity code. We will also need a way to compile Solidity code into code that can be run in a client-side application. Hardhat compiles your contracts and runs them on a development network. This lets you develop without having to deal with live environments.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn hardhat\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Choose <code>Create a basic sample project</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>ðŸ‘· Welcome to Hardhat v2.8.0 ðŸ‘·\n\nâœ” What do you want to do? Â· Create a basic sample project\nâœ” Hardhat project root: Â· /Users/ajcwebdev/ajcwebdev-ethers\nâœ” Do you want to add a .gitignore? (Y/n) Â· y\n\nâœ¨ Project created âœ¨\n\nSee the README.txt file for some example tasks you can run.\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This creates the following files/directories:</p>\n\n<ul>\n<li>\n<code>hardhat.config.js</code> - Entire Hardhat setup including config, plugins, and custom tasks.</li>\n<li>\n<code>scripts</code> - Contains a script named <code>sample-script.js</code> that deploys your smart contract when executed</li>\n<li>\n<code>test</code> - Contains an example testing script</li>\n<li>\n<code>contracts</code> - Contains an example Solidity smart contract</li>\n</ul>\n\n<h3>\n  <a name="sample-deployment-script" href="#sample-deployment-script">\n  </a>\n  Sample Deployment Script\n</h3>\n\n<p>In <code>sample-script.js</code> we use <code>getContractFactory</code> to create a <code>ContractFactory</code>, an abstraction used to deploy new smart contracts.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// scripts/sample-script.js</span>\n\n<span class="kd">const</span> <span class="nx">hre</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">)</span>\n\n<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">Greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getContractFactory</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter</span><span class="dl">"</span><span class="p">)</span>\n  <span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello, Hardhat!</span><span class="dl">"</span><span class="p">)</span>\n  <span class="k">await</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployed</span><span class="p">()</span>\n  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed to:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>\n<span class="p">}</span>\n\n<span class="nx">main</span><span class="p">()</span>\n  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>\n  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>\n    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>\n  <span class="p">})</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><code>Greeter</code> is a factory for instances of our greeting contract. Calling <code>deploy()</code> on a <code>ContractFactory</code> will start the deployment, and return a <code>Promise</code> that resolves to a <code>Contract</code>. This is the object that has a method for each of your smart contract functions. Modify the text to send your own message.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello from ajcwebdev!</span><span class="dl">"</span><span class="p">)</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>I\'ll also add a few more console logs to the <code>main</code> function to log additional pieces of information including the <code>signer</code>, <code>hash</code>, and <code>blockHash</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// scripts/sample-script.js</span>\n\n<span class="kd">const</span> <span class="nx">hre</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">)</span>\n\n<span class="k">async</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">Greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getContractFactory</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter</span><span class="dl">"</span><span class="p">)</span>\n  <span class="kd">const</span> <span class="nx">greeter</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">deploy</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello from ajcwebdev!</span><span class="dl">"</span><span class="p">)</span>\n  <span class="k">await</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployed</span><span class="p">()</span>\n\n  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed to </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">address</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> address</span><span class="dl">"</span><span class="p">)</span>\n  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Greeter deployed by </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">greeter</span><span class="p">.</span><span class="nx">signer</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2"> signer</span><span class="dl">"</span><span class="p">)</span>\n  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploy transaction hash: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployTransaction</span><span class="p">.</span><span class="nx">hash</span><span class="p">)</span>\n  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploy transaction block hash: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">greeter</span><span class="p">.</span><span class="nx">deployTransaction</span><span class="p">.</span><span class="nx">blockHash</span><span class="p">)</span>\n<span class="p">}</span>\n\n<span class="nx">main</span><span class="p">()</span>\n  <span class="p">.</span><span class="nx">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>\n  <span class="p">.</span><span class="k">catch</span><span class="p">((</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>\n    <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>\n  <span class="p">})</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="hardhat-configuration" href="#hardhat-configuration">\n  </a>\n  Hardhat Configuration\n</h3>\n\n<p>When Hardhat is run, it searches for the closest <code>hardhat.config.js</code> file starting from the current working directory. This file normally lives in the root of your project. The entirety of your Hardhat setup, including your config, plugins and custom tasks, is contained in this file.</p>\n\n<p>We need to make a couple changes to our <code>hardhat.config.js</code> file. Update the chain ID to <a href="https://hardhat.org/metamask-issue.html">1337</a> and change the location for the <a href="https://hardhat.org/guides/compile-contracts.html#artifacts">artifacts</a> of the compiled contracts to the <code>src</code> directory of the React app.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// hardhat.config.js</span>\n\n<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@nomiclabs/hardhat-waffle</span><span class="dl">"</span><span class="p">)</span>\n\n<span class="nx">task</span><span class="p">(</span><span class="dl">"</span><span class="s2">accounts</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Prints the list of accounts</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">taskArgs</span><span class="p">,</span> <span class="nx">hre</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getSigners</span><span class="p">()</span>\n  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">account</span> <span class="k">of</span> <span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>\n  <span class="p">}</span>\n<span class="p">})</span>\n\n<span class="cm">/**\n * @type import(\'hardhat/config\').HardhatUserConfig\n */</span>\n<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">solidity</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.8.7</span><span class="dl">"</span><span class="p">,</span>\n  <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">artifacts</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">./src/artifacts</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="p">},</span>\n  <span class="na">networks</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">hardhat</span><span class="p">:</span> <span class="p">{</span>\n      <span class="na">chainId</span><span class="p">:</span> <span class="mi">1337</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="greeter-solidity-contract" href="#greeter-solidity-contract">\n  </a>\n  Greeter Solidity Contract\n</h3>\n\n<p>Solidity files start with a pragma that is used by the Solidity compiler to validate its version. <code>contract</code> specifies the main building block for the smart contract, which is named <code>Greeter</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>\n\n<span class="c1">//SPDX-License-Identifier: MIT</span>\n<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">0</span>\n\n<span class="k">import</span> <span class="dl">"</span><span class="s2">hardhat/console.sol</span><span class="dl">"</span>\n\n<span class="nx">contract</span> <span class="nx">Greeter</span> <span class="p">{</span> <span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The <code>constructor</code> is executed only once when the contract is created. The <code>Greeter</code> constructor will set a <code>greeting</code> variable and expose a function (<code>greet</code>) that can be called to return the <code>greeting</code>. It also exposes a function called <code>setGreeting</code> that allows a user to update the greeting.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>\n\n<span class="c1">//SPDX-License-Identifier: MIT</span>\n<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">0</span>\n\n<span class="k">import</span> <span class="dl">"</span><span class="s2">hardhat/console.sol</span><span class="dl">"</span>\n\n<span class="nx">contract</span> <span class="nx">Greeter</span> <span class="p">{</span>\n  <span class="nx">string</span> <span class="kr">private</span> <span class="nx">greeting</span>\n\n  <span class="kd">constructor</span><span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span> <span class="nx">_greeting</span><span class="p">)</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Deploying a Greeter with greeting: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">_greeting</span><span class="p">)</span>\n    <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">_greeting</span>\n  <span class="p">}</span>\n\n  <span class="kd">function</span> <span class="nx">greet</span><span class="p">()</span> <span class="kr">public</span> <span class="nx">view</span> <span class="nx">returns</span> <span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="nx">greeting</span>\n  <span class="p">}</span>\n\n  <span class="kd">function</span> <span class="nx">setGreeting</span><span class="p">(</span><span class="nx">string</span> <span class="nx">memory</span> <span class="nx">_greeting</span><span class="p">)</span> <span class="kr">public</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Changing greeting from \'%s\' to \'%s\'</span><span class="dl">"</span><span class="p">,</span> <span class="nx">greeting</span><span class="p">,</span> <span class="nx">_greeting</span><span class="p">)</span>\n    <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">_greeting</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>These methods will be available for a user to interact with when deployed to the Ethereum blockchain. These methods represent the two ways of interacting with a smart contract:</p>\n\n<ul>\n<li>\n<code>greet</code> reads from the blockchain and does not require money for <a href="https://www.investopedia.com/terms/g/gas-ethereum.asp">gas</a>.</li>\n<li>\n<code>setGreeting</code> writes to the blockchain and requires payment for the transaction if you want to deploy to <a href="https://ethereum.org/en/glossary/#mainnet">mainnet</a> and not a <a href="https://ethereum.org/en/glossary/#testnet">testnet</a>.</li>\n</ul>\n\n<p>Change the version of Solidity to match the <code>hardhat.config.js</code> file.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// contracts/Greeter.sol</span>\n\n<span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">^</span><span class="mf">0.8</span><span class="p">.</span><span class="mi">7</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h2>\n  <a name="deploy-to-testnet" href="#deploy-to-testnet">\n  </a>\n  Deploy to Testnet\n</h2>\n\n<p>To deploy to the local network, you first need to compile your contract and then start a local test node. Our React app will interact with the smart contract using a combination of the Ethers library, the contract address, and the ABI that will be created from the contract by <code>hardhat</code>.</p>\n\n<h3>\n  <a name="compile-application-binary-interface" href="#compile-application-binary-interface">\n  </a>\n  Compile Application Binary Interface\n</h3>\n\n<p>ABI stands for application binary interface. It is the interface between your client-side application and the Ethereum blockchain where the smart contract you are going to be interacting with is deployed.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn hardhat compile\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>ABIs are typically compiled from Solidity smart contracts by a development framework like Hardhat. You can also often find the ABIs for a smart contract on <a href="https://etherscan.io/">Etherscan</a>.</p>\n\n<h3>\n  <a name="start-test-node" href="#start-test-node">\n  </a>\n  Start Test Node\n</h3>\n\n\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn hardhat node\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This will return a list of addresses and private keys.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>Started HTTP and WebSocket JSON-RPC server at http://127.0.0.1:8545/\n\nAccounts\n========\nAccount #0: 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266 (10000 ETH)\nPrivate Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80\n\nAccount #1: 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 (10000 ETH)\nPrivate Key: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d\n\n...\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We will need to pick an account and corresponding private key. I will use Account #11:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>Account #11: 0x71be63f3384f5fb98995898a86b02fb2426c5788 (10000 ETH)\nPrivate Key: 0x701b615bbdfb9de65240bc28bd21bbc0d996645a3dd57e7b12bc2bdf6f192c82\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Leave this terminal running and open another for the next command.</p>\n\n<h3>\n  <a name="run-deployment-script" href="#run-deployment-script">\n  </a>\n  Run Deployment Script\n</h3>\n\n<p>Change the name of <code>sample-script.js</code> to <code>deploy.js</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">mv </span>scripts/sample-script.js scripts/deploy.js\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Run the deploy script and give a flag to the CLI to let it know that we would like to deploy to our local network:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn hardhat run scripts/deploy.js <span class="se">\\</span>\n  <span class="nt">--network</span> localhost\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This will result in the following output in your terminal:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>Greeter deployed to 0x5FbDB2315678afecb367f032d93F642f64180aa3 address\nGreeter deployed by "&lt;SignerWithAddress 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266&gt;" signer\nDeploy transaction hash: 0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1\nDeploy transaction block hash: 0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The address returned on the first line (<code>0x5FbDB2315678afecb367f032d93F642f64180aa3</code>) is what we will use in our client application to talk to the smart contract. Save this address somewhere that you can access later as we will need to use it when connecting to the contract from the client application.</p>\n\n<h2>\n  <a name="connect-to-metamask" href="#connect-to-metamask">\n  </a>\n  Connect to MetaMask\n</h2>\n\n<p>To send transactions to the smart contract, we will need to connect our MetaMask wallet using one of the accounts created when we ran <code>yarn hardhat node</code>. In the terminal running our local node, you will see the following output verifying that the <code>Greeter</code> contract was successfully deployed.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>web3_clientVersion\neth_chainId\neth_accounts\neth_blockNumber\neth_chainId (2)\neth_estimateGas\neth_getBlockByNumber\neth_feeHistory\neth_sendTransaction\n  Contract deployment: Greeter\n  Contract address:    0x5fbdb2315678afecb367f032d93f642f64180aa3\n  Transaction:         0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1\n  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\n  Value:               0 ETH\n  Gas used:            505488 of 505488\n  Block #1:            0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395\n\n  console.log:\n    Deploying a Greeter with greeting: Hello from ajcwebdev!\n\neth_chainId\neth_getTransactionByHash\neth_chainId\neth_getTransactionReceipt\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>In the list of contracts that the CLI logs out, you should see both an Account number as well as a Private Key for the account you originally chose at the beginning of the tutorial. We can import this account into MetaMask in order to start using some of its fake Eth. To do so, first open MetaMask and check the available networks.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0NHLsSGh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dsuehp9d7vb1mfylez2q.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0NHLsSGh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dsuehp9d7vb1mfylez2q.png" alt="01-check-metamask-networks" loading="lazy" width="880" height="847"></a></p>\n\n<p>If you only see the Ethereum Mainnet, go to Settings &gt; Advanced and make sure "Show test networks" is set to ON.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--T9v_MLik--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8bxwvd2v3uz093u2hoe3.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--T9v_MLik--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8bxwvd2v3uz093u2hoe3.png" alt="02-set-metamask-to-localhost8545" loading="lazy" width="880" height="857"></a></p>\n\n<p>Update the network to Localhost 8545.</p>\n\n<h3>\n  <a name="import-account-into-metamask" href="#import-account-into-metamask">\n  </a>\n  Import Account into MetaMask\n</h3>\n\n<p>Once you are connected to Localhost 8545, click the icon at the top right to see your accounts. Select "Import Account."</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---KDuROPU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cskqw7cw2h5g7532zc92.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---KDuROPU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cskqw7cw2h5g7532zc92.png" alt="03-import-account-into-metamask" loading="lazy" width="880" height="637"></a></p>\n\n<p>Go back to the list of accounts printed by <code>yarn hardhat node</code> and copy the account\'s private keys. I\'ll be using Account #11.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--znBknVG6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sxzhie84g1jqarghftuv.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--znBknVG6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sxzhie84g1jqarghftuv.png" alt="04-paste-private-key-to-import-account" loading="lazy" width="880" height="643"></a></p>\n\n<p>After importing the account you will see ether in the account.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--RXT1lN6o--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvx212ng4nyagzbt7rge.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--RXT1lN6o--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvx212ng4nyagzbt7rge.png" alt="05-ether-account-balance-in-metamask" loading="lazy" width="880" height="846"></a></p>\n\n<p>If you are using MetaMask for other purposes, it will be important to distinguish this account from an account that is actually holding funds. Go to "Account details."</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8gslCocq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bowt63izdzaa5anjaccu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8gslCocq--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bowt63izdzaa5anjaccu.png" alt="06-get-account-details-in-metamask" loading="lazy" width="880" height="401"></a></p>\n\n<p>Click the pencil icon next to the account name to give it a more descriptive name.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BxdxSBvy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5hst60nomgcxutmt5c0y.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BxdxSBvy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5hst60nomgcxutmt5c0y.png" alt="07-rename-account-to-hardhat-account-11" loading="lazy" width="880" height="651"></a></p>\n\n<h2>\n  <a name="create-react-app" href="#create-react-app">\n  </a>\n  Create React App\n</h2>\n\n<p>Set <code>greeterAddress</code> to the contract address logged out to the CLI when it was deployed. I have created an environment variable named <code>VITE_GREETER_ADDRESS</code> in a <code>.env</code> file. Any environment variables that need to be exposed on the client must be prefixed with <code>VITE_</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>\n\n<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">ethers</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">\'</span>\n\n<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>\n\n<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>\n\n<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We\'ll import the <code>useState</code> hook and set the state to <code>greeting</code> with <code>setGreetingValue</code>. <code>fetchGreeting</code> will call the smart contract and read the current greeting value.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>\n\n<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">ethers</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">\'</span>\n\n<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>\n\n<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="p">[</span><span class="nx">greeting</span><span class="p">,</span> <span class="nx">setGreetingValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">()</span>\n\n  <span class="k">async</span> <span class="kd">function</span> <span class="nx">requestAccount</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">await</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span> <span class="na">method</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">eth_requestAccounts</span><span class="dl">\'</span> <span class="p">})</span>\n  <span class="p">}</span>\n\n  <span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchGreeting</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">\'</span><span class="s1">undefined</span><span class="dl">\'</span><span class="p">)</span> <span class="p">{</span>\n      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>\n      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">provider</span><span class="p">)</span>\n      <span class="k">try</span> <span class="p">{</span>\n        <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">greet</span><span class="p">()</span>\n        <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Greeting: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Contract Address: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Contract Network: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">_network</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>\n      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>\n      <span class="p">}</span>\n    <span class="p">}</span>    \n  <span class="p">}</span>\n\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>\n      <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Ethers.js, Hardhat, Solidity, ENS<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>and React, Alchemy, and MetaMask<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>\n      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>\n\n      <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Greeting<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>\n\n        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">fetchGreeting</span><span class="si">}</span><span class="p">&gt;</span>\n          Fetch Greeting\n        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n\n        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">greeting</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>\n      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>\n    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>\n  <span class="p">)</span>\n<span class="p">}</span>\n\n<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>I\'ll include Water.css in <code>index.html</code> for some nice looking CSS defaults.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight html"><code><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/water.css@2/out/water.css"</span><span class="nt">&gt;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="start-development-server" href="#start-development-server">\n  </a>\n  Start Development Server\n</h3>\n\n<p>Start the development server with <code>yarn dev</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn dev\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Open <a href="http://localhost:3000">localhost:3000</a>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--MwJKQEuh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zkoxpx53ht60b3o7ki34.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--MwJKQEuh--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zkoxpx53ht60b3o7ki34.png" alt="08-react-app-on-localhost-3000-with-fetch-greeting-button" loading="lazy" width="880" height="315"></a></p>\n\n<p>Click the "Fetch Greeting" button to display the greeting from the deployed contract.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6RxSH0Lz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a26a1vq1urbtvaewprp.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6RxSH0Lz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a26a1vq1urbtvaewprp.png" alt="09-greeting-displayed-after-clicking-fetch-greeting-button" loading="lazy" width="880" height="290"></a></p>\n\n<p><code>setGreeting</code> calls the smart contract and sends an update.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight jsx"><code><span class="c1">// src/App.js</span>\n\n<span class="k">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">ethers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">ethers</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="nx">Greeter</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">./artifacts/contracts/Greeter.sol/Greeter.json</span><span class="dl">\'</span>\n\n<span class="kd">const</span> <span class="nx">greeterAddress</span> <span class="o">=</span> <span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VITE_GREETER_ADDRESS</span>\n\n<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="p">[</span><span class="nx">greeting</span><span class="p">,</span> <span class="nx">setGreetingValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">()</span>\n\n  <span class="k">async</span> <span class="kd">function</span> <span class="nx">requestAccount</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">await</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">.</span><span class="nx">request</span><span class="p">({</span> <span class="na">method</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">eth_requestAccounts</span><span class="dl">\'</span> <span class="p">})</span>\n  <span class="p">}</span>\n\n  <span class="k">async</span> <span class="kd">function</span> <span class="nx">fetchGreeting</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">\'</span><span class="s1">undefined</span><span class="dl">\'</span><span class="p">)</span> <span class="p">{</span>\n      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>\n      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">provider</span><span class="p">)</span>\n      <span class="k">try</span> <span class="p">{</span>\n        <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">greet</span><span class="p">()</span>\n        <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Greeting: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Contract Address: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">\'</span><span class="s1">Contract Network: </span><span class="dl">\'</span><span class="p">,</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">provider</span><span class="p">.</span><span class="nx">_network</span><span class="p">.</span><span class="nx">name</span><span class="p">)</span>\n      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error: </span><span class="dl">"</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>\n      <span class="p">}</span>\n    <span class="p">}</span>    \n  <span class="p">}</span>\n\n  <span class="k">async</span> <span class="kd">function</span> <span class="nx">setGreeting</span><span class="p">()</span> <span class="p">{</span>\n    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">greeting</span><span class="p">)</span> <span class="k">return</span>\n    <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span> <span class="o">!==</span> <span class="dl">\'</span><span class="s1">undefined</span><span class="dl">\'</span><span class="p">)</span> <span class="p">{</span>\n      <span class="k">await</span> <span class="nx">requestAccount</span><span class="p">()</span>\n      <span class="kd">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">Web3Provider</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">ethereum</span><span class="p">)</span>\n      <span class="kd">const</span> <span class="nx">signer</span> <span class="o">=</span> <span class="nx">provider</span><span class="p">.</span><span class="nx">getSigner</span><span class="p">()</span>\n      <span class="kd">const</span> <span class="nx">contract</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ethers</span><span class="p">.</span><span class="nx">Contract</span><span class="p">(</span><span class="nx">greeterAddress</span><span class="p">,</span> <span class="nx">Greeter</span><span class="p">.</span><span class="nx">abi</span><span class="p">,</span> <span class="nx">signer</span><span class="p">)</span>\n      <span class="kd">const</span> <span class="nx">transaction</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">contract</span><span class="p">.</span><span class="nx">setGreeting</span><span class="p">(</span><span class="nx">greeting</span><span class="p">)</span>\n      <span class="k">await</span> <span class="nx">transaction</span><span class="p">.</span><span class="nx">wait</span><span class="p">()</span>\n      <span class="nx">fetchGreeting</span><span class="p">()</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>\n      <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Ethers.js, Hardhat, Solidity, ENS<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>and React, Alchemy, and MetaMask<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>\n      <span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>\n\n      <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">h3</span><span class="p">&gt;</span>Greeting<span class="p">&lt;/</span><span class="nt">h3</span><span class="p">&gt;</span>\n\n        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">fetchGreeting</span><span class="si">}</span><span class="p">&gt;</span>\n          Fetch Greeting\n        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n        <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="si">{</span><span class="nx">greeting</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>\n\n        <span class="p">&lt;</span><span class="nt">input</span>\n          <span class="na">onChange</span><span class="p">=</span><span class="si">{</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">setGreetingValue</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="si">}</span>\n          <span class="na">placeholder</span><span class="p">=</span><span class="s">"Set greeting"</span> \n        <span class="p">/&gt;</span>\n        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">setGreeting</span><span class="si">}</span><span class="p">&gt;</span>\n          Set Greeting\n        <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>\n      <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>\n    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>\n  <span class="p">)</span>\n<span class="p">}</span>\n\n<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="connect-react-app-to-metamask" href="#connect-react-app-to-metamask">\n  </a>\n  Connect React App to MetaMask\n</h3>\n\n<p>Select account to connect with MetaMask.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--BwghNKqW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rytdc1cj071kk4xcm27v.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--BwghNKqW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rytdc1cj071kk4xcm27v.png" alt="10-select-account-to-connect-with-metamask" loading="lazy" width="880" height="609"></a></p>\n\n<p>Connect to the account.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--eIwC0DmM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qft6ta0lj5xhk4i0knu8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--eIwC0DmM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qft6ta0lj5xhk4i0knu8.png" alt="11-connect-to-account-with-metamask" loading="lazy" width="880" height="610"></a></p>\n\n<p>Enter input and click Set Greeting. You will be asked to pay a gas fee.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XY6Pe6Xl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xppbyh6zwtqgacjojjax.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XY6Pe6Xl--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xppbyh6zwtqgacjojjax.png" alt="12-pay-gas-fee" loading="lazy" width="880" height="688"></a></p>\n\n<p>The greeting value will be set to the new inputted greeting.</p>\n\n<h2>\n  <a name="deploy-to-ropsten-testnet" href="#deploy-to-ropsten-testnet">\n  </a>\n  Deploy to Ropsten Testnet\n</h2>\n\n<p>Ethereum provides test networks like Ropsten, Rinkeby, or Kovan that we can use to deploy a publicly accessible version of our contract without having to deploy it to the mainnet.</p>\n\n<h3>\n  <a name="connect-metamask-to-ropsten" href="#connect-metamask-to-ropsten">\n  </a>\n  Connect MetaMask to Ropsten\n</h3>\n\n<p>Update your MetaMask wallet to connect to the <a href="https://ropsten.etherscan.io/">Ropsten</a> network.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VbHNbX6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xeefv78bpy2vj1i1xdi8.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VbHNbX6l--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xeefv78bpy2vj1i1xdi8.png" alt="13-change-to-ropsten-testnet" loading="lazy" width="710" height="1194"></a></p>\n\n<p>We can get access to Ropsten and other test networks by using a service like <a href="https://infura.io/">Infura</a>, <a href="https://www.alchemy.com/">Alchemy</a>, or <a href="https://www.quicknode.com/">QuickNode</a>.</p>\n\n<h3>\n  <a name="create-an-alchemy-account" href="#create-an-alchemy-account">\n  </a>\n  Create an Alchemy Account\n</h3>\n\n<p>Alchemy Supernode is a blockchain API that can connect to various tools in the blockchain ecosystem such as Ethereum, Polygon, Arbitrum, Optimism, and Flow. It provides common node functionality including JSON-RPC support with built in reliability, data correctness and scalability. After creating an account, you will see your dashboard.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--1YxCMsA3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1w8axkijbifzcfa9lqu7.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--1YxCMsA3--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1w8axkijbifzcfa9lqu7.png" alt="14-alchemy-dashboard" loading="lazy" width="880" height="354"></a></p>\n\n<h3>\n  <a name="create-an-alchemy-application" href="#create-an-alchemy-application">\n  </a>\n  Create an Alchemy Application\n</h3>\n\n<p>Click <strong>Create App</strong> and give your app a name and description. Select development for the environment, Ethereum for the chain, and Ropsten for the network.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--CjwlIqsJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/drxvimw53jqlu4nrmcii.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CjwlIqsJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/drxvimw53jqlu4nrmcii.png" alt="15-create-app-on-alchemy" loading="lazy" width="880" height="446"></a></p>\n\n<p>After creating the app you will see it appear in your dashboard.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--i9PHzwQT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0fpw8akulm90jgp6vup0.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--i9PHzwQT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0fpw8akulm90jgp6vup0.png" alt="16-alchemy-dashboard-with-ajcwebdev-ethers-app" loading="lazy" width="880" height="183"></a></p>\n\n<h3>\n  <a name="get-alchemy-key" href="#get-alchemy-key">\n  </a>\n  Get Alchemy Key\n</h3>\n\n<p>Click the name of the app to see more details.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IkcbjgMT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qjzpqe9zgmo3nzcstkmy.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IkcbjgMT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qjzpqe9zgmo3nzcstkmy.png" alt="17-alchemy-app-view-details" loading="lazy" width="880" height="342"></a></p>\n\n<p>Click <strong>View Key</strong> to see your endpoints.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--_cc7X0Dr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nvxdpozaswc9u4fy4ccc.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--_cc7X0Dr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nvxdpozaswc9u4fy4ccc.png" alt="18-alchemy-endpoints" loading="lazy" width="880" height="313"></a></p>\n\n<p>The https endpoint will look something like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>https://eth-ropsten.alchemyapi.io/v2/PROJECT_ID\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Click <strong>Edit App</strong> and add the account address from <code>App.jsx</code> to the allowed accounts.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ODM25BjP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ved13q0s5d1lrgnmofu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ODM25BjP--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ved13q0s5d1lrgnmofu.png" alt="19-allowed-addresses" loading="lazy" width="880" height="625"></a></p>\n\n<h3>\n  <a name="add-alchemy-endpoint-to-hardhat-configuration" href="#add-alchemy-endpoint-to-hardhat-configuration">\n  </a>\n  Add Alchemy Endpoint to Hardhat Configuration\n</h3>\n\n<p>Open <code>hardhat.config.js</code> and add <code>networks</code> property.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="c1">// hardhat.config.js</span>\n\n<span class="nx">require</span><span class="p">(</span><span class="dl">"</span><span class="s2">@nomiclabs/hardhat-waffle</span><span class="dl">"</span><span class="p">)</span>\n<span class="nx">require</span><span class="p">(</span><span class="dl">\'</span><span class="s1">dotenv</span><span class="dl">\'</span><span class="p">).</span><span class="nx">config</span><span class="p">()</span>\n\n<span class="kd">const</span> <span class="p">{</span> <span class="nx">ALCHEMY_URL</span><span class="p">,</span> <span class="nx">ALCHEMY_KEY</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span>\n\n<span class="nx">task</span><span class="p">(</span><span class="dl">"</span><span class="s2">accounts</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Prints the list of accounts</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">(</span><span class="nx">taskArgs</span><span class="p">,</span> <span class="nx">hre</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="kd">const</span> <span class="nx">accounts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">hre</span><span class="p">.</span><span class="nx">ethers</span><span class="p">.</span><span class="nx">getSigners</span><span class="p">()</span>\n\n  <span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">account</span> <span class="k">of</span> <span class="nx">accounts</span><span class="p">)</span> <span class="p">{</span>\n    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">account</span><span class="p">.</span><span class="nx">address</span><span class="p">)</span>\n  <span class="p">}</span>\n<span class="p">})</span>\n\n<span class="cm">/**\n * @type import(\'hardhat/config\').HardhatUserConfig\n */</span>\n<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>\n  <span class="na">solidity</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.8.7</span><span class="dl">"</span><span class="p">,</span>\n  <span class="na">defaultNetwork</span><span class="p">:</span> <span class="dl">"</span><span class="s2">hardhat</span><span class="dl">"</span><span class="p">,</span>\n  <span class="na">paths</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">artifacts</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">./src/artifacts</span><span class="dl">\'</span><span class="p">,</span>\n  <span class="p">},</span>\n  <span class="na">networks</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">hardhat</span><span class="p">:</span> <span class="p">{},</span>\n    <span class="na">ropsten</span><span class="p">:</span> <span class="p">{</span>\n      <span class="na">url</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">ALCHEMY_URL</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>\n      <span class="na">accounts</span><span class="p">:</span> <span class="p">[</span><span class="s2">`</span><span class="p">${</span><span class="nx">ALCHEMY_KEY</span><span class="p">}</span><span class="s2">`</span><span class="p">]</span>\n    <span class="p">}</span>\n  <span class="p">}</span>\n<span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="deploy-contract-to-ropsten" href="#deploy-contract-to-ropsten">\n  </a>\n  Deploy Contract to Ropsten\n</h3>\n\n<p>Send yourself test Ether by visiting a test faucet like <a href="https://faucet.ropsten.be/">faucet.ropsten.be</a> or <a href="https://faucet.dimensions.network/">faucet.dimensions.network</a>. Run the following script to deploy.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn hardhat run scripts/deploy.js <span class="se">\\</span>\n  <span class="nt">--network</span> ropsten\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>Greeter deployed to 0x42839A6cD421B0C29AcD3FB900feAa6a76f34684 address\nGreeter deployed by "&lt;SignerWithAddress 0x71bE63f3384f5fb98995898A86B02Fb2426c5788&gt;" signer\nDeploy transaction hash: 0x9f5875c939d804501767690d843aefb05d91f4b1f5d34d477dbe6d7327c83ca4\nDeploy transaction block hash: null\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Once your contract is deployed you can view the live contract on <a href="https://ropsten.etherscan.io/">Etherscan Ropsten Testnet Explorer</a>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dKtwAP7e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcbigmb5felstbcdeiio.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dKtwAP7e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcbigmb5felstbcdeiio.png" alt="20-contract-on-etherscan" loading="lazy" width="880" height="409"></a></p>\n\n',a.body_markdown='---\ndescription: This example uses Hardhat and Ethers to compile a smart contract written in Solidity and deploy that contract to an Ethereum test network with Alchemy.\ncanonical_url: https://ajcwebdev.com/a-first-look-at-ethers-and-hardhat\n---\n\n[ethers.js](https://ethers.org/) is a library that aims to be a complete and compact tool for interacting with the Ethereum Blockchain and its ecosystem. This example uses [Hardhat](https://hardhat.org/), an Ethereum development environment, to compile a smart contract and deploy it to [Ropsten](https://ropsten.etherscan.io/), an Ethereum test network that allows for blockchain development testing.\n\nThe contract is written in [Solidity](https://docs.soliditylang.org/), an object-oriented, high-level language for implementing smart contracts. After deploying the contract, we will generate a boilerplate React application with [Vite](https://vitejs.dev/) and connect the application to our smart contract running on Ropsten. [Alchemy](https://www.alchemy.com/) provides a [managed node](https://www.infoq.com/articles/blockchain-as-a-service-get-block/) that enables connecting to various tools in the blockchain ecosystem.\n\n## Outline\n\n* [Create Project](#create-project)\n  * [Install Dependencies](#install-dependencies)\n  * [Initialize Hardhat Environment](#initialize-hardhat-environment)\n  * [Sample Deployment Script](#sample-deployment-script)\n  * [Hardhat Configuration](#hardhat-configuration)\n  * [Greeter Solidity Contract](#greeter-solidity-contract)\n* [Deploy to Testnet](#deploy-to-testnet)\n  * [Compile Application Binary Interface](#compile-application-binary-interface)\n  * [Start Test Node](#start-test-node)\n  * [Run Deployment Script](#run-deployment-script)\n* [Connect to MetaMask](#connect-to-metamask)\n  * [Import Account into MetaMask](#import-account-into-metamask)\n* [Create React App](#create-react-app)\n  * [Start Development Server](#start-development-server)\n  * [Connect React App to MetaMask](#connect-react-app-to-metamask)\n* [Deploy to Ropsten Testnet](#deploy-to-ropsten-testnet)\n  * [Connect MetaMask to Ropsten](#connect-metamask-to-ropsten)\n  * [Create an Alchemy Account](#create-an-alchemy-account)\n  * [Create an Alchemy Application](#create-an-alchemy-application)\n  * [Get Alchemy Key](#get-alchemy-key)\n  * [Add Alchemy Endpoint to Hardhat Configuration](#add-alchemy-endpoint-to-hardhat-configuration)\n  * [Deploy Contract to Ropsten](#deploy-contract-to-ropsten)\n\n## Create Project\n\nThis article is heavily based on Nader Dabit\'s definitive article, [The Complete Guide to Full Stack Ethereum Development](https://dev.to/dabit3/the-complete-guide-to-full-stack-ethereum-development-3j13). I\'ve made a few alternations including using Vite instead of Create React App and the inclusion of `dotenv` for environment variables but all credit due to Sensei Dabit.\n\n```bash\nyarn create vite ajcwebdev-ethers --template react\ncd ajcwebdev-ethers\n```\n\n### Install Dependencies\n\nIn addition to Ethers and Hardhat we will also install [Waffle](https://ethereum-waffle.readthedocs.io/) and [Chai](https://www.chaijs.com/) for testing our contracts.\n\n```bash\nyarn add dotenv ethers hardhat \\\n  chai @nomiclabs/hardhat-ethers @nomiclabs/hardhat-waffle \\\n  ethereum-waffle @openzeppelin/contracts\n```\n\nCreate a `.env` file to store environment variables later in the tutorial.\n\n```bash\ntouch .env\n```\n\nThe file will include the following three variables:\n\n```\nALCHEMY_URL=\nALCHEMY_KEY=\nVITE_GREETER_ADDRESS=\n```\n\n### Initialize Hardhat Environment\n\nDeveloping smart contracts requires the ability to deploy your contracts, run tests, and debug Solidity code. We will also need a way to compile Solidity code into code that can be run in a client-side application. Hardhat compiles your contracts and runs them on a development network. This lets you develop without having to deal with live environments.\n\n```bash\nyarn hardhat\n```\n\nChoose `Create a basic sample project`.\n\n```\nðŸ‘· Welcome to Hardhat v2.8.0 ðŸ‘·\n\nâœ” What do you want to do? Â· Create a basic sample project\nâœ” Hardhat project root: Â· /Users/ajcwebdev/ajcwebdev-ethers\nâœ” Do you want to add a .gitignore? (Y/n) Â· y\n\nâœ¨ Project created âœ¨\n\nSee the README.txt file for some example tasks you can run.\n```\n\nThis creates the following files/directories:\n\n* `hardhat.config.js` - Entire Hardhat setup including config, plugins, and custom tasks.\n* `scripts` - Contains a script named `sample-script.js` that deploys your smart contract when executed\n* `test` - Contains an example testing script\n* `contracts` - Contains an example Solidity smart contract\n\n### Sample Deployment Script\n\nIn `sample-script.js` we use `getContractFactory` to create a `ContractFactory`, an abstraction used to deploy new smart contracts.\n\n```js\n// scripts/sample-script.js\n\nconst hre = require("hardhat")\n\nasync function main() {\n  const Greeter = await hre.ethers.getContractFactory("Greeter")\n  const greeter = await Greeter.deploy("Hello, Hardhat!")\n  await greeter.deployed()\n  console.log("Greeter deployed to:", greeter.address)\n}\n\nmain()\n  .then(() => process.exit(0))\n  .catch((error) => {\n    console.error(error)\n    process.exit(1)\n  })\n```\n\n`Greeter` is a factory for instances of our greeting contract. Calling `deploy()` on a `ContractFactory` will start the deployment, and return a `Promise` that resolves to a `Contract`. This is the object that has a method for each of your smart contract functions. Modify the text to send your own message.\n\n```js\nconst greeter = await Greeter.deploy("Hello from ajcwebdev!")\n```\n\nI\'ll also add a few more console logs to the `main` function to log additional pieces of information including the `signer`, `hash`, and `blockHash`.\n\n```js\n// scripts/sample-script.js\n\nconst hre = require("hardhat")\n\nasync function main() {\n  const Greeter = await hre.ethers.getContractFactory("Greeter")\n  const greeter = await Greeter.deploy("Hello from ajcwebdev!")\n  await greeter.deployed()\n\n  console.log("Greeter deployed to " + greeter.address + " address")\n  console.log("Greeter deployed by " + JSON.stringify(greeter.signer) + " signer")\n  console.log("Deploy transaction hash: " + greeter.deployTransaction.hash)\n  console.log("Deploy transaction block hash: " + greeter.deployTransaction.blockHash)\n}\n\nmain()\n  .then(() => process.exit(0))\n  .catch((error) => {\n    console.error(error)\n    process.exit(1)\n  })\n```\n\n### Hardhat Configuration\n\nWhen Hardhat is run, it searches for the closest `hardhat.config.js` file starting from the current working directory. This file normally lives in the root of your project. The entirety of your Hardhat setup, including your config, plugins and custom tasks, is contained in this file.\n\nWe need to make a couple changes to our `hardhat.config.js` file. Update the chain ID to [1337](https://hardhat.org/metamask-issue.html) and change the location for the [artifacts](https://hardhat.org/guides/compile-contracts.html#artifacts) of the compiled contracts to the `src` directory of the React app.\n\n```js\n// hardhat.config.js\n\nrequire("@nomiclabs/hardhat-waffle")\n\ntask("accounts", "Prints the list of accounts", async (taskArgs, hre) => {\n  const accounts = await hre.ethers.getSigners()\n  for (const account of accounts) {\n    console.log(account.address)\n  }\n})\n\n/**\n * @type import(\'hardhat/config\').HardhatUserConfig\n */\nmodule.exports = {\n  solidity: "0.8.7",\n  paths: {\n    artifacts: \'./src/artifacts\',\n  },\n  networks: {\n    hardhat: {\n      chainId: 1337\n    }\n  }\n}\n```\n\n### Greeter Solidity Contract\n\nSolidity files start with a pragma that is used by the Solidity compiler to validate its version. `contract` specifies the main building block for the smart contract, which is named `Greeter`.\n\n```js\n// contracts/Greeter.sol\n\n//SPDX-License-Identifier: MIT\npragma solidity ^0.8.0\n\nimport "hardhat/console.sol"\n\ncontract Greeter { }\n```\n\nThe `constructor` is executed only once when the contract is created. The `Greeter` constructor will set a `greeting` variable and expose a function (`greet`) that can be called to return the `greeting`. It also exposes a function called `setGreeting` that allows a user to update the greeting.\n\n```js\n// contracts/Greeter.sol\n\n//SPDX-License-Identifier: MIT\npragma solidity ^0.8.0\n\nimport "hardhat/console.sol"\n\ncontract Greeter {\n  string private greeting\n\n  constructor(string memory _greeting) {\n    console.log("Deploying a Greeter with greeting: ", _greeting)\n    greeting = _greeting\n  }\n\n  function greet() public view returns (string memory) {\n    return greeting\n  }\n\n  function setGreeting(string memory _greeting) public {\n    console.log("Changing greeting from \'%s\' to \'%s\'", greeting, _greeting)\n    greeting = _greeting\n  }\n}\n```\n\nThese methods will be available for a user to interact with when deployed to the Ethereum blockchain. These methods represent the two ways of interacting with a smart contract:\n* `greet` reads from the blockchain and does not require money for [gas](https://www.investopedia.com/terms/g/gas-ethereum.asp).\n* `setGreeting` writes to the blockchain and requires payment for the transaction if you want to deploy to [mainnet](https://ethereum.org/en/glossary/#mainnet) and not a [testnet](https://ethereum.org/en/glossary/#testnet).\n\nChange the version of Solidity to match the `hardhat.config.js` file.\n\n```js\n// contracts/Greeter.sol\n\npragma solidity ^0.8.7\n```\n\n## Deploy to Testnet\n\nTo deploy to the local network, you first need to compile your contract and then start a local test node. Our React app will interact with the smart contract using a combination of the Ethers library, the contract address, and the ABI that will be created from the contract by `hardhat`.\n\n### Compile Application Binary Interface\n\nABI stands for application binary interface. It is the interface between your client-side application and the Ethereum blockchain where the smart contract you are going to be interacting with is deployed.\n\n```bash\nyarn hardhat compile\n```\n\nABIs are typically compiled from Solidity smart contracts by a development framework like Hardhat. You can also often find the ABIs for a smart contract on [Etherscan](https://etherscan.io/).\n\n### Start Test Node\n\n```bash\nyarn hardhat node\n```\n\nThis will return a list of addresses and private keys.\n\n```\nStarted HTTP and WebSocket JSON-RPC server at http://127.0.0.1:8545/\n\nAccounts\n========\nAccount #0: 0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266 (10000 ETH)\nPrivate Key: 0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80\n\nAccount #1: 0x70997970c51812dc3a010c7d01b50e0d17dc79c8 (10000 ETH)\nPrivate Key: 0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d\n\n...\n```\n\nWe will need to pick an account and corresponding private key. I will use Account #11:\n\n```\nAccount #11: 0x71be63f3384f5fb98995898a86b02fb2426c5788 (10000 ETH)\nPrivate Key: 0x701b615bbdfb9de65240bc28bd21bbc0d996645a3dd57e7b12bc2bdf6f192c82\n```\n\nLeave this terminal running and open another for the next command.\n\n### Run Deployment Script\n\nChange the name of `sample-script.js` to `deploy.js`.\n\n```bash\nmv scripts/sample-script.js scripts/deploy.js\n```\n\nRun the deploy script and give a flag to the CLI to let it know that we would like to deploy to our local network:\n\n```bash\nyarn hardhat run scripts/deploy.js \\\n  --network localhost\n```\n\nThis will result in the following output in your terminal:\n\n```\nGreeter deployed to 0x5FbDB2315678afecb367f032d93F642f64180aa3 address\nGreeter deployed by "<SignerWithAddress 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266>" signer\nDeploy transaction hash: 0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1\nDeploy transaction block hash: 0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395\n```\n\nThe address returned on the first line (`0x5FbDB2315678afecb367f032d93F642f64180aa3`) is what we will use in our client application to talk to the smart contract. Save this address somewhere that you can access later as we will need to use it when connecting to the contract from the client application.\n\n## Connect to MetaMask\n\nTo send transactions to the smart contract, we will need to connect our MetaMask wallet using one of the accounts created when we ran `yarn hardhat node`. In the terminal running our local node, you will see the following output verifying that the `Greeter` contract was successfully deployed.\n\n```\nweb3_clientVersion\neth_chainId\neth_accounts\neth_blockNumber\neth_chainId (2)\neth_estimateGas\neth_getBlockByNumber\neth_feeHistory\neth_sendTransaction\n  Contract deployment: Greeter\n  Contract address:    0x5fbdb2315678afecb367f032d93f642f64180aa3\n  Transaction:         0x74b10cb0666183a9f2d5d20dff6cbf12f2d026d39ce7c48db0f9bb02f52f2ee1\n  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\n  Value:               0 ETH\n  Gas used:            505488 of 505488\n  Block #1:            0xfb0865cdff882c11ee07521ed2732b4c961c915d88d407953336484e6ffd2395\n\n  console.log:\n    Deploying a Greeter with greeting: Hello from ajcwebdev!\n\neth_chainId\neth_getTransactionByHash\neth_chainId\neth_getTransactionReceipt\n```\n\nIn the list of contracts that the CLI logs out, you should see both an Account number as well as a Private Key for the account you originally chose at the beginning of the tutorial. We can import this account into MetaMask in order to start using some of its fake Eth. To do so, first open MetaMask and check the available networks.\n\n![01-check-metamask-networks](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dsuehp9d7vb1mfylez2q.png)\n\nIf you only see the Ethereum Mainnet, go to Settings > Advanced and make sure "Show test networks" is set to ON.\n\n![02-set-metamask-to-localhost8545](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8bxwvd2v3uz093u2hoe3.png)\n\nUpdate the network to Localhost 8545.\n\n### Import Account into MetaMask\n\nOnce you are connected to Localhost 8545, click the icon at the top right to see your accounts. Select "Import Account."\n\n![03-import-account-into-metamask](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/cskqw7cw2h5g7532zc92.png)\n\nGo back to the list of accounts printed by `yarn hardhat node` and copy the account\'s private keys. I\'ll be using Account #11.\n\n![04-paste-private-key-to-import-account](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/sxzhie84g1jqarghftuv.png)\n\nAfter importing the account you will see ether in the account.\n\n![05-ether-account-balance-in-metamask](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bvx212ng4nyagzbt7rge.png)\n\nIf you are using MetaMask for other purposes, it will be important to distinguish this account from an account that is actually holding funds. Go to "Account details."\n\n![06-get-account-details-in-metamask](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bowt63izdzaa5anjaccu.png)\n\nClick the pencil icon next to the account name to give it a more descriptive name.\n\n![07-rename-account-to-hardhat-account-11](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5hst60nomgcxutmt5c0y.png)\n\n## Create React App\n\nSet `greeterAddress` to the contract address logged out to the CLI when it was deployed. I have created an environment variable named `VITE_GREETER_ADDRESS` in a `.env` file. Any environment variables that need to be exposed on the client must be prefixed with `VITE_`.\n\n```jsx\n// src/App.js\n\nimport { useState } from \'react\'\nimport { ethers } from \'ethers\'\nimport Greeter from \'./artifacts/contracts/Greeter.sol/Greeter.json\'\n\nconst greeterAddress = import.meta.env.VITE_GREETER_ADDRESS\n\nfunction App() { }\n\nexport default App\n```\n\nWe\'ll import the `useState` hook and set the state to `greeting` with `setGreetingValue`. `fetchGreeting` will call the smart contract and read the current greeting value.\n\n```jsx\n// src/App.js\n\nimport { useState } from \'react\'\nimport { ethers } from \'ethers\'\nimport Greeter from \'./artifacts/contracts/Greeter.sol/Greeter.json\'\n\nconst greeterAddress = import.meta.env.VITE_GREETER_ADDRESS\n\nfunction App() {\n  const [greeting, setGreetingValue] = useState()\n\n  async function requestAccount() {\n    await window.ethereum.request({ method: \'eth_requestAccounts\' })\n  }\n\n  async function fetchGreeting() {\n    if (typeof window.ethereum !== \'undefined\') {\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\n      const contract = new ethers.Contract(greeterAddress, Greeter.abi, provider)\n      try {\n        const data = await contract.greet()\n        setGreetingValue(data)\n        console.log(\'Greeting: \', data)\n        console.log(\'Contract Address: \', contract.address)\n        console.log(\'Contract Network: \', contract.provider._network.name)\n      } catch (err) {\n        console.log("Error: ", err)\n      }\n    }    \n  }\n\n  return (\n    <div>\n      <header>\n        <h1>Ethers.js, Hardhat, Solidity, ENS</h1>\n        <h2>and React, Alchemy, and MetaMask</h2>\n      </header>\n\n      <main>\n        <h3>Greeting</h3>\n\n        <button onClick={fetchGreeting}>\n          Fetch Greeting\n        </button>\n\n        <div>{greeting}</div>\n      </main>\n    </div>\n  )\n}\n\nexport default App\n```\n\nI\'ll include Water.css in `index.html` for some nice looking CSS defaults.\n\n```html\n<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">\n```\n\n### Start Development Server\n\nStart the development server with `yarn dev`.\n\n```bash\nyarn dev\n```\n\nOpen [localhost:3000](http://localhost:3000).\n\n![08-react-app-on-localhost-3000-with-fetch-greeting-button](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zkoxpx53ht60b3o7ki34.png)\n\nClick the "Fetch Greeting" button to display the greeting from the deployed contract.\n\n![09-greeting-displayed-after-clicking-fetch-greeting-button](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a26a1vq1urbtvaewprp.png)\n\n`setGreeting` calls the smart contract and sends an update.\n\n```jsx\n// src/App.js\n\nimport { useState } from \'react\'\nimport { ethers } from \'ethers\'\nimport Greeter from \'./artifacts/contracts/Greeter.sol/Greeter.json\'\n\nconst greeterAddress = import.meta.env.VITE_GREETER_ADDRESS\n\nfunction App() {\n  const [greeting, setGreetingValue] = useState()\n\n  async function requestAccount() {\n    await window.ethereum.request({ method: \'eth_requestAccounts\' })\n  }\n\n  async function fetchGreeting() {\n    if (typeof window.ethereum !== \'undefined\') {\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\n      const contract = new ethers.Contract(greeterAddress, Greeter.abi, provider)\n      try {\n        const data = await contract.greet()\n        setGreetingValue(data)\n        console.log(\'Greeting: \', data)\n        console.log(\'Contract Address: \', contract.address)\n        console.log(\'Contract Network: \', contract.provider._network.name)\n      } catch (err) {\n        console.log("Error: ", err)\n      }\n    }    \n  }\n\n  async function setGreeting() {\n    if (!greeting) return\n    if (typeof window.ethereum !== \'undefined\') {\n      await requestAccount()\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\n      const signer = provider.getSigner()\n      const contract = new ethers.Contract(greeterAddress, Greeter.abi, signer)\n      const transaction = await contract.setGreeting(greeting)\n      await transaction.wait()\n      fetchGreeting()\n    }\n  }\n\n  return (\n    <div>\n      <header>\n        <h1>Ethers.js, Hardhat, Solidity, ENS</h1>\n        <h2>and React, Alchemy, and MetaMask</h2>\n      </header>\n\n      <main>\n        <h3>Greeting</h3>\n\n        <button onClick={fetchGreeting}>\n          Fetch Greeting\n        </button>\n        <div>{greeting}</div>\n\n        <input\n          onChange={e => setGreetingValue(e.target.value)}\n          placeholder="Set greeting" \n        />\n        <button onClick={setGreeting}>\n          Set Greeting\n        </button>\n      </main>\n    </div>\n  )\n}\n\nexport default App\n```\n\n### Connect React App to MetaMask\n\nSelect account to connect with MetaMask.\n\n![10-select-account-to-connect-with-metamask](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rytdc1cj071kk4xcm27v.png)\n\nConnect to the account.\n\n![11-connect-to-account-with-metamask](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qft6ta0lj5xhk4i0knu8.png)\n\nEnter input and click Set Greeting. You will be asked to pay a gas fee.\n\n![12-pay-gas-fee](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xppbyh6zwtqgacjojjax.png)\n\nThe greeting value will be set to the new inputted greeting.\n\n## Deploy to Ropsten Testnet\n\nEthereum provides test networks like Ropsten, Rinkeby, or Kovan that we can use to deploy a publicly accessible version of our contract without having to deploy it to the mainnet.\n\n### Connect MetaMask to Ropsten\n\nUpdate your MetaMask wallet to connect to the [Ropsten](https://ropsten.etherscan.io/) network.\n\n![13-change-to-ropsten-testnet](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xeefv78bpy2vj1i1xdi8.png)\n\nWe can get access to Ropsten and other test networks by using a service like [Infura](https://infura.io/), [Alchemy](https://www.alchemy.com/), or [QuickNode](https://www.quicknode.com/).\n\n### Create an Alchemy Account\n\nAlchemy Supernode is a blockchain API that can connect to various tools in the blockchain ecosystem such as Ethereum, Polygon, Arbitrum, Optimism, and Flow. It provides common node functionality including JSON-RPC support with built in reliability, data correctness and scalability. After creating an account, you will see your dashboard.\n\n![14-alchemy-dashboard](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1w8axkijbifzcfa9lqu7.png)\n\n### Create an Alchemy Application\n\nClick **Create App** and give your app a name and description. Select development for the environment, Ethereum for the chain, and Ropsten for the network.\n\n![15-create-app-on-alchemy](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/drxvimw53jqlu4nrmcii.png)\n\nAfter creating the app you will see it appear in your dashboard.\n\n![16-alchemy-dashboard-with-ajcwebdev-ethers-app](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0fpw8akulm90jgp6vup0.png)\n\n### Get Alchemy Key\n\nClick the name of the app to see more details.\n\n![17-alchemy-app-view-details](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qjzpqe9zgmo3nzcstkmy.png)\n\nClick **View Key** to see your endpoints.\n\n![18-alchemy-endpoints](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nvxdpozaswc9u4fy4ccc.png)\n\nThe https endpoint will look something like this:\n\n```\nhttps://eth-ropsten.alchemyapi.io/v2/PROJECT_ID\n```\n\nClick **Edit App** and add the account address from `App.jsx` to the allowed accounts.\n\n![19-allowed-addresses](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2ved13q0s5d1lrgnmofu.png)\n\n### Add Alchemy Endpoint to Hardhat Configuration\n\nOpen `hardhat.config.js` and add `networks` property.\n\n```js\n// hardhat.config.js\n\nrequire("@nomiclabs/hardhat-waffle")\nrequire(\'dotenv\').config()\n\nconst { ALCHEMY_URL, ALCHEMY_KEY } = process.env\n\ntask("accounts", "Prints the list of accounts", async (taskArgs, hre) => {\n  const accounts = await hre.ethers.getSigners()\n\n  for (const account of accounts) {\n    console.log(account.address)\n  }\n})\n\n/**\n * @type import(\'hardhat/config\').HardhatUserConfig\n */\nmodule.exports = {\n  solidity: "0.8.7",\n  defaultNetwork: "hardhat",\n  paths: {\n    artifacts: \'./src/artifacts\',\n  },\n  networks: {\n    hardhat: {},\n    ropsten: {\n      url: `${ALCHEMY_URL}`,\n      accounts: [`${ALCHEMY_KEY}`]\n    }\n  }\n}\n```\n\n### Deploy Contract to Ropsten\n\nSend yourself test Ether by visiting a test faucet like [faucet.ropsten.be](https://faucet.ropsten.be/) or [faucet.dimensions.network](https://faucet.dimensions.network/). Run the following script to deploy.\n\n```bash\nyarn hardhat run scripts/deploy.js \\\n  --network ropsten\n```\n\n```\nGreeter deployed to 0x42839A6cD421B0C29AcD3FB900feAa6a76f34684 address\nGreeter deployed by "<SignerWithAddress 0x71bE63f3384f5fb98995898A86B02Fb2426c5788>" signer\nDeploy transaction hash: 0x9f5875c939d804501767690d843aefb05d91f4b1f5d34d477dbe6d7327c83ca4\nDeploy transaction block hash: null\n```\n\nOnce your contract is deployed you can view the live contract on [Etherscan Ropsten Testnet Explorer](https://ropsten.etherscan.io/).\n\n![20-contract-on-etherscan](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hcbigmb5felstbcdeiio.png)',a.user={name:"ajcwebdev.wallet",username:n,twitter_username:n,github_username:n,website_url:"https://ajcwebdev.com",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--taHIyMGh--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/350465/7099aaa0-9934-49d3-9941-c0d52ad0238c.jpeg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--cD2_-WrB--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/350465/7099aaa0-9934-49d3-9941-c0d52ad0238c.jpeg"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:a}},error:s,state:{currentArticle:a},serverRendered:!0,routePath:"/ajcwebdev/1008800",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:s}}}}(null,"ajcwebdev",{},"2022-03-04T06:01:05Z")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
