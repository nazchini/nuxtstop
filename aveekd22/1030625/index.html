<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Use Cloud Formation Templates to spin up MySQL instances on RDS</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Use Cloud Formation Templates to spin up MySQL instances on RDS</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/aws" class="tag" data-v-70afb46a>
          #aws
        </a><a href="/nuxtstop/t/mysql" class="tag" data-v-70afb46a>
          #mysql
        </a><a href="/nuxtstop/t/cloudformation" class="tag" data-v-70afb46a>
          #cloudformation
        </a><a href="/nuxtstop/t/rds" class="tag" data-v-70afb46a>
          #rds
        </a></div> <!----> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            4
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Mar 22</time></div></header> <div class="content" data-v-70afb46a><p>In this article, I am going to discuss how to set up a MySQL instance on AWS RDS using Cloud Formation templates. In my previous article, <a href="https://www.sqlshack.com/how-to-configure-amazon-rds-mysql-environment/">How to configure an Amazon RDS environment for MySQL</a>, I have provided a detailed walkthrough of how to set up a MySQL instance on Amazon. You can use the AWS console to provide all the information required for setting up the instance and then use it. However, in this article, we will discuss an automated way of achieving the same functionalities using Cloud Formation templates.</p>

<h2>
  <a name="what-is-a-cloudformation-template" href="#what-is-a-cloudformation-template">
  </a>
  What is a CloudFormation template?
</h2>

<p>In order to start writing the templates, we first need to understand what cloud formation is all about. AWS offers Cloud Formation as a cloud service that enables AWS customers to write the desired state of any infrastructure as a code and then use it to deploy resources to AWS. It allows us to create a resource or a group of resources by following simple configuration templates. For example, if you want to deploy a web application on an EC2 instance that will also use an RDS database, you can simply combine both the resources into one stack and write the code for setting up the instances. Once you run, it will create both the EC2 and the RDS instance and also deploy your web application.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--go3O56Q0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/cloudformation-template-on-aws-console.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--go3O56Q0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/cloudformation-template-on-aws-console.png" alt="*Figure 1 – CloudFormation Template on AWS Console*" loading="lazy" width="880" height="471"></a></p>

<p><em>Figure 1 – CloudFormation Template on AWS Console</em></p>

<p>The components of a cloud formation template are as follows:</p>

<ul>
<li>A <strong>JSON</strong> or <strong>YAML</strong> file in which the resources will be defined as a template</li>
<li>A stack can be a combination of multiple resources that needed to be set up as a part of the application. For e.g., EC2 and RDS</li>
<li>A changeset can be used to view a list of operations to be performed by the stack</li>
<li>A stack set also can be considered as a managed group of stacks that be reproduced or replicated</li>
</ul>

<p>Out of the above, we will mainly focus on the JSON/YAML template and the stack in this article. The templates support a wide range of resources on AWS. To get an exhaustive list please follow this <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">link</a>.</p>

<h2>
  <a name="writing-the-json-or-yaml-template-file" href="#writing-the-json-or-yaml-template-file">
  </a>
  Writing the JSON or YAML template file
</h2>

<p>One of the main challenges that we face while writing a template for the first time is what contents should be included in it. To ease that AWS provides a lot of <a href="https://aws.amazon.com/cloudformation/resources/templates/">template samples</a> that can be easily found on the official documentation. Once you find the template required to create a necessary resource, you can use it to create your own template. The template can either be created using JSON or YAML and converted from one to another as well. On a personal note, I prefer writing the templates using YAML as it helps me keep away from the curly braces and commas and keeps the document cleaner. However, you are free to choose any option between JSON and YAML.</p>

<p>For this exercise, let us try to spin up a MySQL instance on RDS and we will write the code in YAML. In order to set up a MySQL database using cloud formation, we would need the following items.</p>

<ul>
<li>
<strong>Resource Name</strong> – The name of the resource you are going to set up.</li>
<li>
<strong>Resource Type</strong> – The type of the resource.</li>
<li>
<strong>Resource Properties</strong> – The database name, username, and password to connect to.</li>
<li>
<strong>The database Engine</strong> – MySQL, SQL Server, PostgreSQL, etc.</li>
<li>
<strong>Storage Type</strong> – The storage type to be used.</li>
<li>
<strong>Public Accessibility</strong> – Weather the database should have public access or not.</li>
<li>
<strong>Allocated Memory</strong> – The memory that should be allocated to the database instance.</li>
<li>
<strong>AWS Region</strong> – The region in which the instance is to be created.</li>
</ul>

<p>Now that we have some points with us, let us go ahead and start by writing the template file.</p>

<p><a href="https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6">https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6</a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--mAeJwrey--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/the-template-file-for-creating-mysql-instance-on-r.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--mAeJwrey--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/the-template-file-for-creating-mysql-instance-on-r.png" alt="*Figure 2 – The template file for creating MySQL instance on RDS*" loading="lazy" width="880" height="594"></a></p>

<p><em>Figure 2 – The template file for creating MySQL instance on RDS</em></p>

<p>As you can see in the figure above, the structure of the file is divided into two parts. In the first part, we have defined a few parameters that will be used by the resource definitions in the second part while creating the resources on AWS. You can use the same script on your machine to create an instance on your AWS account.</p>

<h2>
  <a name="setting-up-the-stack-on-the-console" href="#setting-up-the-stack-on-the-console">
  </a>
  Setting up the stack on the console
</h2>

<p>Now that we have created our template for MySQL, it’s time we set it up to see if everything runs well. Head over to the AWS console and search for Cloud Formation on the search bar. Click on Create Stack and upload the template file from your local. Click <strong>Next</strong> once done.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LVD7zlVE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/creating-the-stack-from-template.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LVD7zlVE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/creating-the-stack-from-template.png" alt="*Figure 3 – Creating the stack from the template*" loading="lazy" width="880" height="439"></a></p>

<p><em>Figure 3 – Creating the stack from the template</em></p>

<p>On the next page, you will be asked to provide the parameters that were defined in the cloud formation template. Go ahead and provide the necessary details and click <strong>Next</strong>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--wVtyfdQc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-parameters-provided.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--wVtyfdQc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-parameters-provided.png" alt="*Figure 4 – Stack Parameters provided*" loading="lazy" width="880" height="455"></a></p>

<p><em>Figure 4 – Stack Parameters provided</em></p>

<p>Review the stack changes and parameters and click on <strong>Create Stack</strong> on the last page. The stack creation will start. It might take some time to create all the resources before they are available to use. In the meantime, you can click on the Reload button to check if all the events have been created successfully.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gS3Qmln5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-creation-in-progress.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gS3Qmln5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-creation-in-progress.png" alt="*Figure 5 – Stack Creation in progress*" loading="lazy" width="880" height="305"></a></p>

<p><em>Figure 5 – Stack Creation in progress</em></p>

<p>As you can see on the timestamps, it took me around 6 minutes after which the resources were available and were also visible on the console. Navigate to the <strong>Resources</strong> tab and click on the <strong>Physical ID</strong> of the resource. This will take you to the RDS console.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--TsSlbpEL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-created-successfully.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--TsSlbpEL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-created-successfully.png" alt="*Figure 6 – Stack Created Successfully*" loading="lazy" width="880" height="435"></a></p>

<p><em>Figure 6 – Stack Created Successfully</em></p>

<h2>
  <a name="connecting-the-mysql-database" href="#connecting-the-mysql-database">
  </a>
  Connecting the MySQL database
</h2>

<p>Once you are in the RDS console, you can get the hostname for the database instance and use it to connect to the database. Grab the <strong>endpoint</strong> from the console and use it to connect.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--1X2Pyaes--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/mysql-instance-details-on-rds.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--1X2Pyaes--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/mysql-instance-details-on-rds.png" alt="*Figure 7 – MySQL instance details on RDS*" loading="lazy" width="880" height="530"></a></p>

<p><em>Figure 7 – MySQL instance details on RDS</em></p>

<p>Let us now head over to MySQL Workbench and try connecting to the hostname with the credentials that we have provided earlier. Use the hostname, username, and password to connect to the instance.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8OpXHAo9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/connecting-to-the-mysql-instance-using-mysql-workb.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8OpXHAo9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/connecting-to-the-mysql-instance-using-mysql-workb.png" alt="*Figure 8 – Connecting to the MySQL instance using MySQL Workbench*" loading="lazy" width="880" height="598"></a></p>

<p><em>Figure 8 – Connecting to the MySQL instance using MySQL Workbench</em></p>

<p>As you can see in the figure above, we have successfully connected to the database instance on RDS. Let us now run some queries and see if it works.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--44asa713--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/executing-scripts-in-the-mysql-workbench.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--44asa713--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/executing-scripts-in-the-mysql-workbench.png" alt="*Figure 9 – Executing scripts in the MySQL Workbench*" loading="lazy" width="880" height="514"></a></p>

<p><em>Figure 9 – Executing scripts in the MySQL Workbench</em></p>

<p>As you can see in the figure above, we have been able to connect to the database instance and execute queries. With this, you are able to write your own cloud formation template and spin up any other resources like the SQL Server or PostgreSQL database. </p>

<h2>
  <a name="removing-the-resources" href="#removing-the-resources">
  </a>
  Removing the resources
</h2>

<p>If you are performing this as an exercise, I would recommend removing the resources that we have created as it will incur some charges. You can navigate to the RDS console and then select the instance and click on <strong>Delete</strong> to remove the resources permanently.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--FblbbPbT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/deleting-the-resources-created.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--FblbbPbT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/deleting-the-resources-created.png" alt="*Figure 10 – Deleting the resources created*" loading="lazy" width="880" height="690"></a></p>

<p><em>Figure 10 – Deleting the resources created</em></p>

<p>Once the resources have been deleted successfully, you can check in the console once again if there are any instances running just to avoid adding unnecessary billing costs.</p>

<h2>
  <a name="conclusion" href="#conclusion">
  </a>
  Conclusion
</h2>

<p>In this article, we have discussed in detail how to set up a MySQL database instance in an AWS RDS environment and automate it using the Cloud Formation template. This way if setting up resources on the cloud is also known as infrastructure-as-code service where you can set up the entire infrastructure as code and then use it in various environments. These templates can be used not only to deploy database instances but also other infrastructures within the AWS such as EC2, Lambda, RedShift, etc. To learn more about the cloud formation templates, you can view the sample templates available on the <a href="https://aws.amazon.com/cloudformation/resources/templates/">official website</a>.</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/aveekd22/use-cloud-formation-templates-to-spin-up-mysql-instances-on-rds-17d7" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(e,t,a){return a.type_of="article",a.id=1030625,a.title="Use Cloud Formation Templates to spin up MySQL instances on RDS",a.description="In this article, I am going to discuss how to set up a MySQL instance on AWS RDS using Cloud...",a.readable_publish_date="Mar 22",a.slug="use-cloud-formation-templates-to-spin-up-mysql-instances-on-rds-17d7",a.path="/aveekd22/use-cloud-formation-templates-to-spin-up-mysql-instances-on-rds-17d7",a.url="https://dev.to/aveekd22/use-cloud-formation-templates-to-spin-up-mysql-instances-on-rds-17d7",a.comments_count=0,a.public_reactions_count=4,a.collection_id=e,a.published_timestamp=t,a.positive_reactions_count=4,a.cover_image=e,a.social_image="https://dev.to/social_previews/article/1030625.png",a.canonical_url="https://www.sqlshack.com/spinning-up-mysql-instances-on-rds-using-cloudformation-templates/",a.created_at=t,a.edited_at="2022-03-22T08:28:51Z",a.crossposted_at=e,a.published_at=t,a.last_comment_at=t,a.reading_time_minutes=6,a.tag_list="aws, mysql, cloudformation, rds",a.tags=["aws","mysql","cloudformation","rds"],a.body_html='<p>In this article, I am going to discuss how to set up a MySQL instance on AWS RDS using Cloud Formation templates. In my previous article, <a href="https://www.sqlshack.com/how-to-configure-amazon-rds-mysql-environment/">How to configure an Amazon RDS environment for MySQL</a>, I have provided a detailed walkthrough of how to set up a MySQL instance on Amazon. You can use the AWS console to provide all the information required for setting up the instance and then use it. However, in this article, we will discuss an automated way of achieving the same functionalities using Cloud Formation templates.</p>\n\n<h2>\n  <a name="what-is-a-cloudformation-template" href="#what-is-a-cloudformation-template">\n  </a>\n  What is a CloudFormation template?\n</h2>\n\n<p>In order to start writing the templates, we first need to understand what cloud formation is all about. AWS offers Cloud Formation as a cloud service that enables AWS customers to write the desired state of any infrastructure as a code and then use it to deploy resources to AWS. It allows us to create a resource or a group of resources by following simple configuration templates. For example, if you want to deploy a web application on an EC2 instance that will also use an RDS database, you can simply combine both the resources into one stack and write the code for setting up the instances. Once you run, it will create both the EC2 and the RDS instance and also deploy your web application.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--go3O56Q0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/cloudformation-template-on-aws-console.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--go3O56Q0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/cloudformation-template-on-aws-console.png" alt="*Figure 1 – CloudFormation Template on AWS Console*" loading="lazy" width="880" height="471"></a></p>\n\n<p><em>Figure 1 – CloudFormation Template on AWS Console</em></p>\n\n<p>The components of a cloud formation template are as follows:</p>\n\n<ul>\n<li>A <strong>JSON</strong> or <strong>YAML</strong> file in which the resources will be defined as a template</li>\n<li>A stack can be a combination of multiple resources that needed to be set up as a part of the application. For e.g., EC2 and RDS</li>\n<li>A changeset can be used to view a list of operations to be performed by the stack</li>\n<li>A stack set also can be considered as a managed group of stacks that be reproduced or replicated</li>\n</ul>\n\n<p>Out of the above, we will mainly focus on the JSON/YAML template and the stack in this article. The templates support a wide range of resources on AWS. To get an exhaustive list please follow this <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">link</a>.</p>\n\n<h2>\n  <a name="writing-the-json-or-yaml-template-file" href="#writing-the-json-or-yaml-template-file">\n  </a>\n  Writing the JSON or YAML template file\n</h2>\n\n<p>One of the main challenges that we face while writing a template for the first time is what contents should be included in it. To ease that AWS provides a lot of <a href="https://aws.amazon.com/cloudformation/resources/templates/">template samples</a> that can be easily found on the official documentation. Once you find the template required to create a necessary resource, you can use it to create your own template. The template can either be created using JSON or YAML and converted from one to another as well. On a personal note, I prefer writing the templates using YAML as it helps me keep away from the curly braces and commas and keeps the document cleaner. However, you are free to choose any option between JSON and YAML.</p>\n\n<p>For this exercise, let us try to spin up a MySQL instance on RDS and we will write the code in YAML. In order to set up a MySQL database using cloud formation, we would need the following items.</p>\n\n<ul>\n<li>\n<strong>Resource Name</strong> – The name of the resource you are going to set up.</li>\n<li>\n<strong>Resource Type</strong> – The type of the resource.</li>\n<li>\n<strong>Resource Properties</strong> – The database name, username, and password to connect to.</li>\n<li>\n<strong>The database Engine</strong> – MySQL, SQL Server, PostgreSQL, etc.</li>\n<li>\n<strong>Storage Type</strong> – The storage type to be used.</li>\n<li>\n<strong>Public Accessibility</strong> – Weather the database should have public access or not.</li>\n<li>\n<strong>Allocated Memory</strong> – The memory that should be allocated to the database instance.</li>\n<li>\n<strong>AWS Region</strong> – The region in which the instance is to be created.</li>\n</ul>\n\n<p>Now that we have some points with us, let us go ahead and start by writing the template file.</p>\n\n<p><a href="https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6">https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6</a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--mAeJwrey--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/the-template-file-for-creating-mysql-instance-on-r.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--mAeJwrey--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/the-template-file-for-creating-mysql-instance-on-r.png" alt="*Figure 2 – The template file for creating MySQL instance on RDS*" loading="lazy" width="880" height="594"></a></p>\n\n<p><em>Figure 2 – The template file for creating MySQL instance on RDS</em></p>\n\n<p>As you can see in the figure above, the structure of the file is divided into two parts. In the first part, we have defined a few parameters that will be used by the resource definitions in the second part while creating the resources on AWS. You can use the same script on your machine to create an instance on your AWS account.</p>\n\n<h2>\n  <a name="setting-up-the-stack-on-the-console" href="#setting-up-the-stack-on-the-console">\n  </a>\n  Setting up the stack on the console\n</h2>\n\n<p>Now that we have created our template for MySQL, it’s time we set it up to see if everything runs well. Head over to the AWS console and search for Cloud Formation on the search bar. Click on Create Stack and upload the template file from your local. Click <strong>Next</strong> once done.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LVD7zlVE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/creating-the-stack-from-template.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LVD7zlVE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/creating-the-stack-from-template.png" alt="*Figure 3 – Creating the stack from the template*" loading="lazy" width="880" height="439"></a></p>\n\n<p><em>Figure 3 – Creating the stack from the template</em></p>\n\n<p>On the next page, you will be asked to provide the parameters that were defined in the cloud formation template. Go ahead and provide the necessary details and click <strong>Next</strong>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--wVtyfdQc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-parameters-provided.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--wVtyfdQc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-parameters-provided.png" alt="*Figure 4 – Stack Parameters provided*" loading="lazy" width="880" height="455"></a></p>\n\n<p><em>Figure 4 – Stack Parameters provided</em></p>\n\n<p>Review the stack changes and parameters and click on <strong>Create Stack</strong> on the last page. The stack creation will start. It might take some time to create all the resources before they are available to use. In the meantime, you can click on the Reload button to check if all the events have been created successfully.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gS3Qmln5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-creation-in-progress.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gS3Qmln5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-creation-in-progress.png" alt="*Figure 5 – Stack Creation in progress*" loading="lazy" width="880" height="305"></a></p>\n\n<p><em>Figure 5 – Stack Creation in progress</em></p>\n\n<p>As you can see on the timestamps, it took me around 6 minutes after which the resources were available and were also visible on the console. Navigate to the <strong>Resources</strong> tab and click on the <strong>Physical ID</strong> of the resource. This will take you to the RDS console.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--TsSlbpEL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-created-successfully.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--TsSlbpEL--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/stack-created-successfully.png" alt="*Figure 6 – Stack Created Successfully*" loading="lazy" width="880" height="435"></a></p>\n\n<p><em>Figure 6 – Stack Created Successfully</em></p>\n\n<h2>\n  <a name="connecting-the-mysql-database" href="#connecting-the-mysql-database">\n  </a>\n  Connecting the MySQL database\n</h2>\n\n<p>Once you are in the RDS console, you can get the hostname for the database instance and use it to connect to the database. Grab the <strong>endpoint</strong> from the console and use it to connect.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--1X2Pyaes--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/mysql-instance-details-on-rds.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--1X2Pyaes--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/mysql-instance-details-on-rds.png" alt="*Figure 7 – MySQL instance details on RDS*" loading="lazy" width="880" height="530"></a></p>\n\n<p><em>Figure 7 – MySQL instance details on RDS</em></p>\n\n<p>Let us now head over to MySQL Workbench and try connecting to the hostname with the credentials that we have provided earlier. Use the hostname, username, and password to connect to the instance.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--8OpXHAo9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/connecting-to-the-mysql-instance-using-mysql-workb.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--8OpXHAo9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/connecting-to-the-mysql-instance-using-mysql-workb.png" alt="*Figure 8 – Connecting to the MySQL instance using MySQL Workbench*" loading="lazy" width="880" height="598"></a></p>\n\n<p><em>Figure 8 – Connecting to the MySQL instance using MySQL Workbench</em></p>\n\n<p>As you can see in the figure above, we have successfully connected to the database instance on RDS. Let us now run some queries and see if it works.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--44asa713--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/executing-scripts-in-the-mysql-workbench.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--44asa713--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/executing-scripts-in-the-mysql-workbench.png" alt="*Figure 9 – Executing scripts in the MySQL Workbench*" loading="lazy" width="880" height="514"></a></p>\n\n<p><em>Figure 9 – Executing scripts in the MySQL Workbench</em></p>\n\n<p>As you can see in the figure above, we have been able to connect to the database instance and execute queries. With this, you are able to write your own cloud formation template and spin up any other resources like the SQL Server or PostgreSQL database. </p>\n\n<h2>\n  <a name="removing-the-resources" href="#removing-the-resources">\n  </a>\n  Removing the resources\n</h2>\n\n<p>If you are performing this as an exercise, I would recommend removing the resources that we have created as it will incur some charges. You can navigate to the RDS console and then select the instance and click on <strong>Delete</strong> to remove the resources permanently.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--FblbbPbT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/deleting-the-resources-created.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--FblbbPbT--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.sqlshack.com/wp-content/uploads/2021/04/deleting-the-resources-created.png" alt="*Figure 10 – Deleting the resources created*" loading="lazy" width="880" height="690"></a></p>\n\n<p><em>Figure 10 – Deleting the resources created</em></p>\n\n<p>Once the resources have been deleted successfully, you can check in the console once again if there are any instances running just to avoid adding unnecessary billing costs.</p>\n\n<h2>\n  <a name="conclusion" href="#conclusion">\n  </a>\n  Conclusion\n</h2>\n\n<p>In this article, we have discussed in detail how to set up a MySQL database instance in an AWS RDS environment and automate it using the Cloud Formation template. This way if setting up resources on the cloud is also known as infrastructure-as-code service where you can set up the entire infrastructure as code and then use it in various environments. These templates can be used not only to deploy database instances but also other infrastructures within the AWS such as EC2, Lambda, RedShift, etc. To learn more about the cloud formation templates, you can view the sample templates available on the <a href="https://aws.amazon.com/cloudformation/resources/templates/">official website</a>.</p>\n\n',a.body_markdown="In this article, I am going to discuss how to set up a MySQL instance on AWS RDS using Cloud Formation templates. In my previous article, [How to configure an Amazon RDS environment for MySQL](https://www.sqlshack.com/how-to-configure-amazon-rds-mysql-environment/), I have provided a detailed walkthrough of how to set up a MySQL instance on Amazon. You can use the AWS console to provide all the information required for setting up the instance and then use it. However, in this article, we will discuss an automated way of achieving the same functionalities using Cloud Formation templates.\n\n## What is a CloudFormation template?\n\nIn order to start writing the templates, we first need to understand what cloud formation is all about. AWS offers Cloud Formation as a cloud service that enables AWS customers to write the desired state of any infrastructure as a code and then use it to deploy resources to AWS. It allows us to create a resource or a group of resources by following simple configuration templates. For example, if you want to deploy a web application on an EC2 instance that will also use an RDS database, you can simply combine both the resources into one stack and write the code for setting up the instances. Once you run, it will create both the EC2 and the RDS instance and also deploy your web application.\n\n![*Figure 1 – CloudFormation Template on AWS Console*](https://www.sqlshack.com/wp-content/uploads/2021/04/cloudformation-template-on-aws-console.png)\n\n*Figure 1 – CloudFormation Template on AWS Console*\n\nThe components of a cloud formation template are as follows:\n\n- A **JSON** or **YAML** file in which the resources will be defined as a template\n- A stack can be a combination of multiple resources that needed to be set up as a part of the application. For e.g., EC2 and RDS\n- A changeset can be used to view a list of operations to be performed by the stack\n- A stack set also can be considered as a managed group of stacks that be reproduced or replicated\n\nOut of the above, we will mainly focus on the JSON/YAML template and the stack in this article. The templates support a wide range of resources on AWS. To get an exhaustive list please follow this [link](https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html).\n\n## Writing the JSON or YAML template file\n\nOne of the main challenges that we face while writing a template for the first time is what contents should be included in it. To ease that AWS provides a lot of [template samples](https://aws.amazon.com/cloudformation/resources/templates/) that can be easily found on the official documentation. Once you find the template required to create a necessary resource, you can use it to create your own template. The template can either be created using JSON or YAML and converted from one to another as well. On a personal note, I prefer writing the templates using YAML as it helps me keep away from the curly braces and commas and keeps the document cleaner. However, you are free to choose any option between JSON and YAML.\n\nFor this exercise, let us try to spin up a MySQL instance on RDS and we will write the code in YAML. In order to set up a MySQL database using cloud formation, we would need the following items.\n\n- **Resource Name** – The name of the resource you are going to set up.\n- **Resource Type** – The type of the resource.\n- **Resource Properties** – The database name, username, and password to connect to.\n- **The database Engine** – MySQL, SQL Server, PostgreSQL, etc.\n- **Storage Type** – The storage type to be used.\n- **Public Accessibility** – Weather the database should have public access or not.\n- **Allocated Memory** – The memory that should be allocated to the database instance.\n- **AWS Region** – The region in which the instance is to be created.\n\nNow that we have some points with us, let us go ahead and start by writing the template file.\n\n[https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6](https://gist.github.com/aveek22/a188b02abde65479bbba2deba5ec90d6)\n\n![*Figure 2 – The template file for creating MySQL instance on RDS*](https://www.sqlshack.com/wp-content/uploads/2021/04/the-template-file-for-creating-mysql-instance-on-r.png)\n\n*Figure 2 – The template file for creating MySQL instance on RDS*\n\nAs you can see in the figure above, the structure of the file is divided into two parts. In the first part, we have defined a few parameters that will be used by the resource definitions in the second part while creating the resources on AWS. You can use the same script on your machine to create an instance on your AWS account.\n\n## Setting up the stack on the console\n\nNow that we have created our template for MySQL, it’s time we set it up to see if everything runs well. Head over to the AWS console and search for Cloud Formation on the search bar. Click on Create Stack and upload the template file from your local. Click **Next** once done.\n\n![*Figure 3 – Creating the stack from the template*](https://www.sqlshack.com/wp-content/uploads/2021/04/creating-the-stack-from-template.png)\n\n*Figure 3 – Creating the stack from the template*\n\nOn the next page, you will be asked to provide the parameters that were defined in the cloud formation template. Go ahead and provide the necessary details and click **Next**.\n\n![*Figure 4 – Stack Parameters provided*](https://www.sqlshack.com/wp-content/uploads/2021/04/stack-parameters-provided.png)\n\n*Figure 4 – Stack Parameters provided*\n\nReview the stack changes and parameters and click on **Create Stack** on the last page. The stack creation will start. It might take some time to create all the resources before they are available to use. In the meantime, you can click on the Reload button to check if all the events have been created successfully.\n\n![*Figure 5 – Stack Creation in progress*](https://www.sqlshack.com/wp-content/uploads/2021/04/stack-creation-in-progress.png)\n\n*Figure 5 – Stack Creation in progress*\n\nAs you can see on the timestamps, it took me around 6 minutes after which the resources were available and were also visible on the console. Navigate to the **Resources** tab and click on the **Physical ID** of the resource. This will take you to the RDS console.\n\n![*Figure 6 – Stack Created Successfully*](https://www.sqlshack.com/wp-content/uploads/2021/04/stack-created-successfully.png)\n\n*Figure 6 – Stack Created Successfully*\n\n## Connecting the MySQL database\n\nOnce you are in the RDS console, you can get the hostname for the database instance and use it to connect to the database. Grab the **endpoint** from the console and use it to connect.\n\n![*Figure 7 – MySQL instance details on RDS*](https://www.sqlshack.com/wp-content/uploads/2021/04/mysql-instance-details-on-rds.png)\n\n*Figure 7 – MySQL instance details on RDS*\n\nLet us now head over to MySQL Workbench and try connecting to the hostname with the credentials that we have provided earlier. Use the hostname, username, and password to connect to the instance.\n\n![*Figure 8 – Connecting to the MySQL instance using MySQL Workbench*](https://www.sqlshack.com/wp-content/uploads/2021/04/connecting-to-the-mysql-instance-using-mysql-workb.png)\n\n*Figure 8 – Connecting to the MySQL instance using MySQL Workbench*\n\nAs you can see in the figure above, we have successfully connected to the database instance on RDS. Let us now run some queries and see if it works.\n\n![*Figure 9 – Executing scripts in the MySQL Workbench*](https://www.sqlshack.com/wp-content/uploads/2021/04/executing-scripts-in-the-mysql-workbench.png)\n\n*Figure 9 – Executing scripts in the MySQL Workbench*\n\nAs you can see in the figure above, we have been able to connect to the database instance and execute queries. With this, you are able to write your own cloud formation template and spin up any other resources like the SQL Server or PostgreSQL database. \n\n## Removing the resources\n\nIf you are performing this as an exercise, I would recommend removing the resources that we have created as it will incur some charges. You can navigate to the RDS console and then select the instance and click on **Delete** to remove the resources permanently.\n\n![*Figure 10 – Deleting the resources created*](https://www.sqlshack.com/wp-content/uploads/2021/04/deleting-the-resources-created.png)\n\n*Figure 10 – Deleting the resources created*\n\nOnce the resources have been deleted successfully, you can check in the console once again if there are any instances running just to avoid adding unnecessary billing costs.\n\n## Conclusion\n\nIn this article, we have discussed in detail how to set up a MySQL database instance in an AWS RDS environment and automate it using the Cloud Formation template. This way if setting up resources on the cloud is also known as infrastructure-as-code service where you can set up the entire infrastructure as code and then use it in various environments. These templates can be used not only to deploy database instances but also other infrastructures within the AWS such as EC2, Lambda, RedShift, etc. To learn more about the cloud formation templates, you can view the sample templates available on the [official website](https://aws.amazon.com/cloudformation/resources/templates/).",a.user={name:"Aveek Das",username:"aveekd22",twitter_username:"avikoleum",github_username:e,website_url:"https://datacloudmag.com",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--10GJBROl--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/568368/58822b00-2144-45ba-a9e5-9ab1003a3c48.jpg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--0VxT8Ivk--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/568368/58822b00-2144-45ba-a9e5-9ab1003a3c48.jpg"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:a}},error:e,state:{currentArticle:a},serverRendered:!0,routePath:"/aveekd22/1030625",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:e}}}}(null,"2022-03-22T08:27:05Z",{})</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
