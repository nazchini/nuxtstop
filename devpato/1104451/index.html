<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>How to Add In-App Messages to a Flutter App</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>How to Add In-App Messages to a Flutter App</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/flutter" class="tag" data-v-70afb46a>
          #flutter
        </a><a href="/nuxtstop/t/dart" class="tag" data-v-70afb46a>
          #dart
        </a><a href="/nuxtstop/t/mobiledev" class="tag" data-v-70afb46a>
          #mobiledev
        </a></div> <!----> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            4
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Jun 6</time></div></header> <div class="content" data-v-70afb46a><p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---cSgqmZr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/how-to-add-in-app-messages-to-a-flutter-app.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---cSgqmZr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/how-to-add-in-app-messages-to-a-flutter-app.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="587"></a></p>

<p>In-app messages (IAM) can help increase user engagement among active users, nudging them towards desired actions with targeted messages and dynamic content. These messages can be automated and personalized based on custom <a href="https://onesignal.com/blog/boost-push-notification-engagement-with-onesignals-segmentation-tool/">segmentation and trigger criteria</a>. This tutorial will cover how to integrate OneSignal IAM into a Flutter app for both Android and iOS. It will also show you how to use message triggers to automate and customize your messages.</p>

<h2>
  <a name="creating-the-flutter-project" href="#creating-the-flutter-project">
  </a>
  Creating the Flutter Project
</h2>

<p>Open your terminal and run the following command to create a new Flutter project<br><br>
<code>flutter create flutter_onesignal_iamcd flutter_onesignal_iam</code><br><br>
Now run the following command to add Onesignal SDK to the flutter project<br><br>
<code>flutter pub add onesignal_flutter</code></p>
<h2>
  <a name="setting-up-your-onesignal-account" href="#setting-up-your-onesignal-account">
  </a>
  Setting up your OneSignal Account
</h2>

<p>This tutorial requires a OneSignal account. You can either <a href="https://app.onesignal.com/login">log in</a> to your existing OneSignal account or <a href="https://app.onesignal.com/signup">create a new account for free</a>. Then, click <strong><em>+New App/Website</em></strong> to begin setting up your OneSignal account.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--v67Ik018--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/37P1h9kX0fQTxgKg50RfFmNRpJV5ym6cAmEqGKNOec36Ni9pMugoMkoD7WjJk8TYWyAeVa5KnMH3rh58uPLhMtuwJJ1J0aAwqYl3tUHMKq56kfiBK1gkxu-joRURQkXkF2B6DEMS" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--v67Ik018--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/37P1h9kX0fQTxgKg50RfFmNRpJV5ym6cAmEqGKNOec36Ni9pMugoMkoD7WjJk8TYWyAeVa5KnMH3rh58uPLhMtuwJJ1J0aAwqYl3tUHMKq56kfiBK1gkxu-joRURQkXkF2B6DEMS" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="424"></a></p>
<h3>
  <a name="android-setup" href="#android-setup">
  </a>
  Android Setup
</h3>

<p>As Flutter apps can target both Android and iOS, both of these platforms need to be set up individually. Let’s proceed with setting up Android for now — iOS can be added later.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Y2FwnO0i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh3.googleusercontent.com/1079YxjGproJRdRzcgmoEn1a0wStoczHtPLh2T7cX2jhnbdmI6TJugzAeyspHUVKwW22dq43QdmyoRylInn3uOI-OSy-76F6nf8RCVzBezvyaTrd7mF5_FrO6T1XISPYnHqMkE4m" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Y2FwnO0i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh3.googleusercontent.com/1079YxjGproJRdRzcgmoEn1a0wStoczHtPLh2T7cX2jhnbdmI6TJugzAeyspHUVKwW22dq43QdmyoRylInn3uOI-OSy-76F6nf8RCVzBezvyaTrd7mF5_FrO6T1XISPYnHqMkE4m" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="490"></a></p>

<p>Name your app and select <em><strong>Google Android (FCM)</strong></em> and use the following guide to <a href="https://documentation.onesignal.com/docs/generate-a-google-server-api-key"><u>generate a Firebase Server Key</u></a>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0oQ41jDB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/--c0A23Xt7HOrOzAnrVWuG70tsTimR4Q8wt68y6Al84-S77WWDe3gWGn27PpJUpsxVcC9Ukz5ORIqpxVZPBIcygszg0fkV6XsPiow22R8vw6_9xOHQqfxE9dYjV8jK6DepAarjHW" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0oQ41jDB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/--c0A23Xt7HOrOzAnrVWuG70tsTimR4Q8wt68y6Al84-S77WWDe3gWGn27PpJUpsxVcC9Ukz5ORIqpxVZPBIcygszg0fkV6XsPiow22R8vw6_9xOHQqfxE9dYjV8jK6DepAarjHW" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="372"></a></p>

<p>After you've input your Firebase Server Key and Firebase Sender ID, click <strong><em>Save & Continue</em></strong>.</p>

<p>On the next screen, select _ <strong>Flutter</strong> _ as your target SDK.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--s_236hQX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/49fTc1QegAjP3hoAUqXmbIanKQvNYHRJ7qNQiFm5YRySJttfIhfy4L-wfH1fP0PEix2f5fQAAhvacK10aPFQrs577RhpBXTDsxXAJN7YBcrqQmLMqmwrWEZi1wsLWaVE4rL1o-2x" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--s_236hQX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/49fTc1QegAjP3hoAUqXmbIanKQvNYHRJ7qNQiFm5YRySJttfIhfy4L-wfH1fP0PEix2f5fQAAhvacK10aPFQrs577RhpBXTDsxXAJN7YBcrqQmLMqmwrWEZi1wsLWaVE4rL1o-2x" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="382"></a></p>

<p>On the next page, you'll see your App ID — copy it for future reference. <strong>Don't click <em>Done</em></strong> just yet. The Flutter app needs to be run on your device first before you complete this step.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YjRx93r2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/521q84nDI0wzckpwbEZKBNcHIesKtfHjnVX1uOYbXxYPivQfgKlluiSKLUGEHccnZj-XKaFLpzw8gyXe_e_AVkR3twnt6eRAZBbDrYekQ3LqkG_AH12-1T4Ud-at_jIb53S96eMd" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YjRx93r2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/521q84nDI0wzckpwbEZKBNcHIesKtfHjnVX1uOYbXxYPivQfgKlluiSKLUGEHccnZj-XKaFLpzw8gyXe_e_AVkR3twnt6eRAZBbDrYekQ3LqkG_AH12-1T4Ud-at_jIb53S96eMd" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="382"></a></p>

<p>The App ID is used to initialize the OneSignal SDK. Add the following code to <code>main.dart</code>:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import 'package:flutter/material.dart';
import 'package:onesignal_flutter/onesignal_flutter.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  // This widget is the root of your application.
  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      home: MyHomePage(),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({Key? key}) : super(key: key);

  @override
  State&lt;MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State&lt;MyHomePage> {
  @override
  void initState() {
    super.initState();
    OneSignal.shared.setAppId("YOUR ONESIGNAL APP ID HERE");
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: const Text('OneSignal IAM'),
      ),
      body: const Center(child: Text('OneSignal IAM Example')),
    );
  }
}

</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now, run the app on your device. Then, return to your OneSignal account and click on <strong><em>Check Subscribed Users</em></strong>. A message showing your device model will be shown.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--D2-G1OBB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Bw_Wmiv3Ri2Fnf19tWaV6vI53KsVBYEKlWOaymWDONk0vOUXnjA9k-a_q5REejk16C5Db5_b9LIjjVyW5I00msFfA_pSgGzjgWApeuGwCz3p5nR5yM8DJv3l56V7LJG63ZUHJ_Al" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--D2-G1OBB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Bw_Wmiv3Ri2Fnf19tWaV6vI53KsVBYEKlWOaymWDONk0vOUXnjA9k-a_q5REejk16C5Db5_b9LIjjVyW5I00msFfA_pSgGzjgWApeuGwCz3p5nR5yM8DJv3l56V7LJG63ZUHJ_Al" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="389"></a></p>

<h3>
  <a name="ios-setup" href="#ios-setup">
  </a>
  iOS Setup
</h3>

<p>In your OneSignal account, navigate _ <strong>Settings</strong> _ and click on <em><strong>Apple iOS (APNs)</strong></em>. In this step, you will be asked for an iOS push certificate and its password.</p>

<p>Check out the linked documentation to learn <a href="https://documentation.onesignal.com/docs/generate-an-ios-push-certificate">how to generate an iOS push certificate</a>. The easiest method is to use<a href="https://onesignal.com/provisionator">OneSignal provisionator</a>, which directly generates the p12 file and password without much hassle. Once generated, upload the p12 file and password, and continue to the next screen.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gNw4Gp-9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/g-RK42ukOsNazyECQOoa9yLCwENsb3WxMgn33m8_DXCk1wsHgjMdy74OL-S5nAirQinhg46HLWkt7xsxMrWTNnWKpWywHsnSgIqtjwtFnO3RkKxwt9pgTEmgHAWJPDp4AmCojvPlMsOb2fySWQ" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gNw4Gp-9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/g-RK42ukOsNazyECQOoa9yLCwENsb3WxMgn33m8_DXCk1wsHgjMdy74OL-S5nAirQinhg46HLWkt7xsxMrWTNnWKpWywHsnSgIqtjwtFnO3RkKxwt9pgTEmgHAWJPDp4AmCojvPlMsOb2fySWQ" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Yq7py_v5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Uadu5kRL8BxcMZQ9IMMenYy670uHseGf3yGR504sDO_L1saV8wPfKs-5ouH4uDWaFUKcM--LcP-sIiyckbeOxd9Zq8MTzZNbxEpXF9L21BPrtPthcwYi8ZkEVju8IWVASgG-clP6xGhg7UpwyA" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Yq7py_v5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Uadu5kRL8BxcMZQ9IMMenYy670uHseGf3yGR504sDO_L1saV8wPfKs-5ouH4uDWaFUKcM--LcP-sIiyckbeOxd9Zq8MTzZNbxEpXF9L21BPrtPthcwYi8ZkEVju8IWVASgG-clP6xGhg7UpwyA" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>

<h3>
  <a name="upload-your-apns-cert" href="#upload-your-apns-cert">
  </a>
  Upload Your APNs Cert
</h3>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNxsy8MV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/VRzrv4qZcGkIrjtez8mRAu40EJexhtWj4T41HFvgkI_XuNzf0HlgVgwgLrR8y7mYqiZWzTB2vbKsGeskkZrtv5zpZViIHPyKFRrOgbIudRlhi1i8QhUw5cSyxGcan53fmIFkiIJq_VEop7cdCw" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNxsy8MV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/VRzrv4qZcGkIrjtez8mRAu40EJexhtWj4T41HFvgkI_XuNzf0HlgVgwgLrR8y7mYqiZWzTB2vbKsGeskkZrtv5zpZViIHPyKFRrOgbIudRlhi1i8QhUw5cSyxGcan53fmIFkiIJq_VEop7cdCw" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>

<p>The certificate password is the one used to encrypt the exported certificate. If you left the password empty, do not enter a value for <strong>Certificate Password</strong>. OneSignal will verify the certificate can be used for push notifications upon clicking the continue button.</p>

<p>Select <strong><em>Flutter</em></strong> SDK on this screen, the next screen is identical to the Android configuration screen. Running the same code for iOS will work without any further modifications.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZE6gsoEO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647842248286_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZE6gsoEO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647842248286_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="457"></a></p>

<p>At the bottom of the Apple iOS (APNs) Configuration screen, a warning will appear saying that your user has not subscribed. This is because we have not yet asked for permission to send push notification. We will be <a href="https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/">asking for opt-in permission using in app messages</a> later in this article.</p>

<h2>
  <a name="sending-an-inapp-message" href="#sending-an-inapp-message">
  </a>
  Sending an In-App Message
</h2>

<p>Click on _ <strong>Message</strong> _ from the main navigation bar and then select _ <strong>In-App</strong> _ from the submenu that appears.</p>

<p>Onesignal provides default in-app messaging templates which can then be customized according to your use case and preference. From the list of templates, click on <strong><em>[Default Template] Welcome Message</em></strong>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--4yUjQfyj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/ZtKIq8Q5hxYuszQM_bH4Yf8LyDzVZsZgB3dMrfBkqx3gkPjkhDumAZwg5TERq4G_ezs-r4k-Eu9vjBwVyOu7cY-x6P3_SvKyQlOE14BT-4gA0ZaqZtPLim_I-aP10hy17lnW_o-r" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4yUjQfyj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/ZtKIq8Q5hxYuszQM_bH4Yf8LyDzVZsZgB3dMrfBkqx3gkPjkhDumAZwg5TERq4G_ezs-r4k-Eu9vjBwVyOu7cY-x6P3_SvKyQlOE14BT-4gA0ZaqZtPLim_I-aP10hy17lnW_o-r" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="211"></a></p>

<p>In the top right corner of the screen, select <strong><em>Actions</em></strong> — a drop-down menu will appear. If you'd like to edit and customize the default welcome message, click Edit to alter the template. If you've finished editing or would simply like to test the default message as is, click _ <strong>Resume</strong> _ from the drop-down menu. Then, run the app on your device.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Va5cJAZk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-sending-in-app.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Va5cJAZk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-sending-in-app.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<h2>
  <a name="inapp-messaging-triggers" href="#inapp-messaging-triggers">
  </a>
  In-App Messaging Triggers
</h2>

<p>You can use <a href="https://documentation.onesignal.com/docs/iam-triggers">Triggers</a> to choose when to show the in-app message to the user. There are some predefined Triggers such as "app open," as well as custom triggers that can be set programmatically using the <code>addTrigger()</code> function. To begin, let's try using a predefined trigger for showing an app rating message.</p>

<p>If you're using a free OneSignal plan, you will only be able to have one in-app message live at a time. Before creating the new message, you'll need to pause the welcome in-app message by clicking _ <strong>Actions</strong> _ and then _ <strong>Pause</strong> _ from the drop-down menu. Then, navigate back to the main in-app messages screen and select <strong><em>[Default Template] App Store Rating</em></strong>. Select _ <strong>Actions</strong> _ > <strong><em>Edit</em></strong> and then scroll down on the editing screen to the section entitled <strong><em>3. Triggers</em></strong>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9IyPXfvI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/F1o5vfGYugkkpPBcJoaGGVfhuSmaPdjEd1TkbUSpk-PmgAz9ivXwtK3jDelGDDxzx-os2pGc--S4ldpcUdJKmwjUplscPUaS_9l9VdrBp-Tea_xeGZZ5zD3FdkJOURk9rXi_GU72" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9IyPXfvI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/F1o5vfGYugkkpPBcJoaGGVfhuSmaPdjEd1TkbUSpk-PmgAz9ivXwtK3jDelGDDxzx-os2pGc--S4ldpcUdJKmwjUplscPUaS_9l9VdrBp-Tea_xeGZZ5zD3FdkJOURk9rXi_GU72" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="239"></a></p>

<p>When should users see this message? select _ <strong>When certain conditions are satisfied during the session</strong> <em>. You should see two form fields for **_session duration</em>** and _ <strong>duration since the last in-app</strong> <em>. Enter a session duration greater than 10 seconds for demonstration purposes, then scroll down to the bottom of the page and click on the blue **_Update Message</em>** button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xWDs8Now--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/JfiPv71jN9ad6eXNRlmIbd_RWTenYhSOiX6JI8265cwDjJhbeZ7ZHLiRckmlkzTtBPhM_MZOyXxAISjtTodSo3KBOhmZrrY37uVWIb-r2Wa3-IOsruDfKTzX4ckghxg0AwLds0OI" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xWDs8Now--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/JfiPv71jN9ad6eXNRlmIbd_RWTenYhSOiX6JI8265cwDjJhbeZ7ZHLiRckmlkzTtBPhM_MZOyXxAISjtTodSo3KBOhmZrrY37uVWIb-r2Wa3-IOsruDfKTzX4ckghxg0AwLds0OI" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>

<p>Then, from the list of In-app messages, click _ <strong>Actions</strong> _ > _ <strong>Resume</strong> _ for this message and then open the app. After 10 seconds, you should see a rating request message inside your app.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--SE56FNaE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-in-app-messaging-triggers.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--SE56FNaE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-in-app-messaging-triggers.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<p>This example demonstrates the power of in-app messaging! Using OneSignal's in-app messaging tool, you can:</p>

<ul>
<li>Add and remove in-app messages remotely without requiring any app update.</li>
<li>Leverage useful, pre-made triggers such as _ <strong>app open</strong> <em>, **_session duration</em>** , and _ <strong>duration since the last in-app message</strong> _, along with the option to club these triggers with an OR operation. This makes implementing a wide range of in-app messaging strategies possible without requiring any code customizations!</li>
</ul>

<h3>
  <a name="asking-for-push-permission-ios" href="#asking-for-push-permission-ios">
  </a>
  Asking for Push Permission (iOS)
</h3>

<p>In iOS, a user needs to grant permission to an app in order to receive push notifications. As a general rule of thumb, you don’t want to ask a user for push notification permission immediately when they first launch the app because they aren't likely to understand the value of notifications at that early stage of adoption. Onesignal provides a predefined in-app messaging template to help you <a href="https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/">time your opt-in request and give users more context to inform th</a>eir opt-in decision.</p>

<p>To try out this prompt, pause the current message (if you're using a free account), then click <strong><em>Action</em></strong> > _ <strong>Resume</strong> _ to enable the <em><strong>[Default Template] Push Permission Prompt</strong></em>. This prompt has been set to show the user a message asking for permission upon launching the app, but the trigger and message content can be customized to provide a better user experience and increase the likelihood of opt-in.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nNqUcAbO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-asking-for-push-permissions.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nNqUcAbO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-asking-for-push-permissions.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<p>If the clicks to <strong><em>Allow</em></strong> notifications in the in-app message, it will automatically trigger the native iOS permission prompt. If they click <strong><em>Maybe Later</em></strong> , they will be opted out of notifications but can be prompted again later with an in-app message encouraging them to revisit this decision.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ORkXCzL4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-push-notifications-permission-pop-up.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ORkXCzL4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-push-notifications-permission-pop-up.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<p>If a user denies permission to receive notifications the first time around, but later clicks _ <strong>Allow</strong> _ when they are re-prompted, they will be taken to the notification settings where they will have to manually allow the app to show notifications — this is a restriction imposed by iOS.</p>

<h3>
  <a name="using-custom-triggers-in-inapp-messaging" href="#using-custom-triggers-in-inapp-messaging">
  </a>
  Using Custom Triggers in In-App Messaging
</h3>

<p>Custom triggers are key-value pairs of string or integer types to which the SDK responds. Whenever the condition set is satisfied, the trigger is initiated. Custom triggers can be clubbed together with AND and OR to create more complex triggers.</p>

<p>For demonstration purposes, let’s build a button that, when tapped eight times, will trigger a promotional in-app message.</p>

<p>To do so, open <code>main.dart</code> and add a floating action button to the scaffold, along with a variable to save the button tap count.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>void main() {
 runApp(const MyApp());
}

class MyApp extends StatelessWidget {
 const MyApp({Key? key}) : super(key: key);

 // This widget is the root of your application.
 @override
 Widget build(BuildContext context) {
   return const MaterialApp(
     home: MyHomePage(),
   );
 }
}

class MyHomePage extends StatefulWidget {
 const MyHomePage({Key? key}) : super(key: key);

 @override
 State&lt;MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State&lt;MyHomePage> {
 int taps = 0;

 @override
 void initState() {
   super.initState();
   initMessaging();
 }

 Future&lt;void> initMessaging() async {
   await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");
 }

 @override
 Widget build(BuildContext context) {
   return Scaffold(
     appBar: AppBar(
       title: const Text('OneSignal IAM'),
     ),
     floatingActionButton: FloatingActionButton(
       onPressed: () {
         setState(() {
           taps = taps + 1;
         });
         OneSignal.shared.addTrigger('taps', taps);
       },
       child: const Icon(Icons.add),
     ),
     body: const Center(child: Text('IAM')),
   );
 }

</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Open the OneSignal dashboard, select the <em><strong>[Default Template] 10% Off Promotional</strong></em> template, and click _ <strong>Actions</strong> _ > _ <strong>Edit</strong> <em>. On the editing page, scroll down until you see the **_3. Triggers</em>** section. Under the question, <strong><em>When should users see this message?</em></strong> select <strong><em>When certain conditions are satisfied during the session</em></strong>. Click <strong><em>IN-APP TRIGGER</em></strong> and input <strong><em>taps is 8</em></strong> to the appropriate form fields, as shown below.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--DsZ-Nyk2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/FqsNq5n7ROCTM0b-uGsMMXftLnKgyXwvMA1yAQKLVjd2aae2v_o90yx5QHwB8OIT8VV-voQrXSikhU4N368zWtojvWs_kRwvVaX0s-YEivH2G5Qx2mnRvZryxDKMnZ2aEmNx7aPv" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--DsZ-Nyk2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/FqsNq5n7ROCTM0b-uGsMMXftLnKgyXwvMA1yAQKLVjd2aae2v_o90yx5QHwB8OIT8VV-voQrXSikhU4N368zWtojvWs_kRwvVaX0s-YEivH2G5Qx2mnRvZryxDKMnZ2aEmNx7aPv" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>

<p>Finally, click _ <strong>Add Trigger</strong> _ and then scroll to the bottom of the page and click <strong><em>Update Message</em></strong>. If you followed along and implemented the previous example, the push permission prompt will still be live. If you are using a free plan, pause that message, navigate back to your promotional message, and click <strong><em>Actions</em></strong> > <strong><em>Resume</em></strong> to set this one live. Now, run the app with the updated code. Tap the button 8 times and the promotional message should pop up on your screen.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Erh8aLMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Erh8aLMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<p>This custom trigger was an example of <code>key</code> is <code>value</code> pair. There are other conditions on which the triggers can be set as well.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--em5LVbJd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/1RHH9EqDClgKyMnlqql3-bPUYFdTk12FCVdYDn3hmk4AlFBwzZa09vIc-a0M4y4H3XbZ36D8d0b1__5bcCvm7KxKVDyHB36PGMWoNIdzMtVmOIGDS9S-ivbuUorFp9mNNTxqEQ16" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--em5LVbJd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/1RHH9EqDClgKyMnlqql3-bPUYFdTk12FCVdYDn3hmk4AlFBwzZa09vIc-a0M4y4H3XbZ36D8d0b1__5bcCvm7KxKVDyHB36PGMWoNIdzMtVmOIGDS9S-ivbuUorFp9mNNTxqEQ16" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>

<p>One of the best things about Onesignal's in-app messaging tool is the ability to overhaul the design of the popup without doing an app update. To demonstrate, let's update the current 10% promotional message to something more appropriate. To do so, first click _ <strong>Actions</strong> _ > <strong><em>Pause</em></strong> to pause the current message, then click on _ <strong>Edit</strong> _.</p>

<p>All the UI elements are highly customizable in the OneSignal message builder, as can be seen in the video below. Almost all aspects of text can be formatted to suit the design language of your app.</p>

<p>&lt;!--kg-card-begin: html-->&lt;!--kg-card-end: html--></p>

<p>Messages also do not have to be fixed to a particular type of layout. All the UI elements can be reordered on the fly without requiring an app update.</p>

<p>&lt;!--kg-card-begin: html-->&lt;!--kg-card-end: html--></p>

<p>In-app messages also support GIFs!</p>

<p>&lt;!--kg-card-begin: html-->&lt;!--kg-card-end: html--></p>

<p>Let’s apply all these changes, scroll to the bottom and click _ <strong>Update Message</strong> _. No need to update any code, just open the app again!</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZfOfcTPg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers-gif--1--1.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZfOfcTPg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers-gif--1--1.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>

<h2>
  <a name="adding-click-actions-in-messages" href="#adding-click-actions-in-messages">
  </a>
  Adding Click Actions in Messages
</h2>

<p>Onesignal provides a handful of click actions out of the box that can be customized from the dashboard. There is also a Custom Action ID, in which a custom action ID string is sent, which can handle custom cases such as deep-linking, app updates, or any other functionality.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Zq__tS14--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647766296013_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Zq__tS14--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647766296013_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="550"></a></p>

<p>Let’s implement a URL click action first. Implementing an URL means that when a user clicks on the button, they will be taken to the specified URL. To add a link, click <strong><em>Actions</em></strong> > _ <strong>Edit</strong> _ on the promotional message (if you closed out from the last example) and scroll down to the _ <strong>Button 1</strong> _ box and update the URL. Then, scroll down to the bottom of the page and click _ <strong>Update Message</strong> <em>. Then, click _ <strong>Action</strong> _ > **_Resume</em>** to resume the message. To test it out, open your app and tap the button 8 times again.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--k1AxGI4z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647788200215_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--k1AxGI4z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647788200215_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="512"></a></p>

<p>Once the message pops up, press the first button and you should be taken to the website link you provided.</p>

<h2>
  <a name="custom-click-action-custom-action-id" href="#custom-click-action-custom-action-id">
  </a>
  Custom Click Action ( Custom Action ID)
</h2>

<p>Creating custom click actions requires developer support. All the use cases that may be necessary for the future should be listed beforehand and handled in the code.</p>

<p>In this example let’s try deep linking to a second page when pressing the button. To do so, create a new file called success_screen.dart and add this code.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>import 'package:flutter/material.dart';
class SuccessScreen extends StatelessWidget {
  const SuccessScreen({Key? key}) : super(key: key);
  @override
  Widget build(BuildContext context) {
    return const Scaffold(
      body: Center(
        child: Text(
          'Success',
          style: TextStyle(fontWeight: FontWeight.bold, fontSize: 42),
        ),
      ),
    );
  }

</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now, go to the <code>initMessaging()</code> in <code>main.dart</code> and add a <code>setInAppMessageClickedHandler</code> to listen to any click actions that happen on the message.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code> Future&lt;void> initMessaging() async {
    await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");
    OneSignal.shared.setInAppMessageClickedHandler((action) {
      if (action.clickName == 'successPage') {
        Navigator.of(context)
            .push(MaterialPageRoute(builder: (_) => const SuccessScreen()));
      }
    });
  }

</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This works as follows:</p>

<ul>
<li>set <code>InAppMessageClickedHandler</code> listens to any action event that is emitted by interacting with any UI element.</li>
<li>When a click action is set in the OneSignal console, it means that an action binds to that UI element.</li>
<li>Whenever an interaction occurs with that element, the action is triggered.</li>
<li>If that action is a pre-defined one, such as opening a URL, then while the click handler will listen to the action being emitted, the action to perform is already handled by the SDK and will result in opening the URL in the browser.</li>
<li>For action IDs that you specify, you can build different use cases as shown in the above example to handle different action IDs.</li>
<li>In the above snippet, the action <a href="https://documentation.onesignal.com/docs/iam-sdk-methods#in-app-message-click-handler">has many properties</a> which can be further leveraged to create better user experiences.</li>
</ul>

<p>Now, click <strong><em>Action</em></strong> > <strong><em>Pause</em></strong> to pause the current message and then select <strong><em>Edit</em></strong>. Scroll down to the button to which a click action has to be added. Then, select <strong><em>Custom Action ID</em></strong> and give the action a name such as <strong><em>successPage</em></strong>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0Tq9utCJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647787194459_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0Tq9utCJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647787194459_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="496"></a></p>

<p>Next, scroll down to the bottom of the screen and click <strong><em>Update Message</em></strong> and <strong><em>Resume</em></strong> the message via the <strong><em>Actions</em></strong> menu. Now, run the updated app.</p>

<p>When you click on the button, you should have successfully implemented deep linking!</p>

<p>&lt;!--kg-card-begin: html-->&lt;!--kg-card-end: html--></p>

<h2>
  <a name="share-your-feedback" href="#share-your-feedback">
  </a>
  Share Your Feedback
</h2>

<p>We'd love to know what you think and answer any additional questions you have. To connect with us, <a href="https://github.com/OneSignal/onesignal-vue/issues">create an issue on GitHub</a> or ping us on the <a href="https://discord.com/invite/EP7gf6Uz7G">OneSignalDevs Discord server</a> to share your experience.  We appreciate any insight you can share to help us better serve Vue.js users!</p>

<p>To stay in the loop with the latest product updates and innovations, follow the <a href="https://twitter.com/onesignaldevs">OneSignal Developers Twitter</a>. For additional support and dev inspiration, tap into our global developer community.</p>

<h3>
  <a name="gtgt-connect-with-the-onesignal-developer-community" href="#gtgt-connect-with-the-onesignal-developer-community">
  </a>
  <strong>>> <a href="https://onesignal.com/onesignal-developers">Connect with the OneSignal Developer Community</a></strong>
</h3>

<p><em>This guest post was authored by Chinmay Kabi</em></p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/devpato/how-to-add-in-app-messages-to-a-flutter-app-2fg0" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(e,t,n,o,a,s){return n.type_of="article",n.id=1104451,n.title="How to Add In-App Messages to a Flutter App",n.description="In-app messages (IAM) can help increase user engagement among active users, nudging them towards...",n.readable_publish_date="Jun 6",n.slug="how-to-add-in-app-messages-to-a-flutter-app-2fg0",n.path="/onesignal/how-to-add-in-app-messages-to-a-flutter-app-2fg0",n.url="https://dev.to/onesignal/how-to-add-in-app-messages-to-a-flutter-app-2fg0",n.comments_count=0,n.public_reactions_count=4,n.collection_id=e,n.published_timestamp=o,n.positive_reactions_count=4,n.cover_image=e,n.social_image="https://dev.to/social_previews/article/1104451.png",n.canonical_url="https://onesignal.com/blog/how-to-add-in-app-messages-to-a-flutter-app/",n.created_at="2022-06-04T00:22:15Z",n.edited_at="2022-06-06T19:37:46Z",n.crossposted_at=o,n.published_at=a,n.last_comment_at=a,n.reading_time_minutes=12,n.tag_list="flutter, dart, mobiledev",n.tags=["flutter","dart","mobiledev"],n.body_html='<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s---cSgqmZr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/how-to-add-in-app-messages-to-a-flutter-app.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s---cSgqmZr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/how-to-add-in-app-messages-to-a-flutter-app.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="587"></a></p>\n\n<p>In-app messages (IAM) can help increase user engagement among active users, nudging them towards desired actions with targeted messages and dynamic content. These messages can be automated and personalized based on custom <a href="https://onesignal.com/blog/boost-push-notification-engagement-with-onesignals-segmentation-tool/">segmentation and trigger criteria</a>. This tutorial will cover how to integrate OneSignal IAM into a Flutter app for both Android and iOS. It will also show you how to use message triggers to automate and customize your messages.</p>\n\n<h2>\n  <a name="creating-the-flutter-project" href="#creating-the-flutter-project">\n  </a>\n  Creating the Flutter Project\n</h2>\n\n<p>Open your terminal and run the following command to create a new Flutter project<br><br>\n<code>flutter create flutter_onesignal_iamcd flutter_onesignal_iam</code><br><br>\nNow run the following command to add Onesignal SDK to the flutter project<br><br>\n<code>flutter pub add onesignal_flutter</code></p>\n<h2>\n  <a name="setting-up-your-onesignal-account" href="#setting-up-your-onesignal-account">\n  </a>\n  Setting up your OneSignal Account\n</h2>\n\n<p>This tutorial requires a OneSignal account. You can either <a href="https://app.onesignal.com/login">log in</a> to your existing OneSignal account or <a href="https://app.onesignal.com/signup">create a new account for free</a>. Then, click <strong><em>+New App/Website</em></strong> to begin setting up your OneSignal account.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--v67Ik018--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/37P1h9kX0fQTxgKg50RfFmNRpJV5ym6cAmEqGKNOec36Ni9pMugoMkoD7WjJk8TYWyAeVa5KnMH3rh58uPLhMtuwJJ1J0aAwqYl3tUHMKq56kfiBK1gkxu-joRURQkXkF2B6DEMS" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--v67Ik018--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/37P1h9kX0fQTxgKg50RfFmNRpJV5ym6cAmEqGKNOec36Ni9pMugoMkoD7WjJk8TYWyAeVa5KnMH3rh58uPLhMtuwJJ1J0aAwqYl3tUHMKq56kfiBK1gkxu-joRURQkXkF2B6DEMS" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="424"></a></p>\n<h3>\n  <a name="android-setup" href="#android-setup">\n  </a>\n  Android Setup\n</h3>\n\n<p>As Flutter apps can target both Android and iOS, both of these platforms need to be set up individually. Let’s proceed with setting up Android for now — iOS can be added later.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Y2FwnO0i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh3.googleusercontent.com/1079YxjGproJRdRzcgmoEn1a0wStoczHtPLh2T7cX2jhnbdmI6TJugzAeyspHUVKwW22dq43QdmyoRylInn3uOI-OSy-76F6nf8RCVzBezvyaTrd7mF5_FrO6T1XISPYnHqMkE4m" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Y2FwnO0i--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh3.googleusercontent.com/1079YxjGproJRdRzcgmoEn1a0wStoczHtPLh2T7cX2jhnbdmI6TJugzAeyspHUVKwW22dq43QdmyoRylInn3uOI-OSy-76F6nf8RCVzBezvyaTrd7mF5_FrO6T1XISPYnHqMkE4m" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="490"></a></p>\n\n<p>Name your app and select <em><strong>Google Android (FCM)</strong></em> and use the following guide to <a href="https://documentation.onesignal.com/docs/generate-a-google-server-api-key"><u>generate a Firebase Server Key</u></a>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0oQ41jDB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/--c0A23Xt7HOrOzAnrVWuG70tsTimR4Q8wt68y6Al84-S77WWDe3gWGn27PpJUpsxVcC9Ukz5ORIqpxVZPBIcygszg0fkV6XsPiow22R8vw6_9xOHQqfxE9dYjV8jK6DepAarjHW" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0oQ41jDB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/--c0A23Xt7HOrOzAnrVWuG70tsTimR4Q8wt68y6Al84-S77WWDe3gWGn27PpJUpsxVcC9Ukz5ORIqpxVZPBIcygszg0fkV6XsPiow22R8vw6_9xOHQqfxE9dYjV8jK6DepAarjHW" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="372"></a></p>\n\n<p>After you\'ve input your Firebase Server Key and Firebase Sender ID, click <strong><em>Save &amp; Continue</em></strong>.</p>\n\n<p>On the next screen, select _ <strong>Flutter</strong> _ as your target SDK.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--s_236hQX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/49fTc1QegAjP3hoAUqXmbIanKQvNYHRJ7qNQiFm5YRySJttfIhfy4L-wfH1fP0PEix2f5fQAAhvacK10aPFQrs577RhpBXTDsxXAJN7YBcrqQmLMqmwrWEZi1wsLWaVE4rL1o-2x" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--s_236hQX--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/49fTc1QegAjP3hoAUqXmbIanKQvNYHRJ7qNQiFm5YRySJttfIhfy4L-wfH1fP0PEix2f5fQAAhvacK10aPFQrs577RhpBXTDsxXAJN7YBcrqQmLMqmwrWEZi1wsLWaVE4rL1o-2x" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="382"></a></p>\n\n<p>On the next page, you\'ll see your App ID — copy it for future reference. <strong>Don\'t click <em>Done</em></strong> just yet. The Flutter app needs to be run on your device first before you complete this step.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YjRx93r2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/521q84nDI0wzckpwbEZKBNcHIesKtfHjnVX1uOYbXxYPivQfgKlluiSKLUGEHccnZj-XKaFLpzw8gyXe_e_AVkR3twnt6eRAZBbDrYekQ3LqkG_AH12-1T4Ud-at_jIb53S96eMd" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YjRx93r2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/521q84nDI0wzckpwbEZKBNcHIesKtfHjnVX1uOYbXxYPivQfgKlluiSKLUGEHccnZj-XKaFLpzw8gyXe_e_AVkR3twnt6eRAZBbDrYekQ3LqkG_AH12-1T4Ud-at_jIb53S96eMd" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="382"></a></p>\n\n<p>The App ID is used to initialize the OneSignal SDK. Add the following code to <code>main.dart</code>:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>import \'package:flutter/material.dart\';\nimport \'package:onesignal_flutter/onesignal_flutter.dart\';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n  @override\n  void initState() {\n    super.initState();\n    OneSignal.shared.setAppId("YOUR ONESIGNAL APP ID HERE");\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\'OneSignal IAM\'),\n      ),\n      body: const Center(child: Text(\'OneSignal IAM Example\')),\n    );\n  }\n}\n\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now, run the app on your device. Then, return to your OneSignal account and click on <strong><em>Check Subscribed Users</em></strong>. A message showing your device model will be shown.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--D2-G1OBB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Bw_Wmiv3Ri2Fnf19tWaV6vI53KsVBYEKlWOaymWDONk0vOUXnjA9k-a_q5REejk16C5Db5_b9LIjjVyW5I00msFfA_pSgGzjgWApeuGwCz3p5nR5yM8DJv3l56V7LJG63ZUHJ_Al" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--D2-G1OBB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Bw_Wmiv3Ri2Fnf19tWaV6vI53KsVBYEKlWOaymWDONk0vOUXnjA9k-a_q5REejk16C5Db5_b9LIjjVyW5I00msFfA_pSgGzjgWApeuGwCz3p5nR5yM8DJv3l56V7LJG63ZUHJ_Al" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="389"></a></p>\n\n<h3>\n  <a name="ios-setup" href="#ios-setup">\n  </a>\n  iOS Setup\n</h3>\n\n<p>In your OneSignal account, navigate _ <strong>Settings</strong> _ and click on <em><strong>Apple iOS (APNs)</strong></em>. In this step, you will be asked for an iOS push certificate and its password.</p>\n\n<p>Check out the linked documentation to learn <a href="https://documentation.onesignal.com/docs/generate-an-ios-push-certificate">how to generate an iOS push certificate</a>. The easiest method is to use<a href="https://onesignal.com/provisionator">OneSignal provisionator</a>, which directly generates the p12 file and password without much hassle. Once generated, upload the p12 file and password, and continue to the next screen.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gNw4Gp-9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/g-RK42ukOsNazyECQOoa9yLCwENsb3WxMgn33m8_DXCk1wsHgjMdy74OL-S5nAirQinhg46HLWkt7xsxMrWTNnWKpWywHsnSgIqtjwtFnO3RkKxwt9pgTEmgHAWJPDp4AmCojvPlMsOb2fySWQ" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gNw4Gp-9--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/g-RK42ukOsNazyECQOoa9yLCwENsb3WxMgn33m8_DXCk1wsHgjMdy74OL-S5nAirQinhg46HLWkt7xsxMrWTNnWKpWywHsnSgIqtjwtFnO3RkKxwt9pgTEmgHAWJPDp4AmCojvPlMsOb2fySWQ" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Yq7py_v5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Uadu5kRL8BxcMZQ9IMMenYy670uHseGf3yGR504sDO_L1saV8wPfKs-5ouH4uDWaFUKcM--LcP-sIiyckbeOxd9Zq8MTzZNbxEpXF9L21BPrtPthcwYi8ZkEVju8IWVASgG-clP6xGhg7UpwyA" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Yq7py_v5--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/Uadu5kRL8BxcMZQ9IMMenYy670uHseGf3yGR504sDO_L1saV8wPfKs-5ouH4uDWaFUKcM--LcP-sIiyckbeOxd9Zq8MTzZNbxEpXF9L21BPrtPthcwYi8ZkEVju8IWVASgG-clP6xGhg7UpwyA" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>\n\n<h3>\n  <a name="upload-your-apns-cert" href="#upload-your-apns-cert">\n  </a>\n  Upload Your APNs Cert\n</h3>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNxsy8MV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/VRzrv4qZcGkIrjtez8mRAu40EJexhtWj4T41HFvgkI_XuNzf0HlgVgwgLrR8y7mYqiZWzTB2vbKsGeskkZrtv5zpZViIHPyKFRrOgbIudRlhi1i8QhUw5cSyxGcan53fmIFkiIJq_VEop7cdCw" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZNxsy8MV--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/VRzrv4qZcGkIrjtez8mRAu40EJexhtWj4T41HFvgkI_XuNzf0HlgVgwgLrR8y7mYqiZWzTB2vbKsGeskkZrtv5zpZViIHPyKFRrOgbIudRlhi1i8QhUw5cSyxGcan53fmIFkiIJq_VEop7cdCw" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="814"></a></p>\n\n<p>The certificate password is the one used to encrypt the exported certificate. If you left the password empty, do not enter a value for <strong>Certificate Password</strong>. OneSignal will verify the certificate can be used for push notifications upon clicking the continue button.</p>\n\n<p>Select <strong><em>Flutter</em></strong> SDK on this screen, the next screen is identical to the Android configuration screen. Running the same code for iOS will work without any further modifications.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZE6gsoEO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647842248286_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZE6gsoEO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647842248286_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="457"></a></p>\n\n<p>At the bottom of the Apple iOS (APNs) Configuration screen, a warning will appear saying that your user has not subscribed. This is because we have not yet asked for permission to send push notification. We will be <a href="https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/">asking for opt-in permission using in app messages</a> later in this article.</p>\n\n<h2>\n  <a name="sending-an-inapp-message" href="#sending-an-inapp-message">\n  </a>\n  Sending an In-App Message\n</h2>\n\n<p>Click on _ <strong>Message</strong> _ from the main navigation bar and then select _ <strong>In-App</strong> _ from the submenu that appears.</p>\n\n<p>Onesignal provides default in-app messaging templates which can then be customized according to your use case and preference. From the list of templates, click on <strong><em>[Default Template] Welcome Message</em></strong>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--4yUjQfyj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/ZtKIq8Q5hxYuszQM_bH4Yf8LyDzVZsZgB3dMrfBkqx3gkPjkhDumAZwg5TERq4G_ezs-r4k-Eu9vjBwVyOu7cY-x6P3_SvKyQlOE14BT-4gA0ZaqZtPLim_I-aP10hy17lnW_o-r" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--4yUjQfyj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/ZtKIq8Q5hxYuszQM_bH4Yf8LyDzVZsZgB3dMrfBkqx3gkPjkhDumAZwg5TERq4G_ezs-r4k-Eu9vjBwVyOu7cY-x6P3_SvKyQlOE14BT-4gA0ZaqZtPLim_I-aP10hy17lnW_o-r" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="211"></a></p>\n\n<p>In the top right corner of the screen, select <strong><em>Actions</em></strong> — a drop-down menu will appear. If you\'d like to edit and customize the default welcome message, click Edit to alter the template. If you\'ve finished editing or would simply like to test the default message as is, click _ <strong>Resume</strong> _ from the drop-down menu. Then, run the app on your device.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Va5cJAZk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-sending-in-app.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Va5cJAZk--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-sending-in-app.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<h2>\n  <a name="inapp-messaging-triggers" href="#inapp-messaging-triggers">\n  </a>\n  In-App Messaging Triggers\n</h2>\n\n<p>You can use <a href="https://documentation.onesignal.com/docs/iam-triggers">Triggers</a> to choose when to show the in-app message to the user. There are some predefined Triggers such as "app open," as well as custom triggers that can be set programmatically using the <code>addTrigger()</code> function. To begin, let\'s try using a predefined trigger for showing an app rating message.</p>\n\n<p>If you\'re using a free OneSignal plan, you will only be able to have one in-app message live at a time. Before creating the new message, you\'ll need to pause the welcome in-app message by clicking _ <strong>Actions</strong> _ and then _ <strong>Pause</strong> _ from the drop-down menu. Then, navigate back to the main in-app messages screen and select <strong><em>[Default Template] App Store Rating</em></strong>. Select _ <strong>Actions</strong> _ &gt; <strong><em>Edit</em></strong> and then scroll down on the editing screen to the section entitled <strong><em>3. Triggers</em></strong>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--9IyPXfvI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/F1o5vfGYugkkpPBcJoaGGVfhuSmaPdjEd1TkbUSpk-PmgAz9ivXwtK3jDelGDDxzx-os2pGc--S4ldpcUdJKmwjUplscPUaS_9l9VdrBp-Tea_xeGZZ5zD3FdkJOURk9rXi_GU72" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--9IyPXfvI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/F1o5vfGYugkkpPBcJoaGGVfhuSmaPdjEd1TkbUSpk-PmgAz9ivXwtK3jDelGDDxzx-os2pGc--S4ldpcUdJKmwjUplscPUaS_9l9VdrBp-Tea_xeGZZ5zD3FdkJOURk9rXi_GU72" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="239"></a></p>\n\n<p>When should users see this message? select _ <strong>When certain conditions are satisfied during the session</strong> <em>. You should see two form fields for **_session duration</em>** and _ <strong>duration since the last in-app</strong> <em>. Enter a session duration greater than 10 seconds for demonstration purposes, then scroll down to the bottom of the page and click on the blue **_Update Message</em>** button.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xWDs8Now--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/JfiPv71jN9ad6eXNRlmIbd_RWTenYhSOiX6JI8265cwDjJhbeZ7ZHLiRckmlkzTtBPhM_MZOyXxAISjtTodSo3KBOhmZrrY37uVWIb-r2Wa3-IOsruDfKTzX4ckghxg0AwLds0OI" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xWDs8Now--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh6.googleusercontent.com/JfiPv71jN9ad6eXNRlmIbd_RWTenYhSOiX6JI8265cwDjJhbeZ7ZHLiRckmlkzTtBPhM_MZOyXxAISjtTodSo3KBOhmZrrY37uVWIb-r2Wa3-IOsruDfKTzX4ckghxg0AwLds0OI" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>\n\n<p>Then, from the list of In-app messages, click _ <strong>Actions</strong> _ &gt; _ <strong>Resume</strong> _ for this message and then open the app. After 10 seconds, you should see a rating request message inside your app.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--SE56FNaE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-in-app-messaging-triggers.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--SE56FNaE--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-in-app-messaging-triggers.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<p>This example demonstrates the power of in-app messaging! Using OneSignal\'s in-app messaging tool, you can:</p>\n\n<ul>\n<li>Add and remove in-app messages remotely without requiring any app update.</li>\n<li>Leverage useful, pre-made triggers such as _ <strong>app open</strong> <em>, **_session duration</em>** , and _ <strong>duration since the last in-app message</strong> _, along with the option to club these triggers with an OR operation. This makes implementing a wide range of in-app messaging strategies possible without requiring any code customizations!</li>\n</ul>\n\n<h3>\n  <a name="asking-for-push-permission-ios" href="#asking-for-push-permission-ios">\n  </a>\n  Asking for Push Permission (iOS)\n</h3>\n\n<p>In iOS, a user needs to grant permission to an app in order to receive push notifications. As a general rule of thumb, you don’t want to ask a user for push notification permission immediately when they first launch the app because they aren\'t likely to understand the value of notifications at that early stage of adoption. Onesignal provides a predefined in-app messaging template to help you <a href="https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/">time your opt-in request and give users more context to inform th</a>eir opt-in decision.</p>\n\n<p>To try out this prompt, pause the current message (if you\'re using a free account), then click <strong><em>Action</em></strong> &gt; _ <strong>Resume</strong> _ to enable the <em><strong>[Default Template] Push Permission Prompt</strong></em>. This prompt has been set to show the user a message asking for permission upon launching the app, but the trigger and message content can be customized to provide a better user experience and increase the likelihood of opt-in.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--nNqUcAbO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-asking-for-push-permissions.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--nNqUcAbO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-asking-for-push-permissions.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<p>If the clicks to <strong><em>Allow</em></strong> notifications in the in-app message, it will automatically trigger the native iOS permission prompt. If they click <strong><em>Maybe Later</em></strong> , they will be opted out of notifications but can be prompted again later with an in-app message encouraging them to revisit this decision.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ORkXCzL4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-push-notifications-permission-pop-up.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ORkXCzL4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-push-notifications-permission-pop-up.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<p>If a user denies permission to receive notifications the first time around, but later clicks _ <strong>Allow</strong> _ when they are re-prompted, they will be taken to the notification settings where they will have to manually allow the app to show notifications — this is a restriction imposed by iOS.</p>\n\n<h3>\n  <a name="using-custom-triggers-in-inapp-messaging" href="#using-custom-triggers-in-inapp-messaging">\n  </a>\n  Using Custom Triggers in In-App Messaging\n</h3>\n\n<p>Custom triggers are key-value pairs of string or integer types to which the SDK responds. Whenever the condition set is satisfied, the trigger is initiated. Custom triggers can be clubbed together with AND and OR to create more complex triggers.</p>\n\n<p>For demonstration purposes, let’s build a button that, when tapped eight times, will trigger a promotional in-app message.</p>\n\n<p>To do so, open <code>main.dart</code> and add a floating action button to the scaffold, along with a variable to save the button tap count.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>void main() {\n runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n const MyApp({Key? key}) : super(key: key);\n\n // This widget is the root of your application.\n @override\n Widget build(BuildContext context) {\n   return const MaterialApp(\n     home: MyHomePage(),\n   );\n }\n}\n\nclass MyHomePage extends StatefulWidget {\n const MyHomePage({Key? key}) : super(key: key);\n\n @override\n State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();\n}\n\nclass _MyHomePageState extends State&lt;MyHomePage&gt; {\n int taps = 0;\n\n @override\n void initState() {\n   super.initState();\n   initMessaging();\n }\n\n Future&lt;void&gt; initMessaging() async {\n   await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");\n }\n\n @override\n Widget build(BuildContext context) {\n   return Scaffold(\n     appBar: AppBar(\n       title: const Text(\'OneSignal IAM\'),\n     ),\n     floatingActionButton: FloatingActionButton(\n       onPressed: () {\n         setState(() {\n           taps = taps + 1;\n         });\n         OneSignal.shared.addTrigger(\'taps\', taps);\n       },\n       child: const Icon(Icons.add),\n     ),\n     body: const Center(child: Text(\'IAM\')),\n   );\n }\n\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Open the OneSignal dashboard, select the <em><strong>[Default Template] 10% Off Promotional</strong></em> template, and click _ <strong>Actions</strong> _ &gt; _ <strong>Edit</strong> <em>. On the editing page, scroll down until you see the **_3. Triggers</em>** section. Under the question, <strong><em>When should users see this message?</em></strong> select <strong><em>When certain conditions are satisfied during the session</em></strong>. Click <strong><em>IN-APP TRIGGER</em></strong> and input <strong><em>taps is 8</em></strong> to the appropriate form fields, as shown below.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--DsZ-Nyk2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/FqsNq5n7ROCTM0b-uGsMMXftLnKgyXwvMA1yAQKLVjd2aae2v_o90yx5QHwB8OIT8VV-voQrXSikhU4N368zWtojvWs_kRwvVaX0s-YEivH2G5Qx2mnRvZryxDKMnZ2aEmNx7aPv" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--DsZ-Nyk2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh5.googleusercontent.com/FqsNq5n7ROCTM0b-uGsMMXftLnKgyXwvMA1yAQKLVjd2aae2v_o90yx5QHwB8OIT8VV-voQrXSikhU4N368zWtojvWs_kRwvVaX0s-YEivH2G5Qx2mnRvZryxDKMnZ2aEmNx7aPv" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>\n\n<p>Finally, click _ <strong>Add Trigger</strong> _ and then scroll to the bottom of the page and click <strong><em>Update Message</em></strong>. If you followed along and implemented the previous example, the push permission prompt will still be live. If you are using a free plan, pause that message, navigate back to your promotional message, and click <strong><em>Actions</em></strong> &gt; <strong><em>Resume</em></strong> to set this one live. Now, run the app with the updated code. Tap the button 8 times and the promotional message should pop up on your screen.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Erh8aLMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Erh8aLMu--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<p>This custom trigger was an example of <code>key</code> is <code>value</code> pair. There are other conditions on which the triggers can be set as well.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--em5LVbJd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/1RHH9EqDClgKyMnlqql3-bPUYFdTk12FCVdYDn3hmk4AlFBwzZa09vIc-a0M4y4H3XbZ36D8d0b1__5bcCvm7KxKVDyHB36PGMWoNIdzMtVmOIGDS9S-ivbuUorFp9mNNTxqEQ16" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--em5LVbJd--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://lh4.googleusercontent.com/1RHH9EqDClgKyMnlqql3-bPUYFdTk12FCVdYDn3hmk4AlFBwzZa09vIc-a0M4y4H3XbZ36D8d0b1__5bcCvm7KxKVDyHB36PGMWoNIdzMtVmOIGDS9S-ivbuUorFp9mNNTxqEQ16" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="218"></a></p>\n\n<p>One of the best things about Onesignal\'s in-app messaging tool is the ability to overhaul the design of the popup without doing an app update. To demonstrate, let\'s update the current 10% promotional message to something more appropriate. To do so, first click _ <strong>Actions</strong> _ &gt; <strong><em>Pause</em></strong> to pause the current message, then click on _ <strong>Edit</strong> _.</p>\n\n<p>All the UI elements are highly customizable in the OneSignal message builder, as can be seen in the video below. Almost all aspects of text can be formatted to suit the design language of your app.</p>\n\n<p>&lt;!--kg-card-begin: html--&gt;&lt;!--kg-card-end: html--&gt;</p>\n\n<p>Messages also do not have to be fixed to a particular type of layout. All the UI elements can be reordered on the fly without requiring an app update.</p>\n\n<p>&lt;!--kg-card-begin: html--&gt;&lt;!--kg-card-end: html--&gt;</p>\n\n<p>In-app messages also support GIFs!</p>\n\n<p>&lt;!--kg-card-begin: html--&gt;&lt;!--kg-card-end: html--&gt;</p>\n\n<p>Let’s apply all these changes, scroll to the bottom and click _ <strong>Update Message</strong> _. No need to update any code, just open the app again!</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ZfOfcTPg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers-gif--1--1.jpg" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ZfOfcTPg--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers-gif--1--1.jpg" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="569"></a></p>\n\n<h2>\n  <a name="adding-click-actions-in-messages" href="#adding-click-actions-in-messages">\n  </a>\n  Adding Click Actions in Messages\n</h2>\n\n<p>Onesignal provides a handful of click actions out of the box that can be customized from the dashboard. There is also a Custom Action ID, in which a custom action ID string is sent, which can handle custom cases such as deep-linking, app updates, or any other functionality.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Zq__tS14--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647766296013_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Zq__tS14--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647766296013_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="550"></a></p>\n\n<p>Let’s implement a URL click action first. Implementing an URL means that when a user clicks on the button, they will be taken to the specified URL. To add a link, click <strong><em>Actions</em></strong> &gt; _ <strong>Edit</strong> _ on the promotional message (if you closed out from the last example) and scroll down to the _ <strong>Button 1</strong> _ box and update the URL. Then, scroll down to the bottom of the page and click _ <strong>Update Message</strong> <em>. Then, click _ <strong>Action</strong> _ &gt; **_Resume</em>** to resume the message. To test it out, open your app and tap the button 8 times again.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--k1AxGI4z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647788200215_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--k1AxGI4z--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647788200215_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="512"></a></p>\n\n<p>Once the message pops up, press the first button and you should be taken to the website link you provided.</p>\n\n<h2>\n  <a name="custom-click-action-custom-action-id" href="#custom-click-action-custom-action-id">\n  </a>\n  Custom Click Action ( Custom Action ID)\n</h2>\n\n<p>Creating custom click actions requires developer support. All the use cases that may be necessary for the future should be listed beforehand and handled in the code.</p>\n\n<p>In this example let’s try deep linking to a second page when pressing the button. To do so, create a new file called success_screen.dart and add this code.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>import \'package:flutter/material.dart\';\nclass SuccessScreen extends StatelessWidget {\n  const SuccessScreen({Key? key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return const Scaffold(\n      body: Center(\n        child: Text(\n          \'Success\',\n          style: TextStyle(fontWeight: FontWeight.bold, fontSize: 42),\n        ),\n      ),\n    );\n  }\n\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now, go to the <code>initMessaging()</code> in <code>main.dart</code> and add a <code>setInAppMessageClickedHandler</code> to listen to any click actions that happen on the message.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code> Future&lt;void&gt; initMessaging() async {\n    await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");\n    OneSignal.shared.setInAppMessageClickedHandler((action) {\n      if (action.clickName == \'successPage\') {\n        Navigator.of(context)\n            .push(MaterialPageRoute(builder: (_) =&gt; const SuccessScreen()));\n      }\n    });\n  }\n\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This works as follows:</p>\n\n<ul>\n<li>set <code>InAppMessageClickedHandler</code> listens to any action event that is emitted by interacting with any UI element.</li>\n<li>When a click action is set in the OneSignal console, it means that an action binds to that UI element.</li>\n<li>Whenever an interaction occurs with that element, the action is triggered.</li>\n<li>If that action is a pre-defined one, such as opening a URL, then while the click handler will listen to the action being emitted, the action to perform is already handled by the SDK and will result in opening the URL in the browser.</li>\n<li>For action IDs that you specify, you can build different use cases as shown in the above example to handle different action IDs.</li>\n<li>In the above snippet, the action <a href="https://documentation.onesignal.com/docs/iam-sdk-methods#in-app-message-click-handler">has many properties</a> which can be further leveraged to create better user experiences.</li>\n</ul>\n\n<p>Now, click <strong><em>Action</em></strong> &gt; <strong><em>Pause</em></strong> to pause the current message and then select <strong><em>Edit</em></strong>. Scroll down to the button to which a click action has to be added. Then, select <strong><em>Custom Action ID</em></strong> and give the action a name such as <strong><em>successPage</em></strong>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--0Tq9utCJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647787194459_image.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--0Tq9utCJ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647787194459_image.png" alt="How to Add In-App Messages to a Flutter App" loading="lazy" width="880" height="496"></a></p>\n\n<p>Next, scroll down to the bottom of the screen and click <strong><em>Update Message</em></strong> and <strong><em>Resume</em></strong> the message via the <strong><em>Actions</em></strong> menu. Now, run the updated app.</p>\n\n<p>When you click on the button, you should have successfully implemented deep linking!</p>\n\n<p>&lt;!--kg-card-begin: html--&gt;&lt;!--kg-card-end: html--&gt;</p>\n\n<h2>\n  <a name="share-your-feedback" href="#share-your-feedback">\n  </a>\n  Share Your Feedback\n</h2>\n\n<p>We\'d love to know what you think and answer any additional questions you have. To connect with us, <a href="https://github.com/OneSignal/onesignal-vue/issues">create an issue on GitHub</a> or ping us on the <a href="https://discord.com/invite/EP7gf6Uz7G">OneSignalDevs Discord server</a> to share your experience.  We appreciate any insight you can share to help us better serve Vue.js users!</p>\n\n<p>To stay in the loop with the latest product updates and innovations, follow the <a href="https://twitter.com/onesignaldevs">OneSignal Developers Twitter</a>. For additional support and dev inspiration, tap into our global developer community.</p>\n\n<h3>\n  <a name="gtgt-connect-with-the-onesignal-developer-community" href="#gtgt-connect-with-the-onesignal-developer-community">\n  </a>\n  <strong>&gt;&gt; <a href="https://onesignal.com/onesignal-developers">Connect with the OneSignal Developer Community</a></strong>\n</h3>\n\n<p><em>This guest post was authored by Chinmay Kabi</em></p>\n\n',n.body_markdown='---\ntitle: How to Add In-App Messages to a Flutter App\npublished: true\ndate: 2022-06-03 20:21:15 UTC\ntags: flutter,dart,mobiledev\ncanonical_url: https://onesignal.com/blog/how-to-add-in-app-messages-to-a-flutter-app/\n---\n\n ![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/how-to-add-in-app-messages-to-a-flutter-app.jpg)\n\nIn-app messages (IAM) can help increase user engagement among active users, nudging them towards desired actions with targeted messages and dynamic content. These messages can be automated and personalized based on custom [segmentation and trigger criteria](https://onesignal.com/blog/boost-push-notification-engagement-with-onesignals-segmentation-tool/). This tutorial will cover how to integrate OneSignal IAM into a Flutter app for both Android and iOS. It will also show you how to use message triggers to automate and customize your messages.\n\n## Creating the Flutter Project\n\nOpen your terminal and run the following command to create a new Flutter project  \n`flutter create flutter_onesignal_iamcd flutter_onesignal_iam`  \nNow run the following command to add Onesignal SDK to the flutter project  \n`flutter pub add onesignal_flutter`\n\n## Setting up your OneSignal Account\n\nThis tutorial requires a OneSignal account. You can either [log in](https://app.onesignal.com/login) to your existing OneSignal account or [create a new account for free](https://app.onesignal.com/signup). Then, click **_+New App/Website_** to begin setting up your OneSignal account.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/37P1h9kX0fQTxgKg50RfFmNRpJV5ym6cAmEqGKNOec36Ni9pMugoMkoD7WjJk8TYWyAeVa5KnMH3rh58uPLhMtuwJJ1J0aAwqYl3tUHMKq56kfiBK1gkxu-joRURQkXkF2B6DEMS)\n\n### Android Setup\n\nAs Flutter apps can target both Android and iOS, both of these platforms need to be set up individually. Let’s proceed with setting up Android for now — iOS can be added later.\n\n![How to Add In-App Messages to a Flutter App](https://lh3.googleusercontent.com/1079YxjGproJRdRzcgmoEn1a0wStoczHtPLh2T7cX2jhnbdmI6TJugzAeyspHUVKwW22dq43QdmyoRylInn3uOI-OSy-76F6nf8RCVzBezvyaTrd7mF5_FrO6T1XISPYnHqMkE4m)\n\nName your app and select _**Google Android (FCM)**_ and use the following guide to [<u>generate a Firebase Server Key</u>](https://documentation.onesignal.com/docs/generate-a-google-server-api-key).\n\n![How to Add In-App Messages to a Flutter App](https://lh6.googleusercontent.com/--c0A23Xt7HOrOzAnrVWuG70tsTimR4Q8wt68y6Al84-S77WWDe3gWGn27PpJUpsxVcC9Ukz5ORIqpxVZPBIcygszg0fkV6XsPiow22R8vw6_9xOHQqfxE9dYjV8jK6DepAarjHW)\n\nAfter you\'ve input your Firebase Server Key and Firebase Sender ID, click **_Save & Continue_**.\n\nOn the next screen, select _ **Flutter** _ as your target SDK.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/49fTc1QegAjP3hoAUqXmbIanKQvNYHRJ7qNQiFm5YRySJttfIhfy4L-wfH1fP0PEix2f5fQAAhvacK10aPFQrs577RhpBXTDsxXAJN7YBcrqQmLMqmwrWEZi1wsLWaVE4rL1o-2x)\n\nOn the next page, you\'ll see your App ID — copy it for future reference. **Don\'t click _Done_** just yet. The Flutter app needs to be run on your device first before you complete this step.\n\n![How to Add In-App Messages to a Flutter App](https://lh5.googleusercontent.com/521q84nDI0wzckpwbEZKBNcHIesKtfHjnVX1uOYbXxYPivQfgKlluiSKLUGEHccnZj-XKaFLpzw8gyXe_e_AVkR3twnt6eRAZBbDrYekQ3LqkG_AH12-1T4Ud-at_jIb53S96eMd)\n\nThe App ID is used to initialize the OneSignal SDK. Add the following code to `main.dart`:\n\n```\nimport \'package:flutter/material.dart\';\nimport \'package:onesignal_flutter/onesignal_flutter.dart\';\n\nvoid main() {\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  // This widget is the root of your application.\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key}) : super(key: key);\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  @override\n  void initState() {\n    super.initState();\n    OneSignal.shared.setAppId("YOUR ONESIGNAL APP ID HERE");\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text(\'OneSignal IAM\'),\n      ),\n      body: const Center(child: Text(\'OneSignal IAM Example\')),\n    );\n  }\n}\n\n```\n\nNow, run the app on your device. Then, return to your OneSignal account and click on **_Check Subscribed Users_**. A message showing your device model will be shown.\n\n![How to Add In-App Messages to a Flutter App](https://lh5.googleusercontent.com/Bw_Wmiv3Ri2Fnf19tWaV6vI53KsVBYEKlWOaymWDONk0vOUXnjA9k-a_q5REejk16C5Db5_b9LIjjVyW5I00msFfA_pSgGzjgWApeuGwCz3p5nR5yM8DJv3l56V7LJG63ZUHJ_Al)\n\n### iOS Setup\n\nIn your OneSignal account, navigate _ **Settings** _ and click on _**Apple iOS (APNs)**_. In this step, you will be asked for an iOS push certificate and its password.\n\nCheck out the linked documentation to learn [how to generate an iOS push certificate](https://documentation.onesignal.com/docs/generate-an-ios-push-certificate). The easiest method is to use[OneSignal provisionator](https://onesignal.com/provisionator), which directly generates the p12 file and password without much hassle. Once generated, upload the p12 file and password, and continue to the next screen.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/g-RK42ukOsNazyECQOoa9yLCwENsb3WxMgn33m8_DXCk1wsHgjMdy74OL-S5nAirQinhg46HLWkt7xsxMrWTNnWKpWywHsnSgIqtjwtFnO3RkKxwt9pgTEmgHAWJPDp4AmCojvPlMsOb2fySWQ)\n\n![How to Add In-App Messages to a Flutter App](https://lh5.googleusercontent.com/Uadu5kRL8BxcMZQ9IMMenYy670uHseGf3yGR504sDO_L1saV8wPfKs-5ouH4uDWaFUKcM--LcP-sIiyckbeOxd9Zq8MTzZNbxEpXF9L21BPrtPthcwYi8ZkEVju8IWVASgG-clP6xGhg7UpwyA)\n\n### Upload Your APNs Cert\n\n![How to Add In-App Messages to a Flutter App](https://lh6.googleusercontent.com/VRzrv4qZcGkIrjtez8mRAu40EJexhtWj4T41HFvgkI_XuNzf0HlgVgwgLrR8y7mYqiZWzTB2vbKsGeskkZrtv5zpZViIHPyKFRrOgbIudRlhi1i8QhUw5cSyxGcan53fmIFkiIJq_VEop7cdCw)\n\nThe certificate password is the one used to encrypt the exported certificate. If you left the password empty, do not enter a value for **Certificate Password**. OneSignal will verify the certificate can be used for push notifications upon clicking the continue button.\n\nSelect **_Flutter_** SDK on this screen, the next screen is identical to the Android configuration screen. Running the same code for iOS will work without any further modifications.\n\n![How to Add In-App Messages to a Flutter App](https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647842248286_image.png)\n\nAt the bottom of the Apple iOS (APNs) Configuration screen, a warning will appear saying that your user has not subscribed. This is because we have not yet asked for permission to send push notification. We will be [asking for opt-in permission using in app messages](https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/) later in this article.\n\n## Sending an In-App Message\n\nClick on _ **Message** _ from the main navigation bar and then select _ **In-App** _ from the submenu that appears.\n\nOnesignal provides default in-app messaging templates which can then be customized according to your use case and preference. From the list of templates, click on **_[Default Template] Welcome Message_**.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/ZtKIq8Q5hxYuszQM_bH4Yf8LyDzVZsZgB3dMrfBkqx3gkPjkhDumAZwg5TERq4G_ezs-r4k-Eu9vjBwVyOu7cY-x6P3_SvKyQlOE14BT-4gA0ZaqZtPLim_I-aP10hy17lnW_o-r)\n\nIn the top right corner of the screen, select **_Actions_** — a drop-down menu will appear. If you\'d like to edit and customize the default welcome message, click Edit to alter the template. If you\'ve finished editing or would simply like to test the default message as is, click _ **Resume** _ from the drop-down menu. Then, run the app on your device.\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-sending-in-app.jpg)\n\n## In-App Messaging Triggers\n\nYou can use [Triggers](https://documentation.onesignal.com/docs/iam-triggers) to choose when to show the in-app message to the user. There are some predefined Triggers such as "app open," as well as custom triggers that can be set programmatically using the `addTrigger()` function. To begin, let\'s try using a predefined trigger for showing an app rating message.\n\nIf you\'re using a free OneSignal plan, you will only be able to have one in-app message live at a time. Before creating the new message, you\'ll need to pause the welcome in-app message by clicking _ **Actions** _ and then _ **Pause** _ from the drop-down menu. Then, navigate back to the main in-app messages screen and select **_[Default Template] App Store Rating_**. Select _ **Actions** _ > **_Edit_** and then scroll down on the editing screen to the section entitled **_3. Triggers_**.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/F1o5vfGYugkkpPBcJoaGGVfhuSmaPdjEd1TkbUSpk-PmgAz9ivXwtK3jDelGDDxzx-os2pGc--S4ldpcUdJKmwjUplscPUaS_9l9VdrBp-Tea_xeGZZ5zD3FdkJOURk9rXi_GU72)\n\nWhen should users see this message? select _ **When certain conditions are satisfied during the session** _. You should see two form fields for **_session duration_** and _ **duration since the last in-app** _. Enter a session duration greater than 10 seconds for demonstration purposes, then scroll down to the bottom of the page and click on the blue **_Update Message_** button.\n\n![How to Add In-App Messages to a Flutter App](https://lh6.googleusercontent.com/JfiPv71jN9ad6eXNRlmIbd_RWTenYhSOiX6JI8265cwDjJhbeZ7ZHLiRckmlkzTtBPhM_MZOyXxAISjtTodSo3KBOhmZrrY37uVWIb-r2Wa3-IOsruDfKTzX4ckghxg0AwLds0OI)\n\nThen, from the list of In-app messages, click _ **Actions** _ > _ **Resume** _ for this message and then open the app. After 10 seconds, you should see a rating request message inside your app.\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-in-app-messaging-triggers.jpg)\n\nThis example demonstrates the power of in-app messaging! Using OneSignal\'s in-app messaging tool, you can:\n\n- Add and remove in-app messages remotely without requiring any app update.\n- Leverage useful, pre-made triggers such as _ **app open** _, **_session duration_** , and _ **duration since the last in-app message** _, along with the option to club these triggers with an OR operation. This makes implementing a wide range of in-app messaging strategies possible without requiring any code customizations!\n\n### Asking for Push Permission (iOS)\n\nIn iOS, a user needs to grant permission to an app in order to receive push notifications. As a general rule of thumb, you don’t want to ask a user for push notification permission immediately when they first launch the app because they aren\'t likely to understand the value of notifications at that early stage of adoption. Onesignal provides a predefined in-app messaging template to help you [time your opt-in request and give users more context to inform th](https://onesignal.com/blog/how-to-create-more-compelling-opt-in-messages-for-ios-push/)eir opt-in decision.\n\nTo try out this prompt, pause the current message (if you\'re using a free account), then click **_Action_** > _ **Resume** _ to enable the _**[Default Template] Push Permission Prompt**_. This prompt has been set to show the user a message asking for permission upon launching the app, but the trigger and message content can be customized to provide a better user experience and increase the likelihood of opt-in.\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-asking-for-push-permissions.jpg)\n\nIf the clicks to **_Allow_** notifications in the in-app message, it will automatically trigger the native iOS permission prompt. If they click **_Maybe Later_** , they will be opted out of notifications but can be prompted again later with an in-app message encouraging them to revisit this decision.\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-push-notifications-permission-pop-up.jpg)\n\nIf a user denies permission to receive notifications the first time around, but later clicks _ **Allow** _ when they are re-prompted, they will be taken to the notification settings where they will have to manually allow the app to show notifications — this is a restriction imposed by iOS.\n\n### Using Custom Triggers in In-App Messaging\n\nCustom triggers are key-value pairs of string or integer types to which the SDK responds. Whenever the condition set is satisfied, the trigger is initiated. Custom triggers can be clubbed together with AND and OR to create more complex triggers.\n\nFor demonstration purposes, let’s build a button that, when tapped eight times, will trigger a promotional in-app message.\n\nTo do so, open `main.dart` and add a floating action button to the scaffold, along with a variable to save the button tap count.\n\n```\nvoid main() {\n runApp(const MyApp());\n}\n \nclass MyApp extends StatelessWidget {\n const MyApp({Key? key}) : super(key: key);\n \n // This widget is the root of your application.\n @override\n Widget build(BuildContext context) {\n   return const MaterialApp(\n     home: MyHomePage(),\n   );\n }\n}\n \nclass MyHomePage extends StatefulWidget {\n const MyHomePage({Key? key}) : super(key: key);\n \n @override\n State<MyHomePage> createState() => _MyHomePageState();\n}\n \nclass _MyHomePageState extends State<MyHomePage> {\n int taps = 0;\n \n @override\n void initState() {\n   super.initState();\n   initMessaging();\n }\n \n Future<void> initMessaging() async {\n   await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");\n }\n \n @override\n Widget build(BuildContext context) {\n   return Scaffold(\n     appBar: AppBar(\n       title: const Text(\'OneSignal IAM\'),\n     ),\n     floatingActionButton: FloatingActionButton(\n       onPressed: () {\n         setState(() {\n           taps = taps + 1;\n         });\n         OneSignal.shared.addTrigger(\'taps\', taps);\n       },\n       child: const Icon(Icons.add),\n     ),\n     body: const Center(child: Text(\'IAM\')),\n   );\n }\n\n```\n\nOpen the OneSignal dashboard, select the _**[Default Template] 10% Off Promotional**_ template, and click _ **Actions** _ > _ **Edit** _. On the editing page, scroll down until you see the **_3. Triggers_** section. Under the question, **_When should users see this message?_** select **_When certain conditions are satisfied during the session_**. Click **_IN-APP TRIGGER_** and input **_taps is 8_** to the appropriate form fields, as shown below.\n\n![How to Add In-App Messages to a Flutter App](https://lh5.googleusercontent.com/FqsNq5n7ROCTM0b-uGsMMXftLnKgyXwvMA1yAQKLVjd2aae2v_o90yx5QHwB8OIT8VV-voQrXSikhU4N368zWtojvWs_kRwvVaX0s-YEivH2G5Qx2mnRvZryxDKMnZ2aEmNx7aPv)\n\nFinally, click _ **Add Trigger** _ and then scroll to the bottom of the page and click **_Update Message_**. If you followed along and implemented the previous example, the push permission prompt will still be live. If you are using a free plan, pause that message, navigate back to your promotional message, and click **_Actions_** > **_Resume_** to set this one live. Now, run the app with the updated code. Tap the button 8 times and the promotional message should pop up on your screen.\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers.jpg)\n\nThis custom trigger was an example of `key` is `value` pair. There are other conditions on which the triggers can be set as well.\n\n![How to Add In-App Messages to a Flutter App](https://lh4.googleusercontent.com/1RHH9EqDClgKyMnlqql3-bPUYFdTk12FCVdYDn3hmk4AlFBwzZa09vIc-a0M4y4H3XbZ36D8d0b1__5bcCvm7KxKVDyHB36PGMWoNIdzMtVmOIGDS9S-ivbuUorFp9mNNTxqEQ16)\n\nOne of the best things about Onesignal\'s in-app messaging tool is the ability to overhaul the design of the popup without doing an app update. To demonstrate, let\'s update the current 10% promotional message to something more appropriate. To do so, first click _ **Actions** _ > **_Pause_** to pause the current message, then click on _ **Edit** _.\n\nAll the UI elements are highly customizable in the OneSignal message builder, as can be seen in the video below. Almost all aspects of text can be formatted to suit the design language of your app.\n\n\x3c!--kg-card-begin: html--\x3e<iframe width="560" height="315" src="https://www.youtube.com/embed/2rtoY29A_I8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\x3c!--kg-card-end: html--\x3e\n\nMessages also do not have to be fixed to a particular type of layout. All the UI elements can be reordered on the fly without requiring an app update.\n\n\x3c!--kg-card-begin: html--\x3e<iframe width="560" height="315" src="https://www.youtube.com/embed/jX1l3epR1aQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\x3c!--kg-card-end: html--\x3e\n\nIn-app messages also support GIFs!\n\n\x3c!--kg-card-begin: html--\x3e<iframe width="560" height="315" src="https://www.youtube.com/embed/s55nSv_llzc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\x3c!--kg-card-end: html--\x3e\n\nLet’s apply all these changes, scroll to the bottom and click _ **Update Message** _. No need to update any code, just open the app again!\n\n![How to Add In-App Messages to a Flutter App](https://onesignal.com/blog/content/images/2022/04/flutter-using-custom-triggers-gif--1--1.jpg)\n\n## Adding Click Actions in Messages\n\nOnesignal provides a handful of click actions out of the box that can be customized from the dashboard. There is also a Custom Action ID, in which a custom action ID string is sent, which can handle custom cases such as deep-linking, app updates, or any other functionality.\n\n![How to Add In-App Messages to a Flutter App](https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647766296013_image.png)\n\nLet’s implement a URL click action first. Implementing an URL means that when a user clicks on the button, they will be taken to the specified URL. To add a link, click **_Actions_** > _ **Edit** _ on the promotional message (if you closed out from the last example) and scroll down to the _ **Button 1** _ box and update the URL. Then, scroll down to the bottom of the page and click _ **Update Message** _. Then, click _ **Action** _ > **_Resume_** to resume the message. To test it out, open your app and tap the button 8 times again.\n\n![How to Add In-App Messages to a Flutter App](https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647788200215_image.png)\n\nOnce the message pops up, press the first button and you should be taken to the website link you provided.\n\n## Custom Click Action ( Custom Action ID)\n\nCreating custom click actions requires developer support. All the use cases that may be necessary for the future should be listed beforehand and handled in the code.\n\nIn this example let’s try deep linking to a second page when pressing the button. To do so, create a new file called success\\_screen.dart and add this code.\n\n```\nimport \'package:flutter/material.dart\';\nclass SuccessScreen extends StatelessWidget {\n  const SuccessScreen({Key? key}) : super(key: key);\n  @override\n  Widget build(BuildContext context) {\n    return const Scaffold(\n      body: Center(\n        child: Text(\n          \'Success\',\n          style: TextStyle(fontWeight: FontWeight.bold, fontSize: 42),\n        ),\n      ),\n    );\n  }\n\n```\n\nNow, go to the `initMessaging()` in `main.dart` and add a `setInAppMessageClickedHandler` to listen to any click actions that happen on the message.\n\n```\n Future<void> initMessaging() async {\n    await OneSignal.shared.setAppId("f3afbef4-2fe4-452b-a391-b8175c2b65a1");\n    OneSignal.shared.setInAppMessageClickedHandler((action) {\n      if (action.clickName == \'successPage\') {\n        Navigator.of(context)\n            .push(MaterialPageRoute(builder: (_) => const SuccessScreen()));\n      }\n    });\n  }\n\n```\n\nThis works as follows:\n\n- set `InAppMessageClickedHandler` listens to any action event that is emitted by interacting with any UI element.\n- When a click action is set in the OneSignal console, it means that an action binds to that UI element.\n- Whenever an interaction occurs with that element, the action is triggered.\n- If that action is a pre-defined one, such as opening a URL, then while the click handler will listen to the action being emitted, the action to perform is already handled by the SDK and will result in opening the URL in the browser.\n- For action IDs that you specify, you can build different use cases as shown in the above example to handle different action IDs.\n- In the above snippet, the action [has many properties](https://documentation.onesignal.com/docs/iam-sdk-methods#in-app-message-click-handler) which can be further leveraged to create better user experiences.\n\nNow, click **_Action_** > **_Pause_** to pause the current message and then select **_Edit_**. Scroll down to the button to which a click action has to be added. Then, select **_Custom Action ID_** and give the action a name such as **_successPage_**.\n\n![How to Add In-App Messages to a Flutter App](https://paper-attachments.dropbox.com/s_053EFD6140684D6BC9E1307180646321DDB0BC283990EAF5E7D6B91D562ECB7C_1647787194459_image.png)\n\nNext, scroll down to the bottom of the screen and click **_Update Message_** and **_Resume_** the message via the **_Actions_** menu. Now, run the updated app.\n\nWhen you click on the button, you should have successfully implemented deep linking!\n\n\x3c!--kg-card-begin: html--\x3e<iframe width="560" height="315" src="https://www.youtube.com/embed/fU58LmmgpMM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\x3c!--kg-card-end: html--\x3e\n## Share Your Feedback\n\nWe\'d love to know what you think and answer any additional questions you have. To connect with us, [create an issue on GitHub](https://github.com/OneSignal/onesignal-vue/issues) or ping us on the [OneSignalDevs Discord server](https://discord.com/invite/EP7gf6Uz7G) to share your experience.  We appreciate any insight you can share to help us better serve Vue.js users!\n\nTo stay in the loop with the latest product updates and innovations, follow the [OneSignal Developers Twitter](https://twitter.com/onesignaldevs). For additional support and dev inspiration, tap into our global developer community.\n\n### **>> [Connect with the OneSignal Developer Community](https://onesignal.com/onesignal-developers)**\n\n###   \n_This guest post was authored by Chinmay Kabi_',n.user={name:"Pato",username:t,twitter_username:t,github_username:t,website_url:"https://developers.google.com/community/experts/directory/profile/profile-patricio_vargas",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--ypk0T9ei--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/224070/cafd30d7-a2d3-49bd-88fe-9339dae9d973.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--m2lVscTe--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/224070/cafd30d7-a2d3-49bd-88fe-9339dae9d973.png"},n.organization={name:"OneSignal",username:s,slug:s,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--8dEo8Ojq--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/4022/23214b83-b368-4449-81dc-ceb39bcaf9f1.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--ByqMcT_S--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/4022/23214b83-b368-4449-81dc-ceb39bcaf9f1.png"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:n}},error:e,state:{currentArticle:n},serverRendered:!0,routePath:"/devpato/1104451",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:e}}}}(null,"devpato",{},"2022-06-06T19:19:34Z","2022-06-03T20:21:15Z","onesignal")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
