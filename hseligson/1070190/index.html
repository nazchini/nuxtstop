<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Deploying Microservices with GitOps</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Deploying Microservices with GitOps</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/gitop" class="tag" data-v-70afb46a>
          #gitop
        </a><a href="/nuxtstop/t/microservices" class="tag" data-v-70afb46a>
          #microservices
        </a><a href="/nuxtstop/t/cd" class="tag" data-v-70afb46a>
          #cd
        </a><a href="/nuxtstop/t/argo" class="tag" data-v-70afb46a>
          #argo
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--cmblzr8r--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/f4bi23xt04udlas8kpbk.png" alt="Deploying Microservices with GitOps" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            1
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Apr 28</time></div></header> <div class="content" data-v-70afb46a><p><a id="post-22229-_fklv3mbvlb17"></a> Learn how to adopt GitOps for your microservices deployments.</p>

<p>This blog post will explain the highlights listed below and how it's possible to adopt GitOps and the benefits of deploying with Argo for your microservices.</p>

<ul>
    <li>What are microservices?</li>
    <li>What are some of the challenges with microservices?</li>
    <li>What is GitOps?</li>
    <li>What is Argo CD?</li>
    <li>How can GitOps and Argo CD help your deployments for your microservices?</li>
</ul>

<p> </p>

<h3>
<a id="post-22229-_j6miu69v4mbk"></a>Microservices</h3>

<p>Microservices are a software architecture pattern for building scalable distributed applications. It's essentially a framework that helps break down monolithic architectures into small independent services that can communicate over common patterns like APIs, event-driven, or even messages. An organization might do this because monolithic architectures are tightly coupled and run as a single service. So, if a particular process of your application with a monolithic architecture experiences a spike in demand, this affects your entire architecture and must be scaled.</p>

<p>It's also important to note that any features or experiments made to this type of application become more complex and therefore can experience more issues and failures.</p>

<p>Breaking down a monolithic application with API services allows you to build and version each function of an application independently. Because of this, microservices enable an organization to run, modify, deploy and scale each service for an application much more quickly.</p>

<p>(include visual of monolithic architecture vs. microservice)</p>

<h3>
<a id="post-22229-_jcj0n5hgdsz2"></a>Challenges of Microservices</h3>

<p>Microservices provide several benefits for organizations by enabling autonomy amongst development teams, allowing applications to scale, deploying those applications efficiently, and increasing flexibility and resilience for those applications. However, microservices include challenges that we will dive into and explain.</p>

<p>Those challenges are:</p>

<ul>
    <li><strong>The exploding number of pipelines.</strong></li>
</ul>

<p>As the number of applications increases, the management of such pipelines becomes more complex. Often this can result in messy scripts and needing to leverage configuration management tools. With all of that comes maintenance, and operators spend a lot of time fixing pipelines. We have a <a href="https://codefresh.io/continuous-deployment/ci-cd-pipelines-microservices/">blog post</a> that dives deeper into this issue if you'd like to learn more.</p>

<ul>
    <li><strong>Difficulty managing deployments (all at once, in sequence, and with dependencies).</strong></li>
</ul>

<p>While deploying a single microservice is more manageable than deploying a monolithic legacy application, there are still challenges. Suddenly, only a few pipelines for a monolithic application have turned into 20 or more pipelines with multiple microservices. These numbers will vary based on your organization, but it's no doubt that now managing multiple microservice repositories and pipelines is more complicated as more and more are created.</p>

<ul>
    <li><strong>Difficult to monitor.</strong></li>
</ul>

<p>Now that there are multiple pipelines and multiple applications with an increase in deployments, those deployments and pipelines need to be monitored for any issues. Previously when using a monolithic architecture, these things could be monitored manually. However, the increased complexity of a distributed system can lead to chances of failure.</p>

<p>This is why it’s so important to ensure you’re monitoring for total failures, network failures, cascading failures caused by remote procedure calls between your microservices, and even ensuring that you’re honoring your SLAs (service level agreements). With a microservice architecture, we need to keep in mind that services can even be temporarily unavailable due to broken releases, configurations, and any changes due to human error. Clients of services should be architected in a resilient way so they do not suffer catastrophic failure when a service is down.</p>

<ul>
    <li><strong>Difficult to debug (when things go wrong).</strong></li>
</ul>

<p>This topic itself could be a blog post. However, some of the critical challenges when debugging a microservice is fragmentation and ensuring that you create the same environment where the bug was identified. This means you need to ensure an identical setup to production, this may include specific cluster versions, serverless functions, the correct environment where the bug was reported, etc. In addition to the asynchronous call complications, the technicalities of running the microservice locally, and the cost it can take to execute all of these things in what you hope is a timely execution.</p>

<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-1.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lb5T2Pii--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-1-1024x891.png" alt="Monolithic vs Microservices" loading="lazy" width="880" height="766"></a></p>

<p>Even with the above example of the complexity that microservices can create when transitioning from a monolithic architecture to a microservice architecture, the benefits of moving to microservices can’t be understated. To gain the full benefits of microservices in scaling, reliability, and security we need to address these challenges head-on</p>

<p>So, what could help you with some of the challenges organizations face when managing, monitoring, deploying, and maintaining their microservices? Let me introduce you to GitOps, how you can apply it to your microservices, and how it might help!</p>

<h3>
<a id="post-22229-_y4bb54vbtqko"></a>GitOps</h3>

<p>Before we dive into microservices and explain what they are and what sort of challenges they create for us. First, let's dive into what <a href="https://codefresh.io/learn/gitops/" rel="noopener">GitOps</a> is so you can begin to percolate your thoughts as to WHY this might be helpful for your microservices as we explain them.</p>

<p>Perhaps you're familiar with Git and use it already for your source control and recognize how it enables a source of truth for your source code, but what if we expanded on that idea and applied it to our entire system? This is where GitOps comes into play.</p>

<p>GitOps is a paradigm that leverages a Git repository as the source of truth to manage continuous deployments and infrastructure management as code. This allows you to drive automation, bring repeatability, reduce downtime and eliminate human interventions in constant release cycles.</p>

<p>Now that we better understand GitOps let's explore a potential solution for deploying your microservices with GitOps that can be enabled by using Argo CD.</p>

<h3>
<a id="post-22229-_6yto5ouqmeap"></a>Argo CD</h3>

<p>When determining the best deployment process and tools for GitOps, <a href="https://codefresh.io/learn/argo-cd/" rel="noopener">Argo CD</a> is a great solution. Argo CD is a declarative CD (Continuous Delivery) tool that automatically synchronizes and deploys your applications whenever a change is made to your Git repository. This is why it’s one of the leading GitOps solutions.</p>

<p>It allows you to manage the lifecycle of your application and deployments while also providing version control, configuration management, and application definitions with a Kubernetes manifest. This allows you to organize your environments and complex infrastructure data with more ease.</p>

<p>Within this post, we will highlight ways that you can use Argo CD to deploy your microservices while applying GitOps to your workflow.</p>

<h3>
<a id="post-22229-_nhe8sc9avj9"></a>How GitOps and Argo can help</h3>

<p>When trying to determine the best strategy to manage your Kubernetes applications, an increasingly popular approach is GitOps. Argo CD makes GitOps practical for you to use because Argo CD is a Kubernetes-native declarative continuous delivery tool that follows GitOps principles. Argo CD also enables you to accelerate the frequency of your application deployments and lifecycle management by maintaining your configurations and ensuring they’re in sync, applying your desired state directly from Git.</p>

<p>Essentially, Argo CD helps support your deployments while effectively providing several other benefits for your microservices which we’ll explain more below!</p>

<ul>
    <li><strong>No more deployment pipelines -> Argo CD deploys them from Git</strong></li>
</ul>

<p>Previously we mentioned the explosion of pipelines when converting from a monolithic architecture to a microservice architecture. However, by leveraging Argo CD it can reduce the number of pipelines by simply eliminating them. This is because you can use Argo to deploy your microservice you rely on your Git repository instead of using a pipeline. When you add an Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#applications" rel="noopener">Application</a> and an <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#projects" rel="noopener">AppProject</a>, your app's configuration settings can be defined using the Application Custom Resource (CRD) that your Kubernetes resource object represents.</p>

<p>Argo CD fully automates the deployment of an application by recognizing your configuration details from your manifest files and synchronizes any changes made to your system within your targeted namespace. Argo CD allows you to eliminate the use of a deployment pipeline.</p>

<ul>
    <li><strong>Reduce files -> use an ApplicationSet</strong></li>
</ul>

<p>While microservices do make it easier to deploy more frequently, there’s also the increase in files for your configurations. Even when a service is deployed and managed using GitOps, this doesn’t reduce the number of files, such as your Kubernetes manifests, your services, secrets, and configmaps, all stored within your Git repository.</p>

<p>Luckily, Argo CD offers a controller known as an <a href="https://argocd-applicationset.readthedocs.io/en/stable/" rel="noopener">ApplicationSet</a> to help us manage our deployments and files easier. The ApplicationSet allows you to create multiple Argo CD Applications and organize your microservices per Application. The controller also allows you to use a single manifest to target numerous clusters and a single manifest to deploy multiple applications, not just from one repository but multiple!</p>

<ul>
    <li><strong>Always know their health -> Argo CD health</strong></li>
</ul>

<p>Whenever you make any change to your microservices or your system there’s a risk of a potential failure. For example, if you make a change and apply it to your manifest YAML file, Kubernetes does not wait until the resource reports back its status, nor do your automation tools typically report back, either. Instead, Kubernetes will apply the manifest and move on to the following manifest without waiting to know if the first one succeeded and was created or not. Something that can help alert you and provide observability for the state of your service is the Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/health/#resource-health" rel="noopener">health status</a>.</p>

<p>Argo CD offers a built-in health assessment that provides an overall Application health status for you. Argo CD checks the health for the following resources: services, ingress, deployment, replicaset, statefulset, daemonset, and a persistentvolumeclaim. You can also add custom health checks for custom resources or any persistent known issues affecting your Ingress or StatefulState. These custom health checks can be done two ways: within a ConfigMap or with a script and implemented with a YAML file. If you cannot find a health check for your resource, you can create one yourself for whatever use case you need it.</p>

<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GMnrD02Q--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" alt="" loading="lazy" width="206" height="248"></a></p>

<p>Above is an example of the Argo CD Application health status within the Argo CD Web UI. Since Git is our source of truth, this sort of observability and information about your service provides that source of truth for the actual state of your running system.</p>

<ul>
    <li><strong>Deployment cadence -> Argo CD sync phases/waves</strong></li>
</ul>

<p>Typically when managing several microservices and making frequent deployments, it can be a challenge when needing to deploy a specific service in a particular order or, let's say, you want to deploy a service with a database, apart from deployment files. It would help if you had some solution for this. Whatever your use case may be, Argo CD provides a solution for this!</p>

<p>A <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-waves" rel="noopener">Syncwave</a> allows you to order how Argo CD applies the manifest files stored in your Git repository. By default, all manifests have a wave of zero, but you can set these by using an argocd.argoproj.io/sync-wave annotation.</p>

<p>For example, if you wanted to specify a wave, it would look something like this:</p>

<pre>metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "5"</pre>

<p>When Argo CD starts a sync action, the manifest gets placed in the following order of their Phase.</p>

<p>When you apply the manifest in a <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-phases" rel="noopener">Phase</a>, you're using a resource hook to control the sync operation. Those operations are defined by the three primary phases known as the pre-sync, sync, and post-sync phases. To enable a sync, annotate the specific object manifest with argocd.argoproj.io/hook with the type of sync you want to use for that resource.</p>

<p>For example, if you wanted to use the PostSync hook, it would look something like this:</p>

<pre>metadata:
  annotations:
    argocd.argoproj.io/hook: PostSync</pre>

<p>Whenever Argo CD starts a sync, it orders the resources in the following precedence: the phase, the wave they are in, by kind (e.g., namespaces first and then other Kubernetes resources, followed by custom resources), and by name.</p>

<ul>
    <li><strong>Dependencies -> See the graphical view of Argo CD</strong></li>
</ul>

<p>Now that you have containerized your microservices and wrapped your brain around the Kubernetes ecosystem. Suddenly an extra layer of complexity is added when trying to deploy all of those microservices and reference the never-ending Kubernetes documentation. This is where having some visualization for your deployments is helpful! Enabling some sort of topology for your application and infrastructure would allow you to better understand, monitor, and control your containerized microservice.</p>

<p>Argo CD does just that. The web UI provides a real-time view of application activity and dependencies and continuously monitors running applications when using Argo CD. Monitoring all deployed applications allows you to compare the current, live state against the desired target state (as specified within your Git repository). Any deployed application whose live state deviates from the target state is reported and allows you to view the differences while also providing facilities to automatically or manually sync the live state back to the desired target state of your system.</p>

<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--oBhUaauz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" alt="" loading="lazy" width="880" height="425"></a></p>

<p><a href="https://github.com/argoproj/argo-cd/blob/master/docs/assets/argocd-ui.gif" rel="noopener">Image from Argo CD</a></p>

<p>The image above exemplifies an Argo CD Application with a topology view that shows all of the dependencies of that application.</p>

<ul>
    <li><strong>Fast rollbacks/progressive delivery -> Argo Rollouts</strong></li>
</ul>

<p>When beginning to plan your deployment process for your new microservices, it's essential to determine which deployment strategy is best for you and your organization.</p>

<p>Potential strategies could include:</p>

<p><strong>Rolling</strong>: Services that don't need to be available 24/7 can utilize a pattern of swapping in the new for old and essentially hitting the restart button. This allows minimal disruption should there be a service outage. The simplicity aspect is compelling, and the disruptions to end users are less so.</p>

<p><strong>Progressive delivery</strong> (this includes blue-green deployments and canary): A blue-green deployment is simple, has excellent rollback, and has minimal downtime in best-case scenarios. Canary deployments tie together the best of all worlds for minimizing downtime, fast rollback, and minimal disruptions in the case of failed deployments.</p>

<p>However, while progressive delivery improves the reliability and stability of deployments, applying it within your complex microservice environments doesn't come easy. Kubernetes was built as a container orchestrator, not a deployment system, requiring manual work to execute progressive delivery. Kubernetes also has a default rolling update strategy that is simple to deploy yet provides little control over user traffic and rollback compared to the more advanced deployment methods like blue-green and canary.</p>

<p>This is where <a href="https://codefresh.io/learn/argo-rollouts/" rel="noopener">Argo Rollouts</a> walks down the red carpet as an open source Kubernetes controller with a GitOps-based progressive delivery strategy.</p>

<p>Argo Rollouts introduces a new Kubernetes CRD for a rollout entity. It has the same functionality as a Kubernetes Deployment entity, but the Argo Rollouts will monitor for changes and can control the rollout. Users can define a specific rollout strategy configured with a manifest file. Argo Rollouts helps you simplify your release processes and provide full support of progressive delivery with automated deployment rollout and management in one!</p>

<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vSn4C8QW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" alt="" loading="lazy" width="880" height="652"></a></p>

<p><a href="https://argoproj.github.io/argo-rollouts/dashboard/#individual-rollout-view" rel="noopener">Argo Rollout Image of UI Dashboard</a></p>

<p>This image above exemplifies a visualization of an individual Rollout using a Canary deployment strategy.</p>

<h3>
<a id="post-22229-_wpmw7qt4ftus"></a>Conclusion</h3>

<p>As you transition from a monolithic architecture to microservices, this process shares a common goal with GitOps: making it easier to deploy more frequently.</p>

<p>We have shared the benefits and possibilities of adopting GitOps with Argo for your microservices deployments within this blog post. To help you leverage these benefits and get started with your GitOps journey, make sure you understand what GitOps is and the fundamentals of this paradigm. To get started, you can check out our <a href="https://codefresh.learnworlds.com/" rel="noopener">GitOps Fundamentals</a> course for free, which allows you to learn about GitOps and get started with the basics of Argo, in tandem with receiving a certificate of completion to share with your employer and others!</p>

<p>Once you’ve completed this course, you should put your knowledge to the test and try Codefresh GitOps CD to help manage your Argo CD instances. This will provide you with a visualization of your services and any possible failures tied to a commit, a test, pipeline, etc. You can quickly pinpoint issues with access to a release timeline and functionality to execute rollbacks when needed.</p>

<p>Learn more about Codefresh GitOps CD and sign up <a href="https://codefresh.io/codefresh-signup/" rel="noopener">here</a>!</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/hseligson/deploying-microservices-with-gitops-3ln8" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(e,o,t,i){return t.type_of="article",t.id=1070190,t.title="Deploying Microservices with GitOps",t.description="Learn how to adopt GitOps for your microservices deployments.  This blog post will explain the...",t.readable_publish_date="Apr 28",t.slug="deploying-microservices-with-gitops-3ln8",t.path="/codefreshio/deploying-microservices-with-gitops-3ln8",t.url="https://dev.to/codefreshio/deploying-microservices-with-gitops-3ln8",t.comments_count=0,t.public_reactions_count=1,t.collection_id=e,t.published_timestamp=o,t.positive_reactions_count=1,t.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--cmblzr8r--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/f4bi23xt04udlas8kpbk.png",t.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--yYO-j_SG--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/f4bi23xt04udlas8kpbk.png",t.canonical_url="https://codefresh.io/about-gitops/deploy-microservices-with-gitops/",t.created_at="2022-04-28T20:50:06Z",t.edited_at="2022-04-28T20:51:29Z",t.crossposted_at=e,t.published_at=o,t.last_comment_at=o,t.reading_time_minutes=12,t.tag_list="gitop, microservices, cd, argo",t.tags=["gitop","microservices","cd","argo"],t.body_html='<p><a id="post-22229-_fklv3mbvlb17"></a> Learn how to adopt GitOps for your microservices deployments.</p>\n\n<p>This blog post will explain the highlights listed below and how it\'s possible to adopt GitOps and the benefits of deploying with Argo for your microservices.</p>\n\n<ul>\n    <li>What are microservices?</li>\n    <li>What are some of the challenges with microservices?</li>\n    <li>What is GitOps?</li>\n    <li>What is Argo CD?</li>\n    <li>How can GitOps and Argo CD help your deployments for your microservices?</li>\n</ul>\n\n<p> </p>\n\n<h3>\n<a id="post-22229-_j6miu69v4mbk"></a>Microservices</h3>\n\n<p>Microservices are a software architecture pattern for building scalable distributed applications. It\'s essentially a framework that helps break down monolithic architectures into small independent services that can communicate over common patterns like APIs, event-driven, or even messages. An organization might do this because monolithic architectures are tightly coupled and run as a single service. So, if a particular process of your application with a monolithic architecture experiences a spike in demand, this affects your entire architecture and must be scaled.</p>\n\n<p>It\'s also important to note that any features or experiments made to this type of application become more complex and therefore can experience more issues and failures.</p>\n\n<p>Breaking down a monolithic application with API services allows you to build and version each function of an application independently. Because of this, microservices enable an organization to run, modify, deploy and scale each service for an application much more quickly.</p>\n\n<p>(include visual of monolithic architecture vs. microservice)</p>\n\n<h3>\n<a id="post-22229-_jcj0n5hgdsz2"></a>Challenges of Microservices</h3>\n\n<p>Microservices provide several benefits for organizations by enabling autonomy amongst development teams, allowing applications to scale, deploying those applications efficiently, and increasing flexibility and resilience for those applications. However, microservices include challenges that we will dive into and explain.</p>\n\n<p>Those challenges are:</p>\n\n<ul>\n    <li><strong>The exploding number of pipelines.</strong></li>\n</ul>\n\n<p>As the number of applications increases, the management of such pipelines becomes more complex. Often this can result in messy scripts and needing to leverage configuration management tools. With all of that comes maintenance, and operators spend a lot of time fixing pipelines. We have a <a href="https://codefresh.io/continuous-deployment/ci-cd-pipelines-microservices/">blog post</a> that dives deeper into this issue if you\'d like to learn more.</p>\n\n<ul>\n    <li><strong>Difficulty managing deployments (all at once, in sequence, and with dependencies).</strong></li>\n</ul>\n\n<p>While deploying a single microservice is more manageable than deploying a monolithic legacy application, there are still challenges. Suddenly, only a few pipelines for a monolithic application have turned into 20 or more pipelines with multiple microservices. These numbers will vary based on your organization, but it\'s no doubt that now managing multiple microservice repositories and pipelines is more complicated as more and more are created.</p>\n\n<ul>\n    <li><strong>Difficult to monitor.</strong></li>\n</ul>\n\n<p>Now that there are multiple pipelines and multiple applications with an increase in deployments, those deployments and pipelines need to be monitored for any issues. Previously when using a monolithic architecture, these things could be monitored manually. However, the increased complexity of a distributed system can lead to chances of failure.</p>\n\n<p>This is why it’s so important to ensure you’re monitoring for total failures, network failures, cascading failures caused by remote procedure calls between your microservices, and even ensuring that you’re honoring your SLAs (service level agreements). With a microservice architecture, we need to keep in mind that services can even be temporarily unavailable due to broken releases, configurations, and any changes due to human error. Clients of services should be architected in a resilient way so they do not suffer catastrophic failure when a service is down.</p>\n\n<ul>\n    <li><strong>Difficult to debug (when things go wrong).</strong></li>\n</ul>\n\n<p>This topic itself could be a blog post. However, some of the critical challenges when debugging a microservice is fragmentation and ensuring that you create the same environment where the bug was identified. This means you need to ensure an identical setup to production, this may include specific cluster versions, serverless functions, the correct environment where the bug was reported, etc. In addition to the asynchronous call complications, the technicalities of running the microservice locally, and the cost it can take to execute all of these things in what you hope is a timely execution.</p>\n\n<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-1.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--lb5T2Pii--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-1-1024x891.png" alt="Monolithic vs Microservices" loading="lazy" width="880" height="766"></a></p>\n\n<p>Even with the above example of the complexity that microservices can create when transitioning from a monolithic architecture to a microservice architecture, the benefits of moving to microservices can’t be understated. To gain the full benefits of microservices in scaling, reliability, and security we need to address these challenges head-on</p>\n\n<p>So, what could help you with some of the challenges organizations face when managing, monitoring, deploying, and maintaining their microservices? Let me introduce you to GitOps, how you can apply it to your microservices, and how it might help!</p>\n\n<h3>\n<a id="post-22229-_y4bb54vbtqko"></a>GitOps</h3>\n\n<p>Before we dive into microservices and explain what they are and what sort of challenges they create for us. First, let\'s dive into what <a href="https://codefresh.io/learn/gitops/" rel="noopener">GitOps</a> is so you can begin to percolate your thoughts as to WHY this might be helpful for your microservices as we explain them.</p>\n\n<p>Perhaps you\'re familiar with Git and use it already for your source control and recognize how it enables a source of truth for your source code, but what if we expanded on that idea and applied it to our entire system? This is where GitOps comes into play.</p>\n\n<p>GitOps is a paradigm that leverages a Git repository as the source of truth to manage continuous deployments and infrastructure management as code. This allows you to drive automation, bring repeatability, reduce downtime and eliminate human interventions in constant release cycles.</p>\n\n<p>Now that we better understand GitOps let\'s explore a potential solution for deploying your microservices with GitOps that can be enabled by using Argo CD.</p>\n\n<h3>\n<a id="post-22229-_6yto5ouqmeap"></a>Argo CD</h3>\n\n<p>When determining the best deployment process and tools for GitOps, <a href="https://codefresh.io/learn/argo-cd/" rel="noopener">Argo CD</a> is a great solution. Argo CD is a declarative CD (Continuous Delivery) tool that automatically synchronizes and deploys your applications whenever a change is made to your Git repository. This is why it’s one of the leading GitOps solutions.</p>\n\n<p>It allows you to manage the lifecycle of your application and deployments while also providing version control, configuration management, and application definitions with a Kubernetes manifest. This allows you to organize your environments and complex infrastructure data with more ease.</p>\n\n<p>Within this post, we will highlight ways that you can use Argo CD to deploy your microservices while applying GitOps to your workflow.</p>\n\n<h3>\n<a id="post-22229-_nhe8sc9avj9"></a>How GitOps and Argo can help</h3>\n\n<p>When trying to determine the best strategy to manage your Kubernetes applications, an increasingly popular approach is GitOps. Argo CD makes GitOps practical for you to use because Argo CD is a Kubernetes-native declarative continuous delivery tool that follows GitOps principles. Argo CD also enables you to accelerate the frequency of your application deployments and lifecycle management by maintaining your configurations and ensuring they’re in sync, applying your desired state directly from Git.</p>\n\n<p>Essentially, Argo CD helps support your deployments while effectively providing several other benefits for your microservices which we’ll explain more below!</p>\n\n<ul>\n    <li><strong>No more deployment pipelines -&gt; Argo CD deploys them from Git</strong></li>\n</ul>\n\n<p>Previously we mentioned the explosion of pipelines when converting from a monolithic architecture to a microservice architecture. However, by leveraging Argo CD it can reduce the number of pipelines by simply eliminating them. This is because you can use Argo to deploy your microservice you rely on your Git repository instead of using a pipeline. When you add an Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#applications" rel="noopener">Application</a> and an <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#projects" rel="noopener">AppProject</a>, your app\'s configuration settings can be defined using the Application Custom Resource (CRD) that your Kubernetes resource object represents.</p>\n\n<p>Argo CD fully automates the deployment of an application by recognizing your configuration details from your manifest files and synchronizes any changes made to your system within your targeted namespace. Argo CD allows you to eliminate the use of a deployment pipeline.</p>\n\n<ul>\n    <li><strong>Reduce files -&gt; use an ApplicationSet</strong></li>\n</ul>\n\n<p>While microservices do make it easier to deploy more frequently, there’s also the increase in files for your configurations. Even when a service is deployed and managed using GitOps, this doesn’t reduce the number of files, such as your Kubernetes manifests, your services, secrets, and configmaps, all stored within your Git repository.</p>\n\n<p>Luckily, Argo CD offers a controller known as an <a href="https://argocd-applicationset.readthedocs.io/en/stable/" rel="noopener">ApplicationSet</a> to help us manage our deployments and files easier. The ApplicationSet allows you to create multiple Argo CD Applications and organize your microservices per Application. The controller also allows you to use a single manifest to target numerous clusters and a single manifest to deploy multiple applications, not just from one repository but multiple!</p>\n\n<ul>\n    <li><strong>Always know their health -&gt; Argo CD health</strong></li>\n</ul>\n\n<p>Whenever you make any change to your microservices or your system there’s a risk of a potential failure. For example, if you make a change and apply it to your manifest YAML file, Kubernetes does not wait until the resource reports back its status, nor do your automation tools typically report back, either. Instead, Kubernetes will apply the manifest and move on to the following manifest without waiting to know if the first one succeeded and was created or not. Something that can help alert you and provide observability for the state of your service is the Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/health/#resource-health" rel="noopener">health status</a>.</p>\n\n<p>Argo CD offers a built-in health assessment that provides an overall Application health status for you. Argo CD checks the health for the following resources: services, ingress, deployment, replicaset, statefulset, daemonset, and a persistentvolumeclaim. You can also add custom health checks for custom resources or any persistent known issues affecting your Ingress or StatefulState. These custom health checks can be done two ways: within a ConfigMap or with a script and implemented with a YAML file. If you cannot find a health check for your resource, you can create one yourself for whatever use case you need it.</p>\n\n<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--GMnrD02Q--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" alt="" loading="lazy" width="206" height="248"></a></p>\n\n<p>Above is an example of the Argo CD Application health status within the Argo CD Web UI. Since Git is our source of truth, this sort of observability and information about your service provides that source of truth for the actual state of your running system.</p>\n\n<ul>\n    <li><strong>Deployment cadence -&gt; Argo CD sync phases/waves</strong></li>\n</ul>\n\n<p>Typically when managing several microservices and making frequent deployments, it can be a challenge when needing to deploy a specific service in a particular order or, let\'s say, you want to deploy a service with a database, apart from deployment files. It would help if you had some solution for this. Whatever your use case may be, Argo CD provides a solution for this!</p>\n\n<p>A <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-waves" rel="noopener">Syncwave</a> allows you to order how Argo CD applies the manifest files stored in your Git repository. By default, all manifests have a wave of zero, but you can set these by using an argocd.argoproj.io/sync-wave annotation.</p>\n\n<p>For example, if you wanted to specify a wave, it would look something like this:</p>\n\n<pre>metadata:\n  annotations:\n    argocd.argoproj.io/sync-wave: "5"</pre>\n\n<p>When Argo CD starts a sync action, the manifest gets placed in the following order of their Phase.</p>\n\n<p>When you apply the manifest in a <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-phases" rel="noopener">Phase</a>, you\'re using a resource hook to control the sync operation. Those operations are defined by the three primary phases known as the pre-sync, sync, and post-sync phases. To enable a sync, annotate the specific object manifest with argocd.argoproj.io/hook with the type of sync you want to use for that resource.</p>\n\n<p>For example, if you wanted to use the PostSync hook, it would look something like this:</p>\n\n<pre>metadata:\n  annotations:\n    argocd.argoproj.io/hook: PostSync</pre>\n\n<p>Whenever Argo CD starts a sync, it orders the resources in the following precedence: the phase, the wave they are in, by kind (e.g., namespaces first and then other Kubernetes resources, followed by custom resources), and by name.</p>\n\n<ul>\n    <li><strong>Dependencies -&gt; See the graphical view of Argo CD</strong></li>\n</ul>\n\n<p>Now that you have containerized your microservices and wrapped your brain around the Kubernetes ecosystem. Suddenly an extra layer of complexity is added when trying to deploy all of those microservices and reference the never-ending Kubernetes documentation. This is where having some visualization for your deployments is helpful! Enabling some sort of topology for your application and infrastructure would allow you to better understand, monitor, and control your containerized microservice.</p>\n\n<p>Argo CD does just that. The web UI provides a real-time view of application activity and dependencies and continuously monitors running applications when using Argo CD. Monitoring all deployed applications allows you to compare the current, live state against the desired target state (as specified within your Git repository). Any deployed application whose live state deviates from the target state is reported and allows you to view the differences while also providing facilities to automatically or manually sync the live state back to the desired target state of your system.</p>\n\n<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--oBhUaauz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" alt="" loading="lazy" width="880" height="425"></a></p>\n\n<p><a href="https://github.com/argoproj/argo-cd/blob/master/docs/assets/argocd-ui.gif" rel="noopener">Image from Argo CD</a></p>\n\n<p>The image above exemplifies an Argo CD Application with a topology view that shows all of the dependencies of that application.</p>\n\n<ul>\n    <li><strong>Fast rollbacks/progressive delivery -&gt; Argo Rollouts</strong></li>\n</ul>\n\n<p>When beginning to plan your deployment process for your new microservices, it\'s essential to determine which deployment strategy is best for you and your organization.</p>\n\n<p>Potential strategies could include:</p>\n\n<p><strong>Rolling</strong>: Services that don\'t need to be available 24/7 can utilize a pattern of swapping in the new for old and essentially hitting the restart button. This allows minimal disruption should there be a service outage. The simplicity aspect is compelling, and the disruptions to end users are less so.</p>\n\n<p><strong>Progressive delivery</strong> (this includes blue-green deployments and canary): A blue-green deployment is simple, has excellent rollback, and has minimal downtime in best-case scenarios. Canary deployments tie together the best of all worlds for minimizing downtime, fast rollback, and minimal disruptions in the case of failed deployments.</p>\n\n<p>However, while progressive delivery improves the reliability and stability of deployments, applying it within your complex microservice environments doesn\'t come easy. Kubernetes was built as a container orchestrator, not a deployment system, requiring manual work to execute progressive delivery. Kubernetes also has a default rolling update strategy that is simple to deploy yet provides little control over user traffic and rollback compared to the more advanced deployment methods like blue-green and canary.</p>\n\n<p>This is where <a href="https://codefresh.io/learn/argo-rollouts/" rel="noopener">Argo Rollouts</a> walks down the red carpet as an open source Kubernetes controller with a GitOps-based progressive delivery strategy.</p>\n\n<p>Argo Rollouts introduces a new Kubernetes CRD for a rollout entity. It has the same functionality as a Kubernetes Deployment entity, but the Argo Rollouts will monitor for changes and can control the rollout. Users can define a specific rollout strategy configured with a manifest file. Argo Rollouts helps you simplify your release processes and provide full support of progressive delivery with automated deployment rollout and management in one!</p>\n\n<p><a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" rel="noopener"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--vSn4C8QW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" alt="" loading="lazy" width="880" height="652"></a></p>\n\n<p><a href="https://argoproj.github.io/argo-rollouts/dashboard/#individual-rollout-view" rel="noopener">Argo Rollout Image of UI Dashboard</a></p>\n\n<p>This image above exemplifies a visualization of an individual Rollout using a Canary deployment strategy.</p>\n\n<h3>\n<a id="post-22229-_wpmw7qt4ftus"></a>Conclusion</h3>\n\n<p>As you transition from a monolithic architecture to microservices, this process shares a common goal with GitOps: making it easier to deploy more frequently.</p>\n\n<p>We have shared the benefits and possibilities of adopting GitOps with Argo for your microservices deployments within this blog post. To help you leverage these benefits and get started with your GitOps journey, make sure you understand what GitOps is and the fundamentals of this paradigm. To get started, you can check out our <a href="https://codefresh.learnworlds.com/" rel="noopener">GitOps Fundamentals</a> course for free, which allows you to learn about GitOps and get started with the basics of Argo, in tandem with receiving a certificate of completion to share with your employer and others!</p>\n\n<p>Once you’ve completed this course, you should put your knowledge to the test and try Codefresh GitOps CD to help manage your Argo CD instances. This will provide you with a visualization of your services and any possible failures tied to a commit, a test, pipeline, etc. You can quickly pinpoint issues with access to a release timeline and functionality to execute rollbacks when needed.</p>\n\n<p>Learn more about Codefresh GitOps CD and sign up <a href="https://codefresh.io/codefresh-signup/" rel="noopener">here</a>!</p>\n\n',t.body_markdown='<a id="post-22229-_fklv3mbvlb17"></a> Learn how to adopt GitOps for your microservices deployments.\n\nThis blog post will explain the highlights listed below and how it\'s possible to adopt GitOps and the benefits of deploying with Argo for your microservices.\n<ul>\n \t<li>What are microservices?</li>\n \t<li>What are some of the challenges with microservices?</li>\n \t<li>What is GitOps?</li>\n \t<li>What is Argo CD?</li>\n \t<li>How can GitOps and Argo CD help your deployments for your microservices?</li>\n</ul>\n&nbsp;\n<h3><a id="post-22229-_j6miu69v4mbk"></a>Microservices</h3>\nMicroservices are a software architecture pattern for building scalable distributed applications. It\'s essentially a framework that helps break down monolithic architectures into small independent services that can communicate over common patterns like APIs, event-driven, or even messages. An organization might do this because monolithic architectures are tightly coupled and run as a single service. So, if a particular process of your application with a monolithic architecture experiences a spike in demand, this affects your entire architecture and must be scaled.\n\nIt\'s also important to note that any features or experiments made to this type of application become more complex and therefore can experience more issues and failures.\n\nBreaking down a monolithic application with API services allows you to build and version each function of an application independently. Because of this, microservices enable an organization to run, modify, deploy and scale each service for an application much more quickly.\n\n(include visual of monolithic architecture vs. microservice)\n<h3><a id="post-22229-_jcj0n5hgdsz2"></a>Challenges of Microservices</h3>\nMicroservices provide several benefits for organizations by enabling autonomy amongst development teams, allowing applications to scale, deploying those applications efficiently, and increasing flexibility and resilience for those applications. However, microservices include challenges that we will dive into and explain.\n\nThose challenges are:\n<ul>\n \t<li><strong>The exploding number of pipelines.</strong></li>\n</ul>\nAs the number of applications increases, the management of such pipelines becomes more complex. Often this can result in messy scripts and needing to leverage configuration management tools. With all of that comes maintenance, and operators spend a lot of time fixing pipelines. We have a <a href="https://codefresh.io/continuous-deployment/ci-cd-pipelines-microservices/">blog post</a> that dives deeper into this issue if you\'d like to learn more.\n<ul>\n \t<li><strong>Difficulty managing deployments (all at once, in sequence, and with dependencies).</strong></li>\n</ul>\nWhile deploying a single microservice is more manageable than deploying a monolithic legacy application, there are still challenges. Suddenly, only a few pipelines for a monolithic application have turned into 20 or more pipelines with multiple microservices. These numbers will vary based on your organization, but it\'s no doubt that now managing multiple microservice repositories and pipelines is more complicated as more and more are created.\n<ul>\n \t<li><strong>Difficult to monitor.</strong></li>\n</ul>\nNow that there are multiple pipelines and multiple applications with an increase in deployments, those deployments and pipelines need to be monitored for any issues. Previously when using a monolithic architecture, these things could be monitored manually. However, the increased complexity of a distributed system can lead to chances of failure.\n\nThis is why it’s so important to ensure you’re monitoring for total failures, network failures, cascading failures caused by remote procedure calls between your microservices, and even ensuring that you’re honoring your SLAs (service level agreements). With a microservice architecture, we need to keep in mind that services can even be temporarily unavailable due to broken releases, configurations, and any changes due to human error. Clients of services should be architected in a resilient way so they do not suffer catastrophic failure when a service is down.\n<ul>\n \t<li><strong>Difficult to debug (when things go wrong).</strong></li>\n</ul>\nThis topic itself could be a blog post. However, some of the critical challenges when debugging a microservice is fragmentation and ensuring that you create the same environment where the bug was identified. This means you need to ensure an identical setup to production, this may include specific cluster versions, serverless functions, the correct environment where the bug was reported, etc. In addition to the asynchronous call complications, the technicalities of running the microservice locally, and the cost it can take to execute all of these things in what you hope is a timely execution.\n\n<a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-1.png" target="_blank" rel="noopener"><img class="alignnone wp-image-22286 size-large" src="https://codefresh.io/wp-content/uploads/2022/04/word-image-1-1024x891.png" alt="Monolithic vs Microservices" width="1024" height="891" /></a>\n\nEven with the above example of the complexity that microservices can create when transitioning from a monolithic architecture to a microservice architecture, the benefits of moving to microservices can’t be understated. To gain the full benefits of microservices in scaling, reliability, and security we need to address these challenges head-on\n\nSo, what could help you with some of the challenges organizations face when managing, monitoring, deploying, and maintaining their microservices? Let me introduce you to GitOps, how you can apply it to your microservices, and how it might help!\n<h3><a id="post-22229-_y4bb54vbtqko"></a>GitOps</h3>\nBefore we dive into microservices and explain what they are and what sort of challenges they create for us. First, let\'s dive into what <a href="https://codefresh.io/learn/gitops/" target="_blank" rel="noopener">GitOps</a> is so you can begin to percolate your thoughts as to WHY this might be helpful for your microservices as we explain them.\n\nPerhaps you\'re familiar with Git and use it already for your source control and recognize how it enables a source of truth for your source code, but what if we expanded on that idea and applied it to our entire system? This is where GitOps comes into play.\n\nGitOps is a paradigm that leverages a Git repository as the source of truth to manage continuous deployments and infrastructure management as code. This allows you to drive automation, bring repeatability, reduce downtime and eliminate human interventions in constant release cycles.\n\nNow that we better understand GitOps let\'s explore a potential solution for deploying your microservices with GitOps that can be enabled by using Argo CD.\n<h3><a id="post-22229-_6yto5ouqmeap"></a>Argo CD</h3>\nWhen determining the best deployment process and tools for GitOps, <a href="https://codefresh.io/learn/argo-cd/" target="_blank" rel="noopener">Argo CD</a> is a great solution. Argo CD is a declarative CD (Continuous Delivery) tool that automatically synchronizes and deploys your applications whenever a change is made to your Git repository. This is why it’s one of the leading GitOps solutions.\n\nIt allows you to manage the lifecycle of your application and deployments while also providing version control, configuration management, and application definitions with a Kubernetes manifest. This allows you to organize your environments and complex infrastructure data with more ease.\n\nWithin this post, we will highlight ways that you can use Argo CD to deploy your microservices while applying GitOps to your workflow.\n<h3><a id="post-22229-_nhe8sc9avj9"></a>How GitOps and Argo can help</h3>\nWhen trying to determine the best strategy to manage your Kubernetes applications, an increasingly popular approach is GitOps. Argo CD makes GitOps practical for you to use because Argo CD is a Kubernetes-native declarative continuous delivery tool that follows GitOps principles. Argo CD also enables you to accelerate the frequency of your application deployments and lifecycle management by maintaining your configurations and ensuring they’re in sync, applying your desired state directly from Git.\n\nEssentially, Argo CD helps support your deployments while effectively providing several other benefits for your microservices which we’ll explain more below!\n<ul>\n \t<li><strong>No more deployment pipelines -&gt; Argo CD deploys them from Git</strong></li>\n</ul>\nPreviously we mentioned the explosion of pipelines when converting from a monolithic architecture to a microservice architecture. However, by leveraging Argo CD it can reduce the number of pipelines by simply eliminating them. This is because you can use Argo to deploy your microservice you rely on your Git repository instead of using a pipeline. When you add an Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#applications" target="_blank" rel="noopener">Application</a> and an <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/declarative-setup/#projects" target="_blank" rel="noopener">AppProject</a>, your app\'s configuration settings can be defined using the Application Custom Resource (CRD) that your Kubernetes resource object represents.\n\nArgo CD fully automates the deployment of an application by recognizing your configuration details from your manifest files and synchronizes any changes made to your system within your targeted namespace. Argo CD allows you to eliminate the use of a deployment pipeline.\n<ul>\n \t<li><strong>Reduce files -&gt; use an ApplicationSet</strong></li>\n</ul>\nWhile microservices do make it easier to deploy more frequently, there’s also the increase in files for your configurations. Even when a service is deployed and managed using GitOps, this doesn’t reduce the number of files, such as your Kubernetes manifests, your services, secrets, and configmaps, all stored within your Git repository.\n\nLuckily, Argo CD offers a controller known as an <a href="https://argocd-applicationset.readthedocs.io/en/stable/" target="_blank" rel="noopener">ApplicationSet</a> to help us manage our deployments and files easier. The ApplicationSet allows you to create multiple Argo CD Applications and organize your microservices per Application. The controller also allows you to use a single manifest to target numerous clusters and a single manifest to deploy multiple applications, not just from one repository but multiple!\n<ul>\n \t<li><strong>Always know their health -&gt; Argo CD health</strong></li>\n</ul>\nWhenever you make any change to your microservices or your system there’s a risk of a potential failure. For example, if you make a change and apply it to your manifest YAML file, Kubernetes does not wait until the resource reports back its status, nor do your automation tools typically report back, either. Instead, Kubernetes will apply the manifest and move on to the following manifest without waiting to know if the first one succeeded and was created or not. Something that can help alert you and provide observability for the state of your service is the Argo CD <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/health/#resource-health" target="_blank" rel="noopener">health status</a>.\n\nArgo CD offers a built-in health assessment that provides an overall Application health status for you. Argo CD checks the health for the following resources: services, ingress, deployment, replicaset, statefulset, daemonset, and a persistentvolumeclaim. You can also add custom health checks for custom resources or any persistent known issues affecting your Ingress or StatefulState. These custom health checks can be done two ways: within a ConfigMap or with a script and implemented with a YAML file. If you cannot find a health check for your resource, you can create one yourself for whatever use case you need it.\n\n<a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" target="_blank" rel="noopener"><img class="alignnone wp-image-22287 size-full" src="https://codefresh.io/wp-content/uploads/2022/04/word-image-2.png" alt="" width="206" height="248" /></a>\n\nAbove is an example of the Argo CD Application health status within the Argo CD Web UI. Since Git is our source of truth, this sort of observability and information about your service provides that source of truth for the actual state of your running system.\n<ul>\n \t<li><strong>Deployment cadence -&gt; Argo CD sync phases/waves</strong></li>\n</ul>\nTypically when managing several microservices and making frequent deployments, it can be a challenge when needing to deploy a specific service in a particular order or, let\'s say, you want to deploy a service with a database, apart from deployment files. It would help if you had some solution for this. Whatever your use case may be, Argo CD provides a solution for this!\n\nA <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-waves" target="_blank" rel="noopener">Syncwave</a> allows you to order how Argo CD applies the manifest files stored in your Git repository. By default, all manifests have a wave of zero, but you can set these by using an argocd.argoproj.io/sync-wave annotation.\n\nFor example, if you wanted to specify a wave, it would look something like this:\n<pre class="EnlighterJSRAW" data-enlighter-language="yaml">metadata:\n  annotations:\n    argocd.argoproj.io/sync-wave: "5"</pre>\nWhen Argo CD starts a sync action, the manifest gets placed in the following order of their Phase.\n\nWhen you apply the manifest in a <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-waves/#how-do-i-configure-phases" target="_blank" rel="noopener">Phase</a>, you\'re using a resource hook to control the sync operation. Those operations are defined by the three primary phases known as the pre-sync, sync, and post-sync phases. To enable a sync, annotate the specific object manifest with argocd.argoproj.io/hook with the type of sync you want to use for that resource.\n\nFor example, if you wanted to use the PostSync hook, it would look something like this:\n<pre class="EnlighterJSRAW" data-enlighter-language="yaml">metadata:\n  annotations:\n    argocd.argoproj.io/hook: PostSync</pre>\nWhenever Argo CD starts a sync, it orders the resources in the following precedence: the phase, the wave they are in, by kind (e.g., namespaces first and then other Kubernetes resources, followed by custom resources), and by name.\n<ul>\n \t<li><strong>Dependencies -&gt; See the graphical view of Argo CD</strong></li>\n</ul>\nNow that you have containerized your microservices and wrapped your brain around the Kubernetes ecosystem. Suddenly an extra layer of complexity is added when trying to deploy all of those microservices and reference the never-ending Kubernetes documentation. This is where having some visualization for your deployments is helpful! Enabling some sort of topology for your application and infrastructure would allow you to better understand, monitor, and control your containerized microservice.\n\nArgo CD does just that. The web UI provides a real-time view of application activity and dependencies and continuously monitors running applications when using Argo CD. Monitoring all deployed applications allows you to compare the current, live state against the desired target state (as specified within your Git repository). Any deployed application whose live state deviates from the target state is reported and allows you to view the differences while also providing facilities to automatically or manually sync the live state back to the desired target state of your system.\n\n<a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" target="_blank" rel="noopener"><img class="alignnone wp-image-22288 size-full" src="https://codefresh.io/wp-content/uploads/2022/04/word-image-3.png" alt="" width="960" height="464" /></a>\n\n<a href="https://github.com/argoproj/argo-cd/blob/master/docs/assets/argocd-ui.gif" target="_blank" rel="noopener">Image from Argo CD</a>\n\nThe image above exemplifies an Argo CD Application with a topology view that shows all of the dependencies of that application.\n<ul>\n \t<li><strong>Fast rollbacks/progressive delivery -&gt; Argo Rollouts</strong></li>\n</ul>\nWhen beginning to plan your deployment process for your new microservices, it\'s essential to determine which deployment strategy is best for you and your organization.\n\nPotential strategies could include:\n\n<strong>Rolling</strong>: Services that don\'t need to be available 24/7 can utilize a pattern of swapping in the new for old and essentially hitting the restart button. This allows minimal disruption should there be a service outage. The simplicity aspect is compelling, and the disruptions to end users are less so.\n\n<strong>Progressive delivery</strong> (this includes blue-green deployments and canary): A blue-green deployment is simple, has excellent rollback, and has minimal downtime in best-case scenarios. Canary deployments tie together the best of all worlds for minimizing downtime, fast rollback, and minimal disruptions in the case of failed deployments.\n\nHowever, while progressive delivery improves the reliability and stability of deployments, applying it within your complex microservice environments doesn\'t come easy. Kubernetes was built as a container orchestrator, not a deployment system, requiring manual work to execute progressive delivery. Kubernetes also has a default rolling update strategy that is simple to deploy yet provides little control over user traffic and rollback compared to the more advanced deployment methods like blue-green and canary.\n\nThis is where <a href="https://codefresh.io/learn/argo-rollouts/" target="_blank" rel="noopener">Argo Rollouts</a> walks down the red carpet as an open source Kubernetes controller with a GitOps-based progressive delivery strategy.\n\nArgo Rollouts introduces a new Kubernetes CRD for a rollout entity. It has the same functionality as a Kubernetes Deployment entity, but the Argo Rollouts will monitor for changes and can control the rollout. Users can define a specific rollout strategy configured with a manifest file. Argo Rollouts helps you simplify your release processes and provide full support of progressive delivery with automated deployment rollout and management in one!\n\n<a href="https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" target="_blank" rel="noopener"><img class="alignnone wp-image-22289 size-full" src="https://codefresh.io/wp-content/uploads/2022/04/word-image-4.png" alt="" width="2048" height="1517" /></a>\n\n<a href="https://argoproj.github.io/argo-rollouts/dashboard/#individual-rollout-view" target="_blank" rel="noopener">Argo Rollout Image of UI Dashboard</a>\n\nThis image above exemplifies a visualization of an individual Rollout using a Canary deployment strategy.\n<h3><a id="post-22229-_wpmw7qt4ftus"></a>Conclusion</h3>\nAs you transition from a monolithic architecture to microservices, this process shares a common goal with GitOps: making it easier to deploy more frequently.\n\nWe have shared the benefits and possibilities of adopting GitOps with Argo for your microservices deployments within this blog post. To help you leverage these benefits and get started with your GitOps journey, make sure you understand what GitOps is and the fundamentals of this paradigm. To get started, you can check out our <a href="https://codefresh.learnworlds.com/" target="_blank" rel="noopener">GitOps Fundamentals</a> course for free, which allows you to learn about GitOps and get started with the basics of Argo, in tandem with receiving a certificate of completion to share with your employer and others!\n\nOnce you’ve completed this course, you should put your knowledge to the test and try Codefresh GitOps CD to help manage your Argo CD instances. This will provide you with a visualization of your services and any possible failures tied to a commit, a test, pipeline, etc. You can quickly pinpoint issues with access to a release timeline and functionality to execute rollbacks when needed.\n\nLearn more about Codefresh GitOps CD and sign up <a href="https://codefresh.io/codefresh-signup/" target="_blank" rel="noopener">here</a>!',t.user={name:"Hannah",username:"hseligson",twitter_username:"TechWithHannah",github_username:"hseligson1",website_url:"https://www.techwithhannah.com",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--46LxXUsZ--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/653868/5f3a8ff9-e54d-44a0-8cce-428b27a31590.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--uH1Xj_Jg--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/653868/5f3a8ff9-e54d-44a0-8cce-428b27a31590.png"},t.organization={name:"Codefresh",username:i,slug:i,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--eVMCUH5x--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/3138/a894848c-dd79-44fd-b477-3af28338d874.jpg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--iHuWL-6D--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/3138/a894848c-dd79-44fd-b477-3af28338d874.jpg"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:t}},error:e,state:{currentArticle:t},serverRendered:!0,routePath:"/hseligson/1070190",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:e}}}}(null,"2022-04-28T20:50:52Z",{},"codefreshio")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
