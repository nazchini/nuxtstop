<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Continuous performance checks in Nuxt.js with Lighthouse CI and Github Actions</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Continuous performance checks in Nuxt.js with Lighthouse CI and Github Actions</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/nuxt" class="tag" data-v-70afb46a>
          #nuxt
        </a><a href="/nuxtstop/t/lighthouse" class="tag" data-v-70afb46a>
          #lighthouse
        </a><a href="/nuxtstop/t/performance" class="tag" data-v-70afb46a>
          #performance
        </a><a href="/nuxtstop/t/github" class="tag" data-v-70afb46a>
          #github
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pf-9wHs5--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/20uq5hstkg0quklfeiwa.png" alt="Continuous performance checks in Nuxt.js with Lighthouse CI and Github Actions" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            56
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Sep 9 '21</time></div></header> <div class="content" data-v-70afb46a><p>Performance optimalization is an area of software development that you will most probably meet at some point of your professional career as it is not related to any frontend or backend frameworks strictly. In this tutorial I won't be talking about how you can improve the performance of your Vue.js or Nuxt.js applications (it is explained very well in the tutorial series by our man Filip Rakowski, CTO of Vue Storefront, in which he provides many tips and tricks on how you could improve performance of your website:<br>
<a href="https://vueschool.io/articles/series/vue-js-performance/">https://vueschool.io/articles/series/vue-js-performance/</a>).</p>

<p>You can also checkout the article I have recently written about improving performance of Vue.js and Nuxt.js applications in a form of a useful checklist: <a href="https://dev.to/baroshem/performance-checklist-for-vue-and-nuxt-cog">https://dev.to/baroshem/performance-checklist-for-vue-and-nuxt-cog</a></p>

<p>These recommendations will increase the performance of your application but to make sure that these any other future site features will improve the performance you have to constantly measure it. </p>

<p>You can do it the old fashioned way by running Lighthouse in your browser each time you want to make a change to your website but this will require time and also the results of such tests may differ drastically from one another (as developers may be using different devices to run the audit on). The better approach here would be to implement some kind of Continuous Integration script that would conduct these Lighthouse audits for us. Thankfully, there are already tools available that you can use to achieve that.</p>

<p>For this tutorial I will be using <code>Nuxt.js, Lighthouse CI, and Github Actions</code> but you can adjust it to your code repository workflows. In this tutorial I won't be covering the topic of assertions and budgets, but I will create separate articles soon (Oops, spoilers). If you are interested into Lighthouse configuration you can visit this page -> <a href="https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md">https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md</a></p>
<h2>
  <a name="nuxtjs" href="#nuxtjs">
  </a>
  Nuxt.js
</h2>

<p>We will create a simple Nuxt.js project with below command:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn create nuxt-app &lt;project-name>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>For the sake of this tutorial we will generate a basic Nuxt.js project with just a homepage.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--2M6EyeL8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2lyodo5c3bndx2mlsgeo.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2M6EyeL8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2lyodo5c3bndx2mlsgeo.png" alt="Nuxtjs" loading="lazy"></a></p>

<p>Navigate to your project, run it, and check if everything is working as expected:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd</span> &lt;project-name>
yarn dev
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IjmC2MS0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hp5y5uhojpze6dqebqpy.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IjmC2MS0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hp5y5uhojpze6dqebqpy.png" alt="Nuxtjs homepage" loading="lazy"></a></p>

<h2>
  <a name="lighthouse" href="#lighthouse">
  </a>
  Lighthouse
</h2>

<p>You will need to install and authorise the Lighthouse CI application for Github. Make sure to copy the generated <code>LHCI_GITHUB_APP_TOKEN</code> as we will need it later.<br>
<a href="https://github.com/apps/lighthouse-ci">https://github.com/apps/lighthouse-ci</a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xoyEHN_6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enxlpscmximvrg0fz2ql.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xoyEHN_6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enxlpscmximvrg0fz2ql.png" alt="Github Lighthouse authorisation" loading="lazy"></a></p>

<p>After authorisation you should see a page like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--CSa7LgdO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s6twr15cw8ldnxy73yph.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CSa7LgdO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s6twr15cw8ldnxy73yph.png" alt="Github Lighthouse authorisation with token" loading="lazy"></a></p>

<p>Install @lhci/cli package<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight plaintext"><code>yarn add -D @lhci/cli
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Add Lighthouse CI commands to your package.json (for CI and local testing)<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="err">//</span><span class="w"> </span><span class="err">package.json</span><span class="w">

</span><span class="err">...</span><span class="w">
  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt build"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt start"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"generate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt generate"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lhci:mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lhci autorun"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lhci:desktop"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lhci autorun --collect.settings.preset=desktop"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Create <code>lighthouserc.json</code> with configuration for Lighthouse CI<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight json"><code><span class="err">//</span><span class="w"> </span><span class="err">lighthouserc.json</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"ci"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"collect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"startServerCommand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yarn build && yarn start"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:3000/"</span><span class="p">],</span><span class="w">
      </span><span class="nl">"numberOfRuns"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"temporary-public-storage"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Let's stop for a second here to explain how we are configuring the lighthouse to conduct audits.</p>

<p>collect:</p>

<ul>
<li>
<code>startServerCommand</code> - a command that we want Lighthouse 
to use in order to start testing. In our case we will 
build our Nuxt project for production and start it.</li>
<li>
<code>url</code> - An url address that we want Lighthouse to 
conduct audits on. For the sake of this tutorial we will 
be using <code>http://localhost:3000/</code> to test just the 
homepage but you can also setup other routes here like 
<code>http://localhost:3000/categories</code>
</li>
<li>
<code>numberOfRuns</code> - A number that defines how many times 
Lighthouse should test the selected url and create a 
median out of these results.</li>
</ul>

<p>upload:</p>

<ul>
<li>
<code>target</code> - where do we want to upload the result of our 
Lighthouse audit report. By default is set to <code>temporary- 
public-storage</code>
</li>
</ul>

<p>Test if the Lighthouse audit is working as expected<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>yarn lhci:desktop
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The command should log following result:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yI07b_-s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/afzihh9b0wmnz8fup3tt.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yI07b_-s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/afzihh9b0wmnz8fup3tt.png" alt="Nuxt Lighthouse result" loading="lazy"></a></p>

<p>And when we visit the link that was created by Lighthouse in the terminal we should see something like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XMllt36c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h7ta70t7l755hpaq23xk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XMllt36c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h7ta70t7l755hpaq23xk.png" alt="Nuxt Lighthouse report" loading="lazy"></a></p>

<p>Well done! Now you have successfully conducted Lighthouse audit locally. As our final step, we will create a Github workflow to run Lighthouse CI on every pull request to <code>main</code> branch.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">CI</span>
<span class="na">on</span><span class="pi">:</span>
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">lighthouse</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Lighthouse CI</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">ref</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.head.sha }}</span>

      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn</span>

      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">lighthouse mobile audit</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn lhci:mobile</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">LHCI_GITHUB_APP_TOKEN</span><span class="pi">:</span> <span class="s">${{ secrets.LHCI_GITHUB_APP_TOKEN }}</span>

      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">lighthouse desktop audit</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn lhci:desktop</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">LHCI_GITHUB_APP_TOKEN</span><span class="pi">:</span> <span class="s">${{ secrets.LHCI_GITHUB_APP_TOKEN }}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now, whenever we create a pull request to <code>main</code> branch with this workflow implemented we will automatically trigger a Github Action that will be conducting Lighthouse audits.</p>

<p>Remember the step about authorising Lighthouse application for Github? If you do not have a secret in your repository you would still be able to trigger Github Action but you will not get a nice looking status check from Lighthouse with all metrics. No worries, you would still be able to see the report but you would have to go to the details of the action and go to the link directly.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--tbFpvfcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g1lvze0lvsuxhvgfdfbg.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tbFpvfcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g1lvze0lvsuxhvgfdfbg.png" alt="Lighthouse Github Action" loading="lazy"></a></p>

<p>When we add a token in repository settings it should be visible like this:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Fx2z-d4e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9wzqoquaf45sa6ogpelz.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Fx2z-d4e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9wzqoquaf45sa6ogpelz.png" alt="Github secrets for Lighthouse" loading="lazy"></a></p>

<p>To confirm that we did all steps correctly we should see a status report from Lighthouse directly in the pull Github Actions output of a pull request</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--uyNvKRYp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7s3b3wkv4fwibed8o6ge.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uyNvKRYp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7s3b3wkv4fwibed8o6ge.png" alt="Lighthouse Github report status" loading="lazy"></a></p>

<p>** Keep in mind that the status report from Lighthouse application for Github will provide only one status report even though we have done two tests (for desktop and mobile devices) so you would have to check the second report manually. If you have found a way to display multiple status reports please let me know in the comments and I will update the article accordingly :)</p>

<h2>
  <a name="summary" href="#summary">
  </a>
  Summary
</h2>

<p>You have successfully implemented Lighthouse CI auditing that can be triggered both locally and as a Github Action.  </p>

<p>This approach would suit most of the cases however to achieve more accurate performance audits you should be conducting Lighthouse tests on a dedicated server to avoid results being affected by the machine capabilities. In other words, if you are running Lighthouse audits on a repository where there are several pull requests/workflows/pushes going on, the result of this audit may not be accurate and this is what we want to avoid. For that you would need a separate machine with <a href="https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/server.md">Lighthouse Server</a> installed on it. So on a pull request you would trigger this machine to conduct a performance audit and return response to your repository.</p>

<p>In the upcoming articles I will be covering the topic of setting a performance budget and performance assertions. </p>

<p>Below you can see a demo repository with the code from this article:<br>
<a href="https://github.com/Baroshem/nuxt-lighthouse-ci">https://github.com/Baroshem/nuxt-lighthouse-ci</a></p>
<h2>
  <a name="bonus-using-github-action-instead-of-npm-package" href="#bonus-using-github-action-instead-of-npm-package">
  </a>
  Bonus: Using Github Action instead of npm package
</h2>

<p>Instead of using npm package you could use a Github Action that would esentially do the same thing but wi. The downside to that approach is that you won't be able to test your project locally with lighthouse (unless you are using local github actions package like <a href="https://github.com/nektos/act">https://github.com/nektos/act</a>)<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">CI</span>
<span class="na">on</span><span class="pi">:</span> 
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>
<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">lighthouse</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">deploy</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">ref</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.head.sha }}</span>

      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn</span>

      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build and start the project</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn build && yarn start</span>

      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Audit URLs using Lighthouse</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">treosh/lighthouse-ci-action@v7</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">urls</span><span class="pi">:</span> <span class="s">http://localhost:3000</span>
          <span class="na">uploadArtifacts</span><span class="pi">:</span> <span class="no">true</span> <span class="c1"># save results as an action artifacts</span>
          <span class="na">temporaryPublicStorage</span><span class="pi">:</span> <span class="no">true</span> <span class="c1"># upload lighthouse audits to google temporary storage</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/jacobandrewsky/continuous-performance-checks-in-nuxt-js-with-lighthouse-ci-and-github-actions-2lj9" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(s,a,n,t){return n.type_of="article",n.id=812652,n.title="Continuous performance checks in Nuxt.js with Lighthouse CI and Github Actions",n.description="Performance optimalization is an area of software development that you will most probably meet at...",n.readable_publish_date="Sep 9 '21",n.slug="continuous-performance-checks-in-nuxt-js-with-lighthouse-ci-and-github-actions-2lj9",n.path="/jacobandrewsky/continuous-performance-checks-in-nuxt-js-with-lighthouse-ci-and-github-actions-2lj9",n.url="https://dev.to/jacobandrewsky/continuous-performance-checks-in-nuxt-js-with-lighthouse-ci-and-github-actions-2lj9",n.comments_count=0,n.public_reactions_count=56,n.collection_id=14657,n.published_timestamp=s,n.positive_reactions_count=56,n.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--pf-9wHs5--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/20uq5hstkg0quklfeiwa.png",n.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--PJyrrSzS--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/20uq5hstkg0quklfeiwa.png",n.canonical_url="https://blog.vuestorefront.io/continuous-performance-checks-in-nuxt-js-with-lighthouse-ci-and-github-actions/",n.created_at="2021-09-03T15:39:30Z",n.edited_at="2021-10-11T16:41:45Z",n.crossposted_at=a,n.published_at=s,n.last_comment_at=s,n.reading_time_minutes=6,n.tag_list="nuxt, lighthouse, performance, github",n.tags=["nuxt","lighthouse","performance","github"],n.body_html='<p>Performance optimalization is an area of software development that you will most probably meet at some point of your professional career as it is not related to any frontend or backend frameworks strictly. In this tutorial I won\'t be talking about how you can improve the performance of your Vue.js or Nuxt.js applications (it is explained very well in the tutorial series by our man Filip Rakowski, CTO of Vue Storefront, in which he provides many tips and tricks on how you could improve performance of your website:<br>\n<a href="https://vueschool.io/articles/series/vue-js-performance/">https://vueschool.io/articles/series/vue-js-performance/</a>).</p>\n\n<p>You can also checkout the article I have recently written about improving performance of Vue.js and Nuxt.js applications in a form of a useful checklist: <a href="https://dev.to/baroshem/performance-checklist-for-vue-and-nuxt-cog">https://dev.to/baroshem/performance-checklist-for-vue-and-nuxt-cog</a></p>\n\n<p>These recommendations will increase the performance of your application but to make sure that these any other future site features will improve the performance you have to constantly measure it. </p>\n\n<p>You can do it the old fashioned way by running Lighthouse in your browser each time you want to make a change to your website but this will require time and also the results of such tests may differ drastically from one another (as developers may be using different devices to run the audit on). The better approach here would be to implement some kind of Continuous Integration script that would conduct these Lighthouse audits for us. Thankfully, there are already tools available that you can use to achieve that.</p>\n\n<p>For this tutorial I will be using <code>Nuxt.js, Lighthouse CI, and Github Actions</code> but you can adjust it to your code repository workflows. In this tutorial I won\'t be covering the topic of assertions and budgets, but I will create separate articles soon (Oops, spoilers). If you are interested into Lighthouse configuration you can visit this page -&gt; <a href="https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md">https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md</a></p>\n<h2>\n  <a name="nuxtjs" href="#nuxtjs">\n  </a>\n  Nuxt.js\n</h2>\n\n<p>We will create a simple Nuxt.js project with below command:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn create nuxt-app &lt;project-name&gt;\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>For the sake of this tutorial we will generate a basic Nuxt.js project with just a homepage.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--2M6EyeL8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2lyodo5c3bndx2mlsgeo.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--2M6EyeL8--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2lyodo5c3bndx2mlsgeo.png" alt="Nuxtjs" loading="lazy"></a></p>\n\n<p>Navigate to your project, run it, and check if everything is working as expected:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">cd</span> &lt;project-name&gt;\nyarn dev\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--IjmC2MS0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hp5y5uhojpze6dqebqpy.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--IjmC2MS0--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hp5y5uhojpze6dqebqpy.png" alt="Nuxtjs homepage" loading="lazy"></a></p>\n\n<h2>\n  <a name="lighthouse" href="#lighthouse">\n  </a>\n  Lighthouse\n</h2>\n\n<p>You will need to install and authorise the Lighthouse CI application for Github. Make sure to copy the generated <code>LHCI_GITHUB_APP_TOKEN</code> as we will need it later.<br>\n<a href="https://github.com/apps/lighthouse-ci">https://github.com/apps/lighthouse-ci</a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xoyEHN_6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enxlpscmximvrg0fz2ql.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xoyEHN_6--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enxlpscmximvrg0fz2ql.png" alt="Github Lighthouse authorisation" loading="lazy"></a></p>\n\n<p>After authorisation you should see a page like this:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--CSa7LgdO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s6twr15cw8ldnxy73yph.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--CSa7LgdO--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s6twr15cw8ldnxy73yph.png" alt="Github Lighthouse authorisation with token" loading="lazy"></a></p>\n\n<p>Install @lhci/cli package<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight plaintext"><code>yarn add -D @lhci/cli\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Add Lighthouse CI commands to your package.json (for CI and local testing)<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight json"><code><span class="err">//</span><span class="w"> </span><span class="err">package.json</span><span class="w">\n\n</span><span class="err">...</span><span class="w">\n  </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n    </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt"</span><span class="p">,</span><span class="w">\n    </span><span class="nl">"build"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt build"</span><span class="p">,</span><span class="w">\n    </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt start"</span><span class="p">,</span><span class="w">\n    </span><span class="nl">"generate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nuxt generate"</span><span class="p">,</span><span class="w">\n    </span><span class="nl">"lhci:mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lhci autorun"</span><span class="p">,</span><span class="w">\n    </span><span class="nl">"lhci:desktop"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lhci autorun --collect.settings.preset=desktop"</span><span class="w">\n  </span><span class="p">}</span><span class="err">,</span><span class="w">\n</span></code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Create <code>lighthouserc.json</code> with configuration for Lighthouse CI<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight json"><code><span class="err">//</span><span class="w"> </span><span class="err">lighthouserc.json</span><span class="w">\n\n</span><span class="p">{</span><span class="w">\n  </span><span class="nl">"ci"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n    </span><span class="nl">"collect"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n      </span><span class="nl">"startServerCommand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yarn build &amp;&amp; yarn start"</span><span class="p">,</span><span class="w">\n      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://localhost:3000/"</span><span class="p">],</span><span class="w">\n      </span><span class="nl">"numberOfRuns"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">\n    </span><span class="p">},</span><span class="w">\n    </span><span class="nl">"upload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">\n      </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"temporary-public-storage"</span><span class="w">\n    </span><span class="p">}</span><span class="w">\n  </span><span class="p">}</span><span class="w">\n</span><span class="p">}</span><span class="w">\n</span></code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Let\'s stop for a second here to explain how we are configuring the lighthouse to conduct audits.</p>\n\n<p>collect:</p>\n\n<ul>\n<li>\n<code>startServerCommand</code> - a command that we want Lighthouse \nto use in order to start testing. In our case we will \nbuild our Nuxt project for production and start it.</li>\n<li>\n<code>url</code> - An url address that we want Lighthouse to \nconduct audits on. For the sake of this tutorial we will \nbe using <code>http://localhost:3000/</code> to test just the \nhomepage but you can also setup other routes here like \n<code>http://localhost:3000/categories</code>\n</li>\n<li>\n<code>numberOfRuns</code> - A number that defines how many times \nLighthouse should test the selected url and create a \nmedian out of these results.</li>\n</ul>\n\n<p>upload:</p>\n\n<ul>\n<li>\n<code>target</code> - where do we want to upload the result of our \nLighthouse audit report. By default is set to <code>temporary- \npublic-storage</code>\n</li>\n</ul>\n\n<p>Test if the Lighthouse audit is working as expected<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>yarn lhci:desktop\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The command should log following result:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--yI07b_-s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/afzihh9b0wmnz8fup3tt.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--yI07b_-s--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/afzihh9b0wmnz8fup3tt.png" alt="Nuxt Lighthouse result" loading="lazy"></a></p>\n\n<p>And when we visit the link that was created by Lighthouse in the terminal we should see something like this:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--XMllt36c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h7ta70t7l755hpaq23xk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XMllt36c--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h7ta70t7l755hpaq23xk.png" alt="Nuxt Lighthouse report" loading="lazy"></a></p>\n\n<p>Well done! Now you have successfully conducted Lighthouse audit locally. As our final step, we will create a Github workflow to run Lighthouse CI on every pull request to <code>main</code> branch.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">CI</span>\n<span class="na">on</span><span class="pi">:</span>\n  <span class="na">pull_request</span><span class="pi">:</span>\n    <span class="na">branches</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="s">main</span>\n<span class="na">jobs</span><span class="pi">:</span>\n  <span class="na">lighthouse</span><span class="pi">:</span>\n    <span class="na">name</span><span class="pi">:</span> <span class="s">Lighthouse CI</span>\n    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>\n    <span class="na">steps</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>\n        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>\n        <span class="na">with</span><span class="pi">:</span>\n          <span class="na">ref</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.head.sha }}</span>\n\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>\n        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn</span>\n\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">lighthouse mobile audit</span>\n        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn lhci:mobile</span>\n        <span class="na">env</span><span class="pi">:</span>\n          <span class="na">LHCI_GITHUB_APP_TOKEN</span><span class="pi">:</span> <span class="s">${{ secrets.LHCI_GITHUB_APP_TOKEN }}</span>\n\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">lighthouse desktop audit</span>\n        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn lhci:desktop</span>\n        <span class="na">env</span><span class="pi">:</span>\n          <span class="na">LHCI_GITHUB_APP_TOKEN</span><span class="pi">:</span> <span class="s">${{ secrets.LHCI_GITHUB_APP_TOKEN }}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now, whenever we create a pull request to <code>main</code> branch with this workflow implemented we will automatically trigger a Github Action that will be conducting Lighthouse audits.</p>\n\n<p>Remember the step about authorising Lighthouse application for Github? If you do not have a secret in your repository you would still be able to trigger Github Action but you will not get a nice looking status check from Lighthouse with all metrics. No worries, you would still be able to see the report but you would have to go to the details of the action and go to the link directly.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--tbFpvfcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g1lvze0lvsuxhvgfdfbg.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tbFpvfcn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g1lvze0lvsuxhvgfdfbg.png" alt="Lighthouse Github Action" loading="lazy"></a></p>\n\n<p>When we add a token in repository settings it should be visible like this:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Fx2z-d4e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9wzqoquaf45sa6ogpelz.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Fx2z-d4e--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9wzqoquaf45sa6ogpelz.png" alt="Github secrets for Lighthouse" loading="lazy"></a></p>\n\n<p>To confirm that we did all steps correctly we should see a status report from Lighthouse directly in the pull Github Actions output of a pull request</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--uyNvKRYp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7s3b3wkv4fwibed8o6ge.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--uyNvKRYp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7s3b3wkv4fwibed8o6ge.png" alt="Lighthouse Github report status" loading="lazy"></a></p>\n\n<p>** Keep in mind that the status report from Lighthouse application for Github will provide only one status report even though we have done two tests (for desktop and mobile devices) so you would have to check the second report manually. If you have found a way to display multiple status reports please let me know in the comments and I will update the article accordingly :)</p>\n\n<h2>\n  <a name="summary" href="#summary">\n  </a>\n  Summary\n</h2>\n\n<p>You have successfully implemented Lighthouse CI auditing that can be triggered both locally and as a Github Action.  </p>\n\n<p>This approach would suit most of the cases however to achieve more accurate performance audits you should be conducting Lighthouse tests on a dedicated server to avoid results being affected by the machine capabilities. In other words, if you are running Lighthouse audits on a repository where there are several pull requests/workflows/pushes going on, the result of this audit may not be accurate and this is what we want to avoid. For that you would need a separate machine with <a href="https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/server.md">Lighthouse Server</a> installed on it. So on a pull request you would trigger this machine to conduct a performance audit and return response to your repository.</p>\n\n<p>In the upcoming articles I will be covering the topic of setting a performance budget and performance assertions. </p>\n\n<p>Below you can see a demo repository with the code from this article:<br>\n<a href="https://github.com/Baroshem/nuxt-lighthouse-ci">https://github.com/Baroshem/nuxt-lighthouse-ci</a></p>\n<h2>\n  <a name="bonus-using-github-action-instead-of-npm-package" href="#bonus-using-github-action-instead-of-npm-package">\n  </a>\n  Bonus: Using Github Action instead of npm package\n</h2>\n\n<p>Instead of using npm package you could use a Github Action that would esentially do the same thing but wi. The downside to that approach is that you won\'t be able to test your project locally with lighthouse (unless you are using local github actions package like <a href="https://github.com/nektos/act">https://github.com/nektos/act</a>)<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight yaml"><code><span class="na">name</span><span class="pi">:</span> <span class="s">CI</span>\n<span class="na">on</span><span class="pi">:</span> \n  <span class="na">pull_request</span><span class="pi">:</span>\n    <span class="na">branches</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="s">main</span>\n<span class="na">jobs</span><span class="pi">:</span>\n  <span class="na">lighthouse</span><span class="pi">:</span>\n    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>\n    <span class="na">needs</span><span class="pi">:</span> <span class="s">deploy</span>\n    <span class="na">steps</span><span class="pi">:</span>\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>\n        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>\n        <span class="na">with</span><span class="pi">:</span>\n          <span class="na">ref</span><span class="pi">:</span> <span class="s">${{ github.event.pull_request.head.sha }}</span>\n\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>\n        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn</span>\n\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build and start the project</span>\n        <span class="na">run</span><span class="pi">:</span> <span class="s">yarn build &amp;&amp; yarn start</span>\n\n      <span class="pi">-</span> <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>\n      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Audit URLs using Lighthouse</span>\n        <span class="na">uses</span><span class="pi">:</span> <span class="s">treosh/lighthouse-ci-action@v7</span>\n        <span class="na">with</span><span class="pi">:</span>\n          <span class="na">urls</span><span class="pi">:</span> <span class="s">http://localhost:3000</span>\n          <span class="na">uploadArtifacts</span><span class="pi">:</span> <span class="no">true</span> <span class="c1"># save results as an action artifacts</span>\n          <span class="na">temporaryPublicStorage</span><span class="pi">:</span> <span class="no">true</span> <span class="c1"># upload lighthouse audits to google temporary storage</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n',n.body_markdown='Performance optimalization is an area of software development that you will most probably meet at some point of your professional career as it is not related to any frontend or backend frameworks strictly. In this tutorial I won\'t be talking about how you can improve the performance of your Vue.js or Nuxt.js applications (it is explained very well in the tutorial series by our man Filip Rakowski, CTO of Vue Storefront, in which he provides many tips and tricks on how you could improve performance of your website:\nhttps://vueschool.io/articles/series/vue-js-performance/).\n\nYou can also checkout the article I have recently written about improving performance of Vue.js and Nuxt.js applications in a form of a useful checklist: https://dev.to/baroshem/performance-checklist-for-vue-and-nuxt-cog\n\nThese recommendations will increase the performance of your application but to make sure that these any other future site features will improve the performance you have to constantly measure it. \n\nYou can do it the old fashioned way by running Lighthouse in your browser each time you want to make a change to your website but this will require time and also the results of such tests may differ drastically from one another (as developers may be using different devices to run the audit on). The better approach here would be to implement some kind of Continuous Integration script that would conduct these Lighthouse audits for us. Thankfully, there are already tools available that you can use to achieve that.\n\nFor this tutorial I will be using `Nuxt.js, Lighthouse CI, and Github Actions` but you can adjust it to your code repository workflows. In this tutorial I won\'t be covering the topic of assertions and budgets, but I will create separate articles soon (Oops, spoilers). If you are interested into Lighthouse configuration you can visit this page -> https://github.com/GoogleChrome/lighthouse/blob/master/docs/configuration.md\n\n## Nuxt.js\n\nWe will create a simple Nuxt.js project with below command:\n\n```bash\nyarn create nuxt-app <project-name>\n```\n\nFor the sake of this tutorial we will generate a basic Nuxt.js project with just a homepage.\n\n![Nuxtjs](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/2lyodo5c3bndx2mlsgeo.png)\n\nNavigate to your project, run it, and check if everything is working as expected:\n\n```bash\ncd <project-name>\nyarn dev\n```\n\n![Nuxtjs homepage](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hp5y5uhojpze6dqebqpy.png)\n\n## Lighthouse\n\nYou will need to install and authorise the Lighthouse CI application for Github. Make sure to copy the generated `LHCI_GITHUB_APP_TOKEN` as we will need it later.\nhttps://github.com/apps/lighthouse-ci\n\n![Github Lighthouse authorisation](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/enxlpscmximvrg0fz2ql.png)\n\nAfter authorisation you should see a page like this:\n\n![Github Lighthouse authorisation with token](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/s6twr15cw8ldnxy73yph.png)\n \nInstall @lhci/cli package\n\n```\nyarn add -D @lhci/cli\n```\n\nAdd Lighthouse CI commands to your package.json (for CI and local testing)\n\n```json\n// package.json\n\n...\n  "scripts": {\n    "dev": "nuxt",\n    "build": "nuxt build",\n    "start": "nuxt start",\n    "generate": "nuxt generate",\n    "lhci:mobile": "lhci autorun",\n    "lhci:desktop": "lhci autorun --collect.settings.preset=desktop"\n  },\n```\n\nCreate `lighthouserc.json` with configuration for Lighthouse CI\n\n```json\n// lighthouserc.json\n\n{\n  "ci": {\n    "collect": {\n      "startServerCommand": "yarn build && yarn start",\n      "url": ["http://localhost:3000/"],\n      "numberOfRuns": 3\n    },\n    "upload": {\n      "target": "temporary-public-storage"\n    }\n  }\n}\n```\n\nLet\'s stop for a second here to explain how we are configuring the lighthouse to conduct audits.\n\ncollect:\n* `startServerCommand` - a command that we want Lighthouse \nto use in order to start testing. In our case we will \nbuild our Nuxt project for production and start it.\n* `url` - An url address that we want Lighthouse to \nconduct audits on. For the sake of this tutorial we will \nbe using `http://localhost:3000/` to test just the \nhomepage but you can also setup other routes here like \n`http://localhost:3000/categories`\n* `numberOfRuns` - A number that defines how many times \nLighthouse should test the selected url and create a \nmedian out of these results.\n\nupload:\n* `target` - where do we want to upload the result of our \nLighthouse audit report. By default is set to `temporary- \npublic-storage`\n\nTest if the Lighthouse audit is working as expected\n```bash\nyarn lhci:desktop\n```\n\nThe command should log following result:\n\n![Nuxt Lighthouse result](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/afzihh9b0wmnz8fup3tt.png)\n\nAnd when we visit the link that was created by Lighthouse in the terminal we should see something like this:\n\n![Nuxt Lighthouse report](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/h7ta70t7l755hpaq23xk.png)\n \nWell done! Now you have successfully conducted Lighthouse audit locally. As our final step, we will create a Github workflow to run Lighthouse CI on every pull request to `main` branch.\n\n```yml\nname: CI\non:\n  pull_request:\n    branches:\n      - main\njobs:\n  lighthouse:\n    name: Lighthouse CI\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n        with:\n          ref: ${{ github.event.pull_request.head.sha }}\n\n      - name: Install dependencies\n        run: yarn\n\n      - name: lighthouse mobile audit\n        run: yarn lhci:mobile\n        env:\n          LHCI_GITHUB_APP_TOKEN: ${{ secrets.LHCI_GITHUB_APP_TOKEN }}\n\n      - name: lighthouse desktop audit\n        run: yarn lhci:desktop\n        env:\n          LHCI_GITHUB_APP_TOKEN: ${{ secrets.LHCI_GITHUB_APP_TOKEN }}\n```\n\nNow, whenever we create a pull request to `main` branch with this workflow implemented we will automatically trigger a Github Action that will be conducting Lighthouse audits.\n\nRemember the step about authorising Lighthouse application for Github? If you do not have a secret in your repository you would still be able to trigger Github Action but you will not get a nice looking status check from Lighthouse with all metrics. No worries, you would still be able to see the report but you would have to go to the details of the action and go to the link directly.\n\n![Lighthouse Github Action](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g1lvze0lvsuxhvgfdfbg.png)\n \nWhen we add a token in repository settings it should be visible like this:\n\n![Github secrets for Lighthouse](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9wzqoquaf45sa6ogpelz.png)\n\nTo confirm that we did all steps correctly we should see a status report from Lighthouse directly in the pull Github Actions output of a pull request\n\n![Lighthouse Github report status](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/7s3b3wkv4fwibed8o6ge.png)\n \n** Keep in mind that the status report from Lighthouse application for Github will provide only one status report even though we have done two tests (for desktop and mobile devices) so you would have to check the second report manually. If you have found a way to display multiple status reports please let me know in the comments and I will update the article accordingly :)\n\n## Summary\n\nYou have successfully implemented Lighthouse CI auditing that can be triggered both locally and as a Github Action.  \n\nThis approach would suit most of the cases however to achieve more accurate performance audits you should be conducting Lighthouse tests on a dedicated server to avoid results being affected by the machine capabilities. In other words, if you are running Lighthouse audits on a repository where there are several pull requests/workflows/pushes going on, the result of this audit may not be accurate and this is what we want to avoid. For that you would need a separate machine with [Lighthouse Server](https://github.com/GoogleChrome/lighthouse-ci/blob/main/docs/server.md) installed on it. So on a pull request you would trigger this machine to conduct a performance audit and return response to your repository.\n \nIn the upcoming articles I will be covering the topic of setting a performance budget and performance assertions. \n\nBelow you can see a demo repository with the code from this article:\nhttps://github.com/Baroshem/nuxt-lighthouse-ci\n\n## Bonus: Using Github Action instead of npm package\n\nInstead of using npm package you could use a Github Action that would esentially do the same thing but wi. The downside to that approach is that you won\'t be able to test your project locally with lighthouse (unless you are using local github actions package like https://github.com/nektos/act)\n\n```yml\nname: CI\non: \n  pull_request:\n    branches:\n      - main\njobs:\n  lighthouse:\n    runs-on: ubuntu-latest\n    needs: deploy\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v2\n        with:\n          ref: ${{ github.event.pull_request.head.sha }}\n\n      - name: Install dependencies\n        run: yarn\n\n      - name: Build and start the project\n        run: yarn build && yarn start\n\n      - uses: actions/checkout@v2\n      - name: Audit URLs using Lighthouse\n        uses: treosh/lighthouse-ci-action@v7\n        with:\n          urls: http://localhost:3000\n          uploadArtifacts: true # save results as an action artifacts\n          temporaryPublicStorage: true # upload lighthouse audits to google temporary storage\n```\n',n.user={name:"Jakub Andrzejewski",username:t,twitter_username:t,github_username:"Baroshem",website_url:"https://pl.linkedin.com/in/jakub-andrzejewski",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--8p-Vfa2M--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/652576/5285632c-5819-4874-adf9-6d3730420830.jpeg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--a7o_PXrk--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/652576/5285632c-5819-4874-adf9-6d3730420830.jpeg"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:n}},error:a,state:{currentArticle:n},serverRendered:!0,routePath:"/jacobandrewsky/812652",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:a}}}}("2021-09-09T14:12:29Z",null,{},"jacobandrewsky")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
