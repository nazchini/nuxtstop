<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Database Migrations for .NET and Entity Framework with Prisma</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Database Migrations for .NET and Entity Framework with Prisma</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/prisma" class="tag" data-v-70afb46a>
          #prisma
        </a><a href="/nuxtstop/t/database" class="tag" data-v-70afb46a>
          #database
        </a><a href="/nuxtstop/t/backend" class="tag" data-v-70afb46a>
          #backend
        </a><a href="/nuxtstop/t/entityframework" class="tag" data-v-70afb46a>
          #entityframework
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--cGsB1yfl--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6wl2j0jwj74z9jljdskm.png" alt="Database Migrations for .NET and Entity Framework with Prisma" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            8
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Nov 4 '21</time></div></header> <div class="content" data-v-70afb46a><h2>
  <a name="introduction" href="#introduction">
  </a>
  Introduction
</h2>

<p>In this article, you will learn how to model your data using <a href="https://www.prisma.io/">Prisma</a>, run a migration with Prisma Migrate and then introspect your database with <a href="https://dotnet.microsoft.com/">.NET</a> to generate your <a href="https://docs.microsoft.com/en-us/aspnet/entity-framework">Entity Framework</a> models. This article will use Azure SQL/ SQL Server. </p>

<p>This article only offers an alternative data modelling workflow that is succinct and offer a better development experience. Besides .NET and the Entity framework, you can also use Prisma with your tool/ frameworks of choice such as <a href="https://www.djangoproject.com/">Django</a>.</p>

<p>Prisma auto-generates migration files in SQL that you can modify before applying them on your database. The workflow following this approach would be:</p>

<ol>
<li>Model your data</li>
<li>Run a migration using <a href="https://www.prisma.io/migrate">Prisma Migrate</a>.</li>
<li>Use the Entity Framework to <em><a href="https://docs.microsoft.com/en-us/ef/core/managing-schemas/scaffolding?tabs=dotnet-core-cli">reverse engineer</a>/ scaffold/</em> introspect your database and generate models and your database context.</li>
</ol>

<h2>
  <a name="what-is-prisma" href="#what-is-prisma">
  </a>
  What is Prisma?
</h2>

<p>Prisma is an object-relational mapper (ORM) that provides a declarative way to define your database models that are easy to read and comprehend. Prisma also provides <a href="https://www.prisma.io/docs/concepts/components/prisma-client">Prisma Client</a> â€“ an intuitive and  type-safe query builder based off your schema.</p>

<p>At the core of Prisma is the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema">Prisma Schema</a> â€“ aka <em>schema file</em>. The schema contains 3 parts: the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/data-sources/">data sources</a>, <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/generators">generators</a> and your <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/data-model">data model definition</a>. </p>

<h2>
  <a name="prerequisites" href="#prerequisites">
  </a>
  Prerequisites
</h2>

<p>To follow along, ensure you have the following:</p>

<ul>
<li>Familiarity with .NET and the <a href="https://docs.microsoft.com/en-us/aspnet/entity-framework">Entity framework</a>
</li>
<li>Installed Node.js v 12.6.x or higher</li>
<li>Installed .NET locally</li>
<li>A SQL Server or Azure SQL database</li>
<li>
<a href="https://marketplace.visualstudio.com/items?itemName=Prisma.prisma">Prisma Extension</a> for VS Code users</li>
</ul>

<blockquote>
<p><strong>Note:</strong> If you're not familiar with setting up SQL Server, check out <a href="https://www.prisma.io/dataguide/mssql/setting-up-a-local-sql-server-database">Setting up a local SQL Server database</a>.</p>
</blockquote>

<h2>
  <a name="step-1-create-a-new-console-application" href="#step-1-create-a-new-console-application">
  </a>
  Step 1: Create a new console application
</h2>

<p>The first step is to create a new .NET console app in your working directory. This guide uses a console application to keep it simple. However, feel free to create any other type of application.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>dotnet new console <span class="nt">--output</span> <span class="k">*</span>__app-name__<span class="k">*</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Once the command is done, navigate to the project and confirm that your project is running.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd</span> <span class="k">*</span>__app-name__<span class="k">*</span>
dotnet run
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>If the output on the terminal is <code>Hello World!</code>, everything seems to be running just fine!  ðŸŽ‰</p>

<h2>
  <a name="step-2-add-prisma-to-your-project" href="#step-2-add-prisma-to-your-project">
  </a>
  Step 2: Add Prisma to your project
</h2>

<p>On a separate terminal window but still within the same project run the following commands.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">mkdir </span>prisma-migrate
<span class="nb">cd </span>prisma-migrate
npm init <span class="nt">-y</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The commands create a new directory, navigate to the folder and initializes it as a Node.js project. The <a href="https://www.prisma.io/docs/concepts/components/prisma-cli">Prisma CLI</a> is the only dependency for this project.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> prisma
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<h3>
  <a name="initialize-prisma" href="#initialize-prisma">
  </a>
  Initialize Prisma
</h3>

<p>Once the install is done, run the following command.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx prisma init <span class="nt">--database-provider</span> sqlserver
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The command:</p>

<ul>
<li>Creates a <code>.env</code> file at the root of the project for storing environment variables</li>
<li>Creates <code>prisma</code> folder containing a <code>schema.prisma</code> file.</li>
<li>Specifies the database provider as <code>sqlserver</code> in <code>schema.prisma</code> file and provides a dummy <code>sqlserver</code> connection string in <code>.env</code>.</li>
</ul>

<p>The <code>schema.prisma</code> file defines the database connection and the Prisma Client generator. This is where you will also define your database models.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>
<span class="n">datasource</span> <span class="n">db</span> <span class="o">{</span>
  <span class="n">provider</span> <span class="o">=</span> <span class="s2">"sqlserver"</span>
  <span class="n">url</span>      <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"DATABASE_URL"</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">generator</span> <span class="n">client</span> <span class="o">{</span>
  <span class="n">provider</span> <span class="o">=</span> <span class="s2">"prisma-client-js"</span>
<span class="o">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>For this guide, you can delete <code>generator client</code> as it is relevant in a TypeScript/ JavaScript project. The <code>generator client</code> is used to generate the TypeScript definitions for the Prisma Client.</p>

<p>Update <code>.env</code> with your database connection string. Refer to <a href="https://www.prisma.io/docs/concepts/database-connectors/sql-server#connection-details">connection details</a> for information on how to configure the connection string.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="c"># .env</span>
<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p></p><details>
  <summary>If you're using a remote database during development like Azure SQL, open this to learn more about how to configure the <a href="https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database">shadow database</a>.</summary>
  <br>
Create a new database which will be the <a href="https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database">shadow database</a> on Azure. Update your <code>.env</code> file to include the <code>SHADOW_DATABASE_URL</code> as well. The shadow database will be used in the data modelling step<br>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="c"># .env</span>
<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>
<span class="nv">SHADOW_DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>


<p>Update your <code>schema.prisma</code> file with the connection string for the shadow database.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>
<span class="n">datasource</span> <span class="n">db</span> <span class="o">{</span>
  <span class="n">provider</span>          <span class="o">=</span> <span class="s2">"sqlserver"</span>
  <span class="n">url</span>               <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"DATABASE_URL"</span><span class="o">)</span>
  <span class="n">shadowDatabaseUrl</span> <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"SHADOW_DATABASE_URL"</span><span class="o">)</span>
<span class="o">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<blockquote>
<p>A shadow database is a second, <em>temporary</em> database for use in the local development workflow. When running a migration, the secondary database is created and deleted automatically unless you're using a cloud-hosted database.</p>
</blockquote>

<p>Here's an illustration of how the shadow database works:</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Voo8aIw2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Voo8aIw2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" alt="https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" loading="lazy" width="650" height="1162"></a><br>
</p>

</details><br>
<p></p>

<h3>
  <a name="data-modelling" href="#data-modelling">
  </a>
  Data modelling
</h3>

<p>This example will define 2 models: <code>Post</code> and <code>User</code>.The relationship between <code>User</code> and <code>Post</code> is a one-to-many relationship.</p>

<p>The models defined in <code>schema.prisma</code> will resemble a GraphQL syntax . The models also map to a table in your database.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>
<span class="n">model</span> <span class="n">Post</span> <span class="o">{</span>
  <span class="n">id</span>        <span class="n">Int</span>      <span class="nd">@id</span> <span class="nd">@default</span><span class="o">(</span><span class="n">autoincrement</span><span class="o">())</span>
  <span class="n">content</span>   <span class="n">String</span><span class="o">?</span>
  <span class="n">title</span>     <span class="n">String</span>
  <span class="n">createdAt</span> <span class="n">DateTime</span> <span class="nd">@default</span><span class="o">(</span><span class="n">now</span><span class="o">())</span>
  <span class="n">author</span>    <span class="n">User</span><span class="o">?</span>    <span class="nd">@relation</span><span class="o">(</span><span class="nl">fields:</span> <span class="o">[</span><span class="n">authorId</span><span class="o">],</span> <span class="nl">references:</span> <span class="o">[</span><span class="n">id</span><span class="o">])</span>
  <span class="n">authorId</span>  <span class="n">Int</span><span class="o">?</span>
<span class="o">}</span>

<span class="n">model</span> <span class="n">User</span> <span class="o">{</span>
  <span class="n">id</span>    <span class="n">Int</span>     <span class="nd">@id</span> <span class="nd">@default</span><span class="o">(</span><span class="n">autoincrement</span><span class="o">())</span>
  <span class="n">email</span> <span class="n">String</span>  <span class="nd">@unique</span>
  <span class="n">name</span>  <span class="n">String</span><span class="o">?</span>
  <span class="n">posts</span> <span class="n">Post</span><span class="o">[]</span>
<span class="o">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Refer to the <a href="https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference">Prisma Schema Reference</a> for further information on database field types, attributes, conventions and functions.</p>

<h3>
  <a name="create-a-database-migration" href="#create-a-database-migration">
  </a>
  Create a database migration
</h3>

<p>After modelling your data, it's time to apply the changes to your database. On your terminal window, run <code>npx prisma migrate dev</code>.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx prisma migrate dev <span class="nt">--name</span> init
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>If no database exists, a new database with the database name specified in your <code>.env</code> file will be created. The command also creates a new database migration that is located in <code>./prisma/migrations</code> directory. The migration is in SQL and is applied against your database. <code>init</code> refers to the migration name which you can change to something more semantic.</p>

<p>If you wish to only create a migration but not apply it to your database, pass the <code>--create-only</code> option to Prisma Migrate. This will generate the SQL and allow you to customize it before applying it against your database.</p>

<p>You can confirm that the changes have been applied, run:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx prisma studio
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--N31YC-hG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/de9p51dk06cbmaviv5lt.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--N31YC-hG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/de9p51dk06cbmaviv5lt.png" alt="Screenshot 2021-10-17 at 19.49.28.png" loading="lazy" width="880" height="621"></a></p>

<p>Select the Model you would like to view/ edit data.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--v10O0ukW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tm5gi64m3xeb68utpt5l.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--v10O0ukW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tm5gi64m3xeb68utpt5l.png" alt="Screenshot 2021-10-17 at 19.51.25.png" loading="lazy" width="880" height="621"></a></p>

<p>Click <strong>Save 1 change</strong> to apply the changes.</p>

<p>Navigate to the User model, create a new user, link the post created in the previous step and save the change.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--siF3tymG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ph7m5cz8jho4m5p921zw.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--siF3tymG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ph7m5cz8jho4m5p921zw.png" alt="Screenshot 2021-10-17 at 19.53.24.png" loading="lazy" width="880" height="621"></a></p>

<h2>
  <a name="step-3-introspect-your-database-aka-reverse-engineering" href="#step-3-introspect-your-database-aka-reverse-engineering">
  </a>
  Step 3: Introspect your database aka Reverse Engineering
</h2>

<p>Entity framework allows you to introspect your database schema and scaffold entity type classes and the database context based off an existing database.</p>

<p>Navigate out of <code>prisma-migrate</code> directory to the root of your project.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="nb">cd</span> ../
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Install Entity Framework tools you will require to work with SQL Server in your project.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>dotnet add package Microsoft.EntityFrameworkCore.SqlServer 
dotnet add package Microsoft.EntityFrameworkCore.Tools 
dotnet add package Microsoft.EntityFrameworkCore.Design
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Scaffold entity type classes based on your database schema to your project.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>dotnet ef dbcontext scaffold <span class="s2">"Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**"</span> Microsoft.EntityFrameworkCore.SqlServer <span class="nt">--context-dir</span> DbContext <span class="nt">--context</span> BlogExampleContext <span class="nt">--output-dir</span> Models
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<ul>
<li>
<code>Microsoft.EntityFrameworkCore.SqlServer</code> refers to the package to be used to introspect the database.</li>
<li>
<code>--context-dir</code> and <code>--output-dir</code> refer to the location of the context and the entity type classes after introspection</li>
<li>
<code>--context</code> refers to the name of your database context</li>
</ul>

<p>On a successful run 2 folders with 4 files will be created in your project.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code><span class="k">*</span>app-name<span class="k">*</span>/
â”£ DbContext/
â”ƒ â”— BlogExampleContext.cs
â”£ Models/
â”ƒ â”£ Post.cs
â”ƒ â”— PrismaMigration.cs
â”ƒ â”— User.cs
â”£ ...
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>As you will notice, <code>PrismaMigration.cs</code> was not defined in <code>schema.prisma</code>. This is a table created by Prisma to track the migrations that have been created and applied against your database.</p>

<p>To exclude the <code>PrismaMigrations</code> table, and re-run the previous command but specify the tables you would like using the <code>--table</code> and <code>â€”force</code> options to overwrite the existing models.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>dotnet ef dbcontext scaffold <span class="s2">"Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**"</span> Microsoft.EntityFrameworkCore.SqlServer <span class="nt">--context-dir</span> DbContext <span class="nt">--context</span> BlogExampleContext <span class="nt">--output-dir</span> Models <span class="nt">--force</span> <span class="nt">--table</span> User <span class="nt">--table</span> Post
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>This time, 3 files are generated and the <code>PrismaMigrations.cs</code> file is excluded when scaffolding.</p>

<blockquote>
<p>If you're interested in migrating to Prisma with an existing database, the Prisma CLI provides <code>db pull</code> for introspecting the database and populating <code>schema.prisma</code> with your database models.</p>
</blockquote>

<h2>
  <a name="conclusion" href="#conclusion">
  </a>
  Conclusion
</h2>

<p>Congratulations! You have successfully modelled your entities, run a migration with Prisma and scaffolded your models and context with Entity Framework. </p>

<p>Learn how you can set up and deploy a Prisma based Node.js REST API to Azure Functions together with Azure SQL in <a href="https://www.prisma.io/docs/guides/deployment/deployment-guides/deploying-to-azure-functions">Deploying to Azure Functions</a>.</p>

<p>If you would like to learn more about Prisma, check out the <a href="https://www.prisma.io/docs">documentation</a> and feel free to create an <a href="https://github.com/prisma/prisma/issues">issue</a> or start a <a href="https://github.com/prisma/prisma/discussions">discussion</a> on GitHub.</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/ruheni/database-migrations-for-net-and-entity-framework-with-prisma-49e0" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(e,a,n,s,t,i){return s.type_of="article",s.id=868573,s.title="Database Migrations for .NET and Entity Framework with Prisma",s.description="Learn how you can model your data and manage database migrations with Prisma, and auto-generate your database models in .NET using Entity Framework",s.readable_publish_date="Nov 4 '21",s.slug="database-migrations-for-net-and-entity-framework-with-prisma-49e0",s.path="/prisma/database-migrations-for-net-and-entity-framework-with-prisma-49e0",s.url=t,s.comments_count=0,s.public_reactions_count=8,s.collection_id=e,s.published_timestamp=a,s.positive_reactions_count=8,s.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--cGsB1yfl--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6wl2j0jwj74z9jljdskm.png",s.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--7kifajy8--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6wl2j0jwj74z9jljdskm.png",s.canonical_url=t,s.created_at="2021-10-19T08:49:40Z",s.edited_at=e,s.crossposted_at=e,s.published_at=a,s.last_comment_at=a,s.reading_time_minutes=7,s.tag_list="prisma, database, backend, entityframework",s.tags=[n,"database","backend","entityframework"],s.body_html='<h2>\n  <a name="introduction" href="#introduction">\n  </a>\n  Introduction\n</h2>\n\n<p>In this article, you will learn how to model your data using <a href="https://www.prisma.io/">Prisma</a>, run a migration with Prisma Migrate and then introspect your database with <a href="https://dotnet.microsoft.com/">.NET</a> to generate your <a href="https://docs.microsoft.com/en-us/aspnet/entity-framework">Entity Framework</a> models. This article will use Azure SQL/ SQL Server. </p>\n\n<p>This article only offers an alternative data modelling workflow that is succinct and offer a better development experience. Besides .NET and the Entity framework, you can also use Prisma with your tool/ frameworks of choice such as <a href="https://www.djangoproject.com/">Django</a>.</p>\n\n<p>Prisma auto-generates migration files in SQL that you can modify before applying them on your database. The workflow following this approach would be:</p>\n\n<ol>\n<li>Model your data</li>\n<li>Run a migration using <a href="https://www.prisma.io/migrate">Prisma Migrate</a>.</li>\n<li>Use the Entity Framework to <em><a href="https://docs.microsoft.com/en-us/ef/core/managing-schemas/scaffolding?tabs=dotnet-core-cli">reverse engineer</a>/ scaffold/</em> introspect your database and generate models and your database context.</li>\n</ol>\n\n<h2>\n  <a name="what-is-prisma" href="#what-is-prisma">\n  </a>\n  What is Prisma?\n</h2>\n\n<p>Prisma is an object-relational mapper (ORM) that provides a declarative way to define your database models that are easy to read and comprehend. Prisma also provides <a href="https://www.prisma.io/docs/concepts/components/prisma-client">Prisma Client</a> â€“ an intuitive and  type-safe query builder based off your schema.</p>\n\n<p>At the core of Prisma is the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema">Prisma Schema</a> â€“ aka <em>schema file</em>. The schema contains 3 parts: the <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/data-sources/">data sources</a>, <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/generators">generators</a> and your <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/data-model">data model definition</a>. </p>\n\n<h2>\n  <a name="prerequisites" href="#prerequisites">\n  </a>\n  Prerequisites\n</h2>\n\n<p>To follow along, ensure you have the following:</p>\n\n<ul>\n<li>Familiarity with .NET and the <a href="https://docs.microsoft.com/en-us/aspnet/entity-framework">Entity framework</a>\n</li>\n<li>Installed Node.js v 12.6.x or higher</li>\n<li>Installed .NET locally</li>\n<li>A SQL Server or Azure SQL database</li>\n<li>\n<a href="https://marketplace.visualstudio.com/items?itemName=Prisma.prisma">Prisma Extension</a> for VS Code users</li>\n</ul>\n\n<blockquote>\n<p><strong>Note:</strong> If you\'re not familiar with setting up SQL Server, check out <a href="https://www.prisma.io/dataguide/mssql/setting-up-a-local-sql-server-database">Setting up a local SQL Server database</a>.</p>\n</blockquote>\n\n<h2>\n  <a name="step-1-create-a-new-console-application" href="#step-1-create-a-new-console-application">\n  </a>\n  Step 1: Create a new console application\n</h2>\n\n<p>The first step is to create a new .NET console app in your working directory. This guide uses a console application to keep it simple. However, feel free to create any other type of application.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>dotnet new console <span class="nt">--output</span> <span class="k">*</span>__app-name__<span class="k">*</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Once the command is done, navigate to the project and confirm that your project is running.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">cd</span> <span class="k">*</span>__app-name__<span class="k">*</span>\ndotnet run\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>If the output on the terminal is <code>Hello World!</code>, everything seems to be running just fine!  ðŸŽ‰</p>\n\n<h2>\n  <a name="step-2-add-prisma-to-your-project" href="#step-2-add-prisma-to-your-project">\n  </a>\n  Step 2: Add Prisma to your project\n</h2>\n\n<p>On a separate terminal window but still within the same project run the following commands.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">mkdir </span>prisma-migrate\n<span class="nb">cd </span>prisma-migrate\nnpm init <span class="nt">-y</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The commands create a new directory, navigate to the folder and initializes it as a Node.js project. The <a href="https://www.prisma.io/docs/concepts/components/prisma-cli">Prisma CLI</a> is the only dependency for this project.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> prisma\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name="initialize-prisma" href="#initialize-prisma">\n  </a>\n  Initialize Prisma\n</h3>\n\n<p>Once the install is done, run the following command.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>npx prisma init <span class="nt">--database-provider</span> sqlserver\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The command:</p>\n\n<ul>\n<li>Creates a <code>.env</code> file at the root of the project for storing environment variables</li>\n<li>Creates <code>prisma</code> folder containing a <code>schema.prisma</code> file.</li>\n<li>Specifies the database provider as <code>sqlserver</code> in <code>schema.prisma</code> file and provides a dummy <code>sqlserver</code> connection string in <code>.env</code>.</li>\n</ul>\n\n<p>The <code>schema.prisma</code> file defines the database connection and the Prisma Client generator. This is where you will also define your database models.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>\n<span class="n">datasource</span> <span class="n">db</span> <span class="o">{</span>\n  <span class="n">provider</span> <span class="o">=</span> <span class="s2">"sqlserver"</span>\n  <span class="n">url</span>      <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"DATABASE_URL"</span><span class="o">)</span>\n<span class="o">}</span>\n\n<span class="n">generator</span> <span class="n">client</span> <span class="o">{</span>\n  <span class="n">provider</span> <span class="o">=</span> <span class="s2">"prisma-client-js"</span>\n<span class="o">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>For this guide, you can delete <code>generator client</code> as it is relevant in a TypeScript/ JavaScript project. The <code>generator client</code> is used to generate the TypeScript definitions for the Prisma Client.</p>\n\n<p>Update <code>.env</code> with your database connection string. Refer to <a href="https://www.prisma.io/docs/concepts/database-connectors/sql-server#connection-details">connection details</a> for information on how to configure the connection string.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="c"># .env</span>\n<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><details>\n  <summary>If you\'re using a remote database during development like Azure SQL, open this to learn more about how to configure the <a href="https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database">shadow database</a>.</summary>\n  <br>\nCreate a new database which will be the <a href="https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database">shadow database</a> on Azure. Update your <code>.env</code> file to include the <code>SHADOW_DATABASE_URL</code> as well. The shadow database will be used in the data modelling step<br>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="c"># .env</span>\n<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>\n<span class="nv">SHADOW_DATABASE_URL</span><span class="o">=</span><span class="s2">"sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n<p>Update your <code>schema.prisma</code> file with the connection string for the shadow database.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>\n<span class="n">datasource</span> <span class="n">db</span> <span class="o">{</span>\n  <span class="n">provider</span>          <span class="o">=</span> <span class="s2">"sqlserver"</span>\n  <span class="n">url</span>               <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"DATABASE_URL"</span><span class="o">)</span>\n  <span class="n">shadowDatabaseUrl</span> <span class="o">=</span> <span class="n">env</span><span class="o">(</span><span class="s2">"SHADOW_DATABASE_URL"</span><span class="o">)</span>\n<span class="o">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<blockquote>\n<p>A shadow database is a second, <em>temporary</em> database for use in the local development workflow. When running a migration, the secondary database is created and deleted automatically unless you\'re using a cloud-hosted database.</p>\n</blockquote>\n\n<p>Here\'s an illustration of how the shadow database works:</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Voo8aIw2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Voo8aIw2--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" alt="https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png" loading="lazy" width="650" height="1162"></a><br>\n</p>\n\n</details><br>\n</p>\n\n<h3>\n  <a name="data-modelling" href="#data-modelling">\n  </a>\n  Data modelling\n</h3>\n\n<p>This example will define 2 models: <code>Post</code> and <code>User</code>.The relationship between <code>User</code> and <code>Post</code> is a one-to-many relationship.</p>\n\n<p>The models defined in <code>schema.prisma</code> will resemble a GraphQL syntax . The models also map to a table in your database.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight groovy"><code><span class="c1">/// prisma/schema.prisma</span>\n<span class="n">model</span> <span class="n">Post</span> <span class="o">{</span>\n  <span class="n">id</span>        <span class="n">Int</span>      <span class="nd">@id</span> <span class="nd">@default</span><span class="o">(</span><span class="n">autoincrement</span><span class="o">())</span>\n  <span class="n">content</span>   <span class="n">String</span><span class="o">?</span>\n  <span class="n">title</span>     <span class="n">String</span>\n  <span class="n">createdAt</span> <span class="n">DateTime</span> <span class="nd">@default</span><span class="o">(</span><span class="n">now</span><span class="o">())</span>\n  <span class="n">author</span>    <span class="n">User</span><span class="o">?</span>    <span class="nd">@relation</span><span class="o">(</span><span class="nl">fields:</span> <span class="o">[</span><span class="n">authorId</span><span class="o">],</span> <span class="nl">references:</span> <span class="o">[</span><span class="n">id</span><span class="o">])</span>\n  <span class="n">authorId</span>  <span class="n">Int</span><span class="o">?</span>\n<span class="o">}</span>\n\n<span class="n">model</span> <span class="n">User</span> <span class="o">{</span>\n  <span class="n">id</span>    <span class="n">Int</span>     <span class="nd">@id</span> <span class="nd">@default</span><span class="o">(</span><span class="n">autoincrement</span><span class="o">())</span>\n  <span class="n">email</span> <span class="n">String</span>  <span class="nd">@unique</span>\n  <span class="n">name</span>  <span class="n">String</span><span class="o">?</span>\n  <span class="n">posts</span> <span class="n">Post</span><span class="o">[]</span>\n<span class="o">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Refer to the <a href="https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference">Prisma Schema Reference</a> for further information on database field types, attributes, conventions and functions.</p>\n\n<h3>\n  <a name="create-a-database-migration" href="#create-a-database-migration">\n  </a>\n  Create a database migration\n</h3>\n\n<p>After modelling your data, it\'s time to apply the changes to your database. On your terminal window, run <code>npx prisma migrate dev</code>.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>npx prisma migrate dev <span class="nt">--name</span> init\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>If no database exists, a new database with the database name specified in your <code>.env</code> file will be created. The command also creates a new database migration that is located in <code>./prisma/migrations</code> directory. The migration is in SQL and is applied against your database. <code>init</code> refers to the migration name which you can change to something more semantic.</p>\n\n<p>If you wish to only create a migration but not apply it to your database, pass the <code>--create-only</code> option to Prisma Migrate. This will generate the SQL and allow you to customize it before applying it against your database.</p>\n\n<p>You can confirm that the changes have been applied, run:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>npx prisma studio\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--N31YC-hG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/de9p51dk06cbmaviv5lt.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--N31YC-hG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/de9p51dk06cbmaviv5lt.png" alt="Screenshot 2021-10-17 at 19.49.28.png" loading="lazy" width="880" height="621"></a></p>\n\n<p>Select the Model you would like to view/ edit data.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--v10O0ukW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tm5gi64m3xeb68utpt5l.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--v10O0ukW--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tm5gi64m3xeb68utpt5l.png" alt="Screenshot 2021-10-17 at 19.51.25.png" loading="lazy" width="880" height="621"></a></p>\n\n<p>Click <strong>Save 1 change</strong> to apply the changes.</p>\n\n<p>Navigate to the User model, create a new user, link the post created in the previous step and save the change.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--siF3tymG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ph7m5cz8jho4m5p921zw.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--siF3tymG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ph7m5cz8jho4m5p921zw.png" alt="Screenshot 2021-10-17 at 19.53.24.png" loading="lazy" width="880" height="621"></a></p>\n\n<h2>\n  <a name="step-3-introspect-your-database-aka-reverse-engineering" href="#step-3-introspect-your-database-aka-reverse-engineering">\n  </a>\n  Step 3: Introspect your database aka Reverse Engineering\n</h2>\n\n<p>Entity framework allows you to introspect your database schema and scaffold entity type classes and the database context based off an existing database.</p>\n\n<p>Navigate out of <code>prisma-migrate</code> directory to the root of your project.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="nb">cd</span> ../\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Install Entity Framework tools you will require to work with SQL Server in your project.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>dotnet add package Microsoft.EntityFrameworkCore.SqlServer \ndotnet add package Microsoft.EntityFrameworkCore.Tools \ndotnet add package Microsoft.EntityFrameworkCore.Design\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Scaffold entity type classes based on your database schema to your project.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>dotnet ef dbcontext scaffold <span class="s2">"Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**"</span> Microsoft.EntityFrameworkCore.SqlServer <span class="nt">--context-dir</span> DbContext <span class="nt">--context</span> BlogExampleContext <span class="nt">--output-dir</span> Models\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<ul>\n<li>\n<code>Microsoft.EntityFrameworkCore.SqlServer</code> refers to the package to be used to introspect the database.</li>\n<li>\n<code>--context-dir</code> and <code>--output-dir</code> refer to the location of the context and the entity type classes after introspection</li>\n<li>\n<code>--context</code> refers to the name of your database context</li>\n</ul>\n\n<p>On a successful run 2 folders with 4 files will be created in your project.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code><span class="k">*</span>app-name<span class="k">*</span>/\nâ”£ DbContext/\nâ”ƒ â”— BlogExampleContext.cs\nâ”£ Models/\nâ”ƒ â”£ Post.cs\nâ”ƒ â”— PrismaMigration.cs\nâ”ƒ â”— User.cs\nâ”£ ...\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>As you will notice, <code>PrismaMigration.cs</code> was not defined in <code>schema.prisma</code>. This is a table created by Prisma to track the migrations that have been created and applied against your database.</p>\n\n<p>To exclude the <code>PrismaMigrations</code> table, and re-run the previous command but specify the tables you would like using the <code>--table</code> and <code>â€”force</code> options to overwrite the existing models.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>dotnet ef dbcontext scaffold <span class="s2">"Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**"</span> Microsoft.EntityFrameworkCore.SqlServer <span class="nt">--context-dir</span> DbContext <span class="nt">--context</span> BlogExampleContext <span class="nt">--output-dir</span> Models <span class="nt">--force</span> <span class="nt">--table</span> User <span class="nt">--table</span> Post\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>This time, 3 files are generated and the <code>PrismaMigrations.cs</code> file is excluded when scaffolding.</p>\n\n<blockquote>\n<p>If you\'re interested in migrating to Prisma with an existing database, the Prisma CLI provides <code>db pull</code> for introspecting the database and populating <code>schema.prisma</code> with your database models.</p>\n</blockquote>\n\n<h2>\n  <a name="conclusion" href="#conclusion">\n  </a>\n  Conclusion\n</h2>\n\n<p>Congratulations! You have successfully modelled your entities, run a migration with Prisma and scaffolded your models and context with Entity Framework. </p>\n\n<p>Learn how you can set up and deploy a Prisma based Node.js REST API to Azure Functions together with Azure SQL in <a href="https://www.prisma.io/docs/guides/deployment/deployment-guides/deploying-to-azure-functions">Deploying to Azure Functions</a>.</p>\n\n<p>If you would like to learn more about Prisma, check out the <a href="https://www.prisma.io/docs">documentation</a> and feel free to create an <a href="https://github.com/prisma/prisma/issues">issue</a> or start a <a href="https://github.com/prisma/prisma/discussions">discussion</a> on GitHub.</p>\n\n',s.body_markdown='---\ntitle: Database Migrations for .NET and Entity Framework with Prisma\npublished: true\ndescription: Learn how you can model your data and manage database migrations with Prisma, and auto-generate your database models in .NET using Entity Framework\ntags: prisma, databases, backend, entityframework\ncover_image: https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6wl2j0jwj74z9jljdskm.png\n---\n\n## Introduction\n\nIn this article, you will learn how to model your data using [Prisma](https://www.prisma.io/), run a migration with Prisma Migrate and then introspect your database with [.NET](https://dotnet.microsoft.com/) to generate your [Entity Framework](https://docs.microsoft.com/en-us/aspnet/entity-framework) models. This article will use Azure SQL/ SQL Server. \n\nThis article only offers an alternative data modelling workflow that is succinct and offer a better development experience. Besides .NET and the Entity framework, you can also use Prisma with your tool/ frameworks of choice such as [Django](https://www.djangoproject.com/).\n\nPrisma auto-generates migration files in SQL that you can modify before applying them on your database. The workflow following this approach would be:\n\n1. Model your data\n2. Run a migration using [Prisma Migrate](https://www.prisma.io/migrate).\n3. Use the Entity Framework to *[reverse engineer](https://docs.microsoft.com/en-us/ef/core/managing-schemas/scaffolding?tabs=dotnet-core-cli)/ scaffold/* introspect your database and generate models and your database context.\n\n## What is Prisma?\n\nPrisma is an object-relational mapper (ORM) that provides a declarative way to define your database models that are easy to read and comprehend. Prisma also provides [Prisma Client](https://www.prisma.io/docs/concepts/components/prisma-client) â€“ an intuitive and  type-safe query builder based off your schema.\n\nAt the core of Prisma is the [Prisma Schema](https://www.prisma.io/docs/concepts/components/prisma-schema) â€“ aka *schema file*. The schema contains 3 parts: the [data sources](https://www.prisma.io/docs/concepts/components/prisma-schema/data-sources/), [generators](https://www.prisma.io/docs/concepts/components/prisma-schema/generators) and your [data model definition](https://www.prisma.io/docs/concepts/components/prisma-schema/data-model). \n\n## Prerequisites\n\nTo follow along, ensure you have the following:\n\n- Familiarity with .NET and the [Entity framework](https://docs.microsoft.com/en-us/aspnet/entity-framework)\n- Installed Node.js v 12.6.x or higher\n- Installed .NET locally\n- A SQL Server or Azure SQL database\n- [Prisma Extension](https://marketplace.visualstudio.com/items?itemName=Prisma.prisma) for VS Code users\n\n> **Note:** If you\'re not familiar with setting up SQL Server, check out [Setting up a local SQL Server database](https://www.prisma.io/dataguide/mssql/setting-up-a-local-sql-server-database).\n> \n\n## Step 1: Create a new console application\n\nThe first step is to create a new .NET console app in your working directory. This guide uses a console application to keep it simple. However, feel free to create any other type of application.\n\n```bash\ndotnet new console --output *__app-name__*\n```\n\nOnce the command is done, navigate to the project and confirm that your project is running.\n\n```bash\ncd *__app-name__*\ndotnet run\n```\n\n If the output on the terminal is `Hello World!`, everything seems to be running just fine!  ðŸŽ‰\n\n## Step 2: Add Prisma to your project\n\nOn a separate terminal window but still within the same project run the following commands.\n\n```bash\nmkdir prisma-migrate\ncd prisma-migrate\nnpm init -y\n```\n\nThe commands create a new directory, navigate to the folder and initializes it as a Node.js project. The [Prisma CLI](https://www.prisma.io/docs/concepts/components/prisma-cli) is the only dependency for this project. \n\n```bash\nnpm install --save-dev prisma\n```\n\n### Initialize Prisma\n\nOnce the install is done, run the following command.\n\n```bash\nnpx prisma init --database-provider sqlserver\n```\n\nThe command:\n\n- Creates a `.env` file at the root of the project for storing environment variables\n- Creates `prisma` folder containing a `schema.prisma` file.\n- Specifies the database provider as `sqlserver` in `schema.prisma` file and provides a dummy `sqlserver` connection string in `.env`.\n\nThe `schema.prisma` file defines the database connection and the Prisma Client generator. This is where you will also define your database models.\n\n```groovy\n/// prisma/schema.prisma\ndatasource db {\n  provider = "sqlserver"\n  url      = env("DATABASE_URL")\n}\n\ngenerator client {\n  provider = "prisma-client-js"\n}\n```\n\nFor this guide, you can delete `generator client` as it is relevant in a TypeScript/ JavaScript project. The `generator client` is used to generate the TypeScript definitions for the Prisma Client.\n\nUpdate `.env` with your database connection string. Refer to [connection details](https://www.prisma.io/docs/concepts/database-connectors/sql-server#connection-details) for information on how to configure the connection string.\n\n```bash\n# .env\nDATABASE_URL="sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"\n```\n{% details If you\'re using a remote database during development like Azure SQL, open this to learn more about how to configure the [shadow database](https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database). %} \nCreate a new database which will be the [shadow database](https://www.prisma.io/docs/concepts/components/prisma-migrate/shadow-database) on Azure. Update your `.env` file to include the `SHADOW_DATABASE_URL` as well. The shadow database will be used in the data modelling step \n\n```bash\n# .env\nDATABASE_URL="sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"\nSHADOW_DATABASE_URL="sqlserver://HOST:PORT;database=DATABASE;user=USER;password=PASSWORD;"\n```\n\nUpdate your `schema.prisma` file with the connection string for the shadow database. \n\n```groovy\n/// prisma/schema.prisma\ndatasource db {\n  provider          = "sqlserver"\n  url               = env("DATABASE_URL")\n  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")\n}\n```\n\n> A shadow database is a second, *temporary* database for use in the local development workflow. When running a migration, the secondary database is created and deleted automatically unless you\'re using a cloud-hosted database.\n\n\nHere\'s an illustration of how the shadow database works:\n\n![https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png](https://www.prisma.io/docs/static/fa8149049da32d83d8014e3d14d644c0/a6d36/shadow-database.png)\n{% enddetails %}\n    \n  \n\n### Data modelling\n\nThis example will define 2 models: `Post` and `User`.The relationship between `User` and `Post` is a one-to-many relationship.\n\nThe models defined in `schema.prisma` will resemble a GraphQL syntax . The models also map to a table in your database.\n\n```groovy\n/// prisma/schema.prisma\nmodel Post {\n  id        Int      @id @default(autoincrement())\n  content   String?\n  title     String\n  createdAt DateTime @default(now())\n  author    User?    @relation(fields: [authorId], references: [id])\n  authorId  Int?\n}\n\nmodel User {\n  id    Int     @id @default(autoincrement())\n  email String  @unique\n  name  String?\n  posts Post[]\n}\n```\n\nRefer to the [Prisma Schema Reference](https://www.prisma.io/docs/reference/api-reference/prisma-schema-reference) for further information on database field types, attributes, conventions and functions.\n\n### Create a database migration\n\nAfter modelling your data, it\'s time to apply the changes to your database. On your terminal window, run `npx prisma migrate dev`.\n\n```bash\nnpx prisma migrate dev --name init\n```\n\nIf no database exists, a new database with the database name specified in your `.env` file will be created. The command also creates a new database migration that is located in `./prisma/migrations` directory. The migration is in SQL and is applied against your database. `init` refers to the migration name which you can change to something more semantic.\n\nIf you wish to only create a migration but not apply it to your database, pass the `--create-only` option to Prisma Migrate. This will generate the SQL and allow you to customize it before applying it against your database.\n\nYou can confirm that the changes have been applied, run:\n\n```bash\nnpx prisma studio\n```\n\n![Screenshot 2021-10-17 at 19.49.28.png](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/de9p51dk06cbmaviv5lt.png)\n\nSelect the Model you would like to view/ edit data.\n\n![Screenshot 2021-10-17 at 19.51.25.png](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tm5gi64m3xeb68utpt5l.png)\n\nClick **Save 1 change** to apply the changes.\n\nNavigate to the User model, create a new user, link the post created in the previous step and save the change.\n\n![Screenshot 2021-10-17 at 19.53.24.png](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ph7m5cz8jho4m5p921zw.png)\n\n## Step 3: Introspect your database aka Reverse Engineering\n\nEntity framework allows you to introspect your database schema and scaffold entity type classes and the database context based off an existing database.\n\nNavigate out of `prisma-migrate` directory to the root of your project.\n\n```bash\ncd ../\n```\n\nInstall Entity Framework tools you will require to work with SQL Server in your project.\n\n```bash\ndotnet add package Microsoft.EntityFrameworkCore.SqlServer \ndotnet add package Microsoft.EntityFrameworkCore.Tools \ndotnet add package Microsoft.EntityFrameworkCore.Design\n```\n\nScaffold entity type classes based on your database schema to your project.\n\n```bash\ndotnet ef dbcontext scaffold "Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**" Microsoft.EntityFrameworkCore.SqlServer --context-dir DbContext --context BlogExampleContext --output-dir Models\n```\n\n- `Microsoft.EntityFrameworkCore.SqlServer` refers to the package to be used to introspect the database.\n- `--context-dir` and `--output-dir` refer to the location of the context and the entity type classes after introspection\n- `--context` refers to the name of your database context\n\nOn a successful run 2 folders with 4 files will be created in your project.\n\n```bash\n*app-name*/\nâ”£ DbContext/\nâ”ƒ â”— BlogExampleContext.cs\nâ”£ Models/\nâ”ƒ â”£ Post.cs\nâ”ƒ â”— PrismaMigration.cs\nâ”ƒ â”— User.cs\nâ”£ ...\n```\n\nAs you will notice, `PrismaMigration.cs` was not defined in `schema.prisma`. This is a table created by Prisma to track the migrations that have been created and applied against your database.\n\nTo exclude the `PrismaMigrations` table, and re-run the previous command but specify the tables you would like using the `--table` and `â€”force` options to overwrite the existing models.\n\n```bash\ndotnet ef dbcontext scaffold "Server=**HOST**;Database=**DATABASE_NAME**;User Id=**USER**;Password=**PASSWORD**" Microsoft.EntityFrameworkCore.SqlServer --context-dir DbContext --context BlogExampleContext --output-dir Models --force --table User --table Post\n```\n\nThis time, 3 files are generated and the `PrismaMigrations.cs` file is excluded when scaffolding.\n\n> If you\'re interested in migrating to Prisma with an existing database, the Prisma CLI provides `db pull` for introspecting the database and populating `schema.prisma` with your database models.\n\n\n## Conclusion\n\nCongratulations! You have successfully modelled your entities, run a migration with Prisma and scaffolded your models and context with Entity Framework. \n\nLearn how you can set up and deploy a Prisma based Node.js REST API to Azure Functions together with Azure SQL in [Deploying to Azure Functions](https://www.prisma.io/docs/guides/deployment/deployment-guides/deploying-to-azure-functions).\n\nIf you would like to learn more about Prisma, check out the [documentation](https://www.prisma.io/docs) and feel free to create an [issue](https://github.com/prisma/prisma/issues) or start a [discussion](https://github.com/prisma/prisma/discussions) on GitHub.',s.user={name:"Ruheni Alex",username:i,twitter_username:"ruheni_alex",github_username:i,website_url:"https://ruheni.dev",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--AP0xPpqj--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/149870/e7530f57-fa25-430c-9cb4-9e7cdf1cd6fe.jpg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--6-U-cZcG--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/149870/e7530f57-fa25-430c-9cb4-9e7cdf1cd6fe.jpg"},s.organization={name:"Prisma",username:n,slug:n,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--Uua00hpc--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/1608/0f93b179-76bf-4ee7-a838-e8222fbef062.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--esGGo2kK--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/1608/0f93b179-76bf-4ee7-a838-e8222fbef062.png"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:s}},error:e,state:{currentArticle:s},serverRendered:!0,routePath:"/ruheni/868573",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:e}}}}(null,"2021-11-04T12:51:58Z","prisma",{},"https://dev.to/prisma/database-migrations-for-net-and-entity-framework-with-prisma-49e0","ruheni")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
