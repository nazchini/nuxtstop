<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>How to build a multi-location app for the Open Graph protocol</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>How to build a multi-location app for the Open Graph protocol</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/opengraph" class="tag" data-v-70afb46a>
          #opengraph
        </a><a href="/nuxtstop/t/contentful" class="tag" data-v-70afb46a>
          #contentful
        </a><a href="/nuxtstop/t/webdev" class="tag" data-v-70afb46a>
          #webdev
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6KHtW5Hq--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dox5vw789fym3eimyv88.png" alt="How to build a multi-location app for the Open Graph protocol" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            4
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            0
          </span></div> <time data-v-70afb46a>Jun 23 '21</time></div></header> <div class="content" data-v-70afb46a><p>I'm cross-posting this article for my <a href="https://www.contentful.com/blog/author/david-fateh/">Colleague David Fateh</a>. Check out the original post over on the <a href="https://www.contentful.com/blog/2021/04/27/build-multi-location-app-open-graph-protocol/">Contentful Blog</a>.</p>

<p>If you are a content creator for the web, you may have used the <a href="https://ogp.me/">Open Graph protocol</a>. The Open Graph protocol is a way to display and share information about your resource on the internet. You may have seen these in action when sharing websites and URLs on Twitter and Facebook, or when you are chatting with your coworkers on Slack. The preview and metadata for the link is shown to the user as in the Twitter post below.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--tOVlOOM---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3BYIx2tORD34uKCN86t8gV/21e2c596480ca96626459372916b3c58/Screen_Shot_2021-04-05_at_21.10.32.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tOVlOOM---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3BYIx2tORD34uKCN86t8gV/21e2c596480ca96626459372916b3c58/Screen_Shot_2021-04-05_at_21.10.32.png" alt="Screenshot of Harald Wartig's tweet" loading="lazy"></a></p>

<p>Building an app on the <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/">App Framework</a> can be as simple as creating a single custom button or as complicated as composing multiple components in different locations of Contentful. I want to run through an example app I've created which makes use of the App Framework's ability to handle complexity, but more importantly shows how to pass data between different <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/locations/">app locations</a>.</p>

<p>In Contentful, we can create our own Open Graph data by making use of a simple content type that provides the user with the necessary fields to show these kinds of previews. Then, using the App Framework, we can augment the editor experience to allow for automated title generation of our content as well as a visual preview.</p>

<p>In this post, we will cover a two things: 1. Creating a content type to handle simple Open Graph data. 2. Creating an app which helps visualize the data and allows for a preview mode. 3. When all is said and done, our Open Graph content type will still need to be pulled from a Contentful API response when we generate our web pages. The information contained in an Open Graph entry will be enough information to populate meta tags in the head of our HTML filles. Let's get started!</p>

<h2>
  <a name="creating-the-content-type" href="#creating-the-content-type">
  </a>
  Creating the content type
</h2>

<p>We can start by creating a new content type in our space called "Open Graph," which will have five fields:</p>

<ol>
<li><p>Title: short text</p></li>
<li><p>Content: single reference (in our case, referencing blog posts)</p></li>
<li><p>Type: short text</p></li>
<li><p>Image: media</p></li>
<li><p>URL: short text</p></li>
</ol>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--5LIQEwtj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/26NLnEssKOHZr2AheAWXlX/234b6a5170d14e239d575008067b1333/Screen_Shot_2021-04-05_at_21.17.10.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--5LIQEwtj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/26NLnEssKOHZr2AheAWXlX/234b6a5170d14e239d575008067b1333/Screen_Shot_2021-04-05_at_21.17.10.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of Contentful content type" loading="lazy"></a></p>

<p>This content type does a few things. First, it allows editors to pick a reference entry. In many cases, this could be a blog post, web page, link or other type of media. In our example, we will be using the Open Graph content type in a blog. This means our Content reference field will reference "Blog Post" content types.</p>

<p>Second, we can automate the "Title" field by asking the editor to select a blog post and grabbing the title from that post. This is something we will look at when we dive into the code.</p>

<p>Lastly, we can create a custom button that will show the editor a preview of our Open Graph data as it might appear in a card UI such as Twitter or Facebook. </p>

<p>Now that we have our content type set up, let's start developing our app.</p>

<h2>
  <a name="creating-the-app" href="#creating-the-app">
  </a>
  Creating the app
</h2>

<p>For those that are familiar with the App Framework and want to see the source code of the app, you can see it <a href="https://github.com/davidfateh/ctfl-open-graph">here on GitHub</a>. For those less familiar, I've written a few tutorials in the past about how to build apps. We also have a tutorial for beginners, <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/tutorial/">Building your first app</a>, where we explain all the necessary steps to get up and running.</p>

<p>An app is a single page application that runs inside of an iframe and can be rendered in different locations inside of the Contentful Web App. While building an app can be done using any framework (or lack thereof), I'm going to use the <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/create-contentful-app/">Create Contentful App</a> CLI tool, which will bootstrap a React app with all the necessary logic required to get up and running inside of Contentful.</p>

<p>To initialize and run our app locally, run these commands in your terminal:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight shell"><code>npx @contentful/create-contentful-app init open-graph
<span class="nb">cd </span>open-graph
npm start
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>The app is now running as a single page application on <a href="http://localhost:3000"><code>http://localhost:3000</code></a>. In order to see our app in Contentful, we will need to create an <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/app-definition/">AppDefinition</a> and assign our app to show up in the correct locations.</p>

<h2>
  <a name="creating-the-appdefinition" href="#creating-the-appdefinition">
  </a>
  Creating the AppDefinition
</h2>

<p>An AppDefinition is the entity that represents an app in Contentful. It contains general app information, like where it is visible. It also provides settings that enable it to <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/app-identity/">run independently</a>, or enable particular settings for any current and future installations.</p>

<p>Note: In order to create an AppDefinition, you must be a Contentful organization admin or developer. If you are not, you can ask your admin for access or sign up for a free Contentful account to use as a sandbox.</p>

<p>Let's create a new AppDefinition. Go to your organization settings. In the top menu, select Apps. From here we will create a new AppDefinition with the following properties:</p>

<ol>
<li><p>Name: Open Graph</p></li>
<li><p>App URL: <a href="http://localhost:3000">http://localhost:3000</a> (remember this is running on our machine)</p></li>
<li><p>First location: Field - short text </p></li>
<li><p>Second location: Page</p></li>
</ol>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LMOtAZsy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7H3cqMw2syEFITf1rAIga8/49d7a778e441043cbc09bb818a38bb0b/Screen_Shot_2021-04-05_at_21.40.40.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LMOtAZsy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7H3cqMw2syEFITf1rAIga8/49d7a778e441043cbc09bb818a38bb0b/Screen_Shot_2021-04-05_at_21.40.40.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of the new AppDefinition field in Contentful" loading="lazy"></a></p>

<p>Once filled in, hit the Create button in the top-right corner. Next, let's install our app into the space where we created our Open Graph content type.</p>

<h2>
  <a name="installing-and-developing-the-app" href="#installing-and-developing-the-app">
  </a>
  Installing and developing the app
</h2>

<p>To install the app, head over to the space where we created our Open Graph content type. In the Apps menu bar, click "Manage apps" then find the Open Graph app in the list of available apps (it will show up with a private tag next to it). Click Install.</p>

<p>Once our app is installed, it is ready to be assigned to our Open Graph content type. Navigate to the Content Model page and select the Open Graph content type. In there we will modify the settings of our "Title" field by navigating to the appearance area selecting our Open Graph app. Click save.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gZ30MJeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7GIlbdE4AYLwgygiQFPEhW/aee464fe177036b840cf514164fb1d0c/Screen_Shot_2021-04-05_at_21.45.33.png%3Ffm%3Dwebp" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gZ30MJeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7GIlbdE4AYLwgygiQFPEhW/aee464fe177036b840cf514164fb1d0c/Screen_Shot_2021-04-05_at_21.45.33.png%3Ffm%3Dwebp" alt="Illustration of the Open Graph content type in Contentful" loading="lazy"></a></p>

<p>Now, create a new Open Graph entry to see how the app renders. We can see that our app is rendering by the message that is showing up in our Title field. Of course, we'd like it if our title field actually showed a title instead of a developer message, so at this point it is time to dive into the code that was created earlier by our create-contentful-app CLI tool.</p>

<p>To start, create a field that shows a title based off of the reference blog post in our Content field. To get this functionality, we will make use of <a href="https://f36.contentful.com/">Forma 36 --- the Contentful Design System</a> to implement UI elements which have the same look and feel as Contentful itself. We're going to use a TextInput which will be disabled for manual editing but will automatically pull the title information from our content reference field.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--j1nkKwQv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/1ia9R6cdEAqPvWFfVEPF3R/911c027646ca428c0b3d13652084478e/Screen_Shot_2021-04-05_at_21.51.33.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--j1nkKwQv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/1ia9R6cdEAqPvWFfVEPF3R/911c027646ca428c0b3d13652084478e/Screen_Shot_2021-04-05_at_21.51.33.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of the process of creating an Open Graph entry" loading="lazy"></a></p>

<p>In our code, modify src/components/Field.tsx to create a better experience.</p>

<p>To start, import a few libraries that come out of the box when we ran the create-contentful-app CLI commands:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">Note</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">FieldExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/app-sdk</span><span class="dl">'</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>We are using React here for our UI. Tokens is a Forma 36 utility that will provide us with certain variables like color and sizing. The Forma 36 components also come out of the box and will be useful for constructing our UI. Since we are using TypeScript, I'm also including the SDK typings by default.</p>

<p>Next, we'll want to modify the component itself to handle state, pull information from another field and render some UI.</p>

<p>First, create some state:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">Field</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">FieldProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="c1">// Get the title of the field and create a setter</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">title</span><span class="p">,</span> <span class="nx">setTitle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Next, listen for changes to our <code>content</code> reference field. When the <code>content</code> field has been populated with data, grab the entry, find the title and set that as the title in state. Also save that as the title field's value in the Open Graph content type.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=></span> <span class="p">{</span>
    <span class="c1">// Resize the field so it isn't cut off in the UI</span>
    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">startAutoResizer</span><span class="p">();</span>

    <span class="c1">// when the value of the `content` field changes, set the title</span>
    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">onValueChanged</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setTitle</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="c1">// The content field is a reference to a blog post.</span>
      <span class="c1">// We want to grab that full entry to get the `title` of it</span>
      <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">BlogPost</span><span class="o">></span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">title</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">];</span>
          <span class="nx">setTitle</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
          <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Last, we can render our UI based on the above logic to give editors some validation hints. We can either warn that a reference needs to be picked, or if a reference is picked, to use the correct title information in our field. We are also going to include a button, which will open up our page location by passing the entry's ID. We will touch on that more below.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">title</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="o">></span><span class="nx">Link</span> <span class="nx">a</span> <span class="nx">blog</span> <span class="nx">post</span> <span class="nx">below</span> <span class="nx">to</span> <span class="nx">assign</span> <span class="nx">a</span> <span class="nx">title</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/Note</span><span class="err">>
</span>  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;></span>
      <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">disabled</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="na">marginBottom</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingM</span><span class="p">}}</span><span class="sr">/</span><span class="err">>
</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=></span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openCurrentAppPage</span><span class="p">({</span><span class="na">path</span><span class="p">:</span> <span class="s2">`/</span><span class="p">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getSys</span><span class="p">().</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">})}</span> <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">naked</span><span class="dl">"</span><span class="o">></span><span class="nx">Preview</span> <span class="nx">Open</span> <span class="nx">Graph</span><span class="o">&lt;</span><span class="sr">/Button</span><span class="err">>
</span>    <span class="o">&lt;</span><span class="sr">/</span><span class="err">>
</span>  <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Our full component code looks like this now:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">'</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">Note</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">FieldExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/app-sdk</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">FieldProps</span> <span class="p">{</span>
  <span class="nl">sdk</span><span class="p">:</span> <span class="nx">FieldExtensionSDK</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Custom type to denote a blog post content type</span>
<span class="kr">interface</span> <span class="nx">BlogPost</span> <span class="p">{</span>
  <span class="nl">sys</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">body</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>
    <span class="nl">title</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">};</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">Field</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">FieldProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
  <span class="c1">// Get the title of the field and create a setter</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">title</span><span class="p">,</span> <span class="nx">setTitle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=></span> <span class="p">{</span>
    <span class="c1">// Resize the field so it isn't cut off in the UI</span>
    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">startAutoResizer</span><span class="p">();</span>

    <span class="c1">// when the value of the `content` field changes, set the title</span>
    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">onValueChanged</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setTitle</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="c1">// The content field is a reference to a blog post.</span>
      <span class="c1">// We want to grab that full entry to get the `title` of it</span>
      <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">BlogPost</span><span class="o">></span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">title</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">];</span>
          <span class="nx">setTitle</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
          <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">title</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="o">></span><span class="nx">Link</span> <span class="nx">a</span> <span class="nx">blog</span> <span class="nx">post</span> <span class="nx">below</span> <span class="nx">to</span> <span class="nx">assign</span> <span class="nx">a</span> <span class="nx">title</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/Note</span><span class="err">>
</span>  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;></span>
      <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">disabled</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="na">marginBottom</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingM</span><span class="p">}}</span><span class="sr">/</span><span class="err">>
</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=></span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openCurrentAppPage</span><span class="p">({</span><span class="na">path</span><span class="p">:</span> <span class="s2">`/</span><span class="p">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getSys</span><span class="p">().</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">})}</span> <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">naked</span><span class="dl">"</span><span class="o">></span><span class="nx">Preview</span> <span class="nx">Open</span> <span class="nx">Graph</span><span class="o">&lt;</span><span class="sr">/Button</span><span class="err">>
</span>    <span class="o">&lt;</span><span class="sr">/</span><span class="err">>
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Field</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Now that we have a field that can automatically pull a title from the referenced blog post, we also want to build out a page location, which will show a preview of the Open Graph to editors when they click the preview button. The button is under our Title and says "Preview Open Graph." This button will direct us to our page location which we will create soon.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6mDXIXBU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3nZPJqbSOG5Q3wr8Wnlv9U/00a29a683e90325a44b8478db9ed426d/Screen_Shot_2021-04-05_at_21.51.33__1_.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6mDXIXBU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3nZPJqbSOG5Q3wr8Wnlv9U/00a29a683e90325a44b8478db9ed426d/Screen_Shot_2021-04-05_at_21.51.33__1_.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of Open Graph title preview function" loading="lazy"></a></p>

<p>Let's start by modifying our src/components/Page.tsx file. Again, we are going to import a few things from Forma 36 in order to build a nice preview UI for our Open Graph components.<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
    <span class="nx">Card</span><span class="p">,</span>
    <span class="nx">Note</span><span class="p">,</span>
    <span class="nx">Heading</span><span class="p">,</span>
    <span class="nx">Paragraph</span><span class="p">,</span>
    <span class="nx">Typography</span><span class="p">,</span>
    <span class="nx">TextLink</span><span class="p">,</span>
    <span class="nx">Button</span><span class="p">,</span>
    <span class="nx">SkeletonBodyText</span><span class="p">,</span>
    <span class="nx">SkeletonContainer</span><span class="p">,</span>
    <span class="nx">SkeletonDisplayText</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">PageExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/app-sdk</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">In</span> <span class="nx">the</span> <span class="nx">Page</span> <span class="nx">component</span><span class="p">,</span> <span class="nx">check</span> <span class="nx">the</span> <span class="nx">URL</span> <span class="nx">parameters</span> <span class="nx">that</span> <span class="nx">we</span> <span class="nx">passed</span> <span class="k">in</span> <span class="nx">when</span> <span class="nx">the</span> <span class="nx">editor</span> <span class="nx">clicked</span> <span class="nx">the</span> <span class="nx">button</span><span class="p">:</span>

<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">PageProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
    <span class="c1">// false indicates an error occurred</span>
    <span class="c1">// otherwise the entry is loading or loaded</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">entry</span><span class="p">,</span> <span class="nx">setEntry</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">OpenGraphPreview</span> <span class="o">|</span> <span class="kc">false</span><span class="o">></span><span class="p">();</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=></span> <span class="p">{</span>
        <span class="c1">// Get the entry ID which is passed in via the URL</span>
        <span class="kd">const</span> <span class="nx">entryId</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">parameters</span><span class="p">?.</span><span class="nx">invocation</span><span class="p">?.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>

        <span class="c1">// If no entry ID exists, show an error message by setting content to false</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entryId</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">setEntry</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>We use <code>sdk.parameters.invocation.path</code> to access the custom path in the URL of our app, which was passed in by <code>sdk.navigator.openCurrentAppPage</code> from our field component as the on click function of the button.</p>

<p>Now, complete the <code>useEffect</code> function with some network calls to get all the data we need to display the preview:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code>        <span class="c1">// Get the entry data by getting the linked asset and content body</span>
        <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">OpenGraphEntry</span><span class="o">></span><span class="p">(</span><span class="nx">entryId</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
            <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
                <span class="c1">// Grabs the Image asset of the Open Graph content type</span>
                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getAsset</span><span class="o">&lt;</span><span class="nx">Asset</span><span class="o">></span><span class="p">(</span>
                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">image</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>
                <span class="p">),</span>
                <span class="c1">// Grabs the long text body of the blog post</span>
                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">Content</span><span class="o">></span><span class="p">(</span>
                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>
                <span class="p">),</span>
            <span class="p">]).</span><span class="nx">then</span><span class="p">(([</span><span class="nx">asset</span><span class="p">,</span> <span class="nx">content</span><span class="p">])</span> <span class="o">=></span> <span class="p">{</span>
                <span class="c1">// combine the data from the two `space` calls</span>
                <span class="nx">setEntry</span><span class="p">({</span>
                    <span class="na">title</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">imageUrl</span><span class="p">:</span> <span class="nx">asset</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">url</span><span class="p">,</span>
                    <span class="na">previewBody</span><span class="p">:</span> <span class="nx">content</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">url</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">url</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">id</span><span class="p">:</span> <span class="nx">entryId</span><span class="p">,</span>
                <span class="p">});</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">},</span> <span class="p">[]);</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>Notice that we're using <code>Promise.all</code> to get data about the entry and the image asset which we will use in our preview.</p>

<p>Now render the component UI:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code>    <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">negative</span><span class="dl">"</span><span class="o">></span><span class="nb">Error</span> <span class="nx">retrieving</span> <span class="nx">entry</span><span class="o">!&lt;</span><span class="sr">/Note></span><span class="err">;
</span>    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span>
            <span class="nx">style</span><span class="o">=</span><span class="p">{{</span>
                <span class="na">display</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flex</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100%</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">height</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100vh</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">alignItems</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">marginTop</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">,</span>
                <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
            <span class="p">}}</span>
        <span class="o">></span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">Heading</span><span class="o">></span>
                    <span class="nx">Open</span> <span class="nx">Graph</span> <span class="nx">Preview</span>
                <span class="o">&lt;</span><span class="sr">/Heading</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Card</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">260px</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="p">{</span><span class="o">!</span><span class="nx">entry</span> <span class="p">?</span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer> </span><span class="err">:
</span>                <span class="o">&lt;></span>
                    <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">></span>
                        <span class="o">&lt;</span><span class="nx">TextLink</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="o">></span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/TextLink</span><span class="err">>
</span>                        <span class="o">&lt;</span><span class="nx">Paragraph</span><span class="o">></span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">previewBody</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Paragraph</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">imageUrl</span><span class="p">}</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">""</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">200px</span><span class="dl">'</span> <span class="p">}}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/></span><span class="err">}
</span>            <span class="o">&lt;</span><span class="sr">/Card</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Button</span>
                <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">muted</span><span class="dl">"</span>
                <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">entry</span><span class="p">}</span>
                <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=></span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">(</span><span class="nx">entry</span><span class="o">!</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span>
                <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">margin</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">}</span><span class="s2"> 0`</span> <span class="p">}}</span>
            <span class="o">></span>
                <span class="nx">Back</span> <span class="nx">to</span> <span class="nx">entry</span>
            <span class="o">&lt;</span><span class="sr">/Button</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>    <span class="p">);</span>
<span class="p">};</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>For the most part, I am using Skeleton components, which are for looks; they show a loading preview. The Card component is used for actually displaying the content in the Open Graph card. All together, the Page component code looks like this:<br>
</p>

<div class="highlight js-code-highlight">
<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span>
    <span class="nx">Card</span><span class="p">,</span>
    <span class="nx">Note</span><span class="p">,</span>
    <span class="nx">Heading</span><span class="p">,</span>
    <span class="nx">Paragraph</span><span class="p">,</span>
    <span class="nx">Typography</span><span class="p">,</span>
    <span class="nx">TextLink</span><span class="p">,</span>
    <span class="nx">Button</span><span class="p">,</span>
    <span class="nx">SkeletonBodyText</span><span class="p">,</span>
    <span class="nx">SkeletonContainer</span><span class="p">,</span>
    <span class="nx">SkeletonDisplayText</span><span class="p">,</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">PageExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@contentful/app-sdk</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">PageProps</span> <span class="p">{</span>
    <span class="nl">sdk</span><span class="p">:</span> <span class="nx">PageExtensionSDK</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// An open graph content type</span>
<span class="kr">interface</span> <span class="nx">OpenGraphEntry</span> <span class="p">{</span>
    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="nl">type</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="nl">url</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
        <span class="p">};</span>
        <span class="nl">image</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">sys</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
                <span class="p">};</span>
            <span class="p">};</span>
        <span class="p">};</span>
        <span class="nl">content</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">sys</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
                <span class="p">};</span>
            <span class="p">};</span>
        <span class="p">};</span>
    <span class="p">};</span>
    <span class="nl">sys</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// A custom shape for the entry we are going to render in our UI</span>
<span class="kr">interface</span> <span class="nx">OpenGraphPreview</span> <span class="p">{</span>
    <span class="nl">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="nl">imageUrl</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="nl">previewBody</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
    <span class="nl">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Content</span> <span class="p">{</span>
    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">body</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Asset</span> <span class="p">{</span>
    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">file</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>
            <span class="p">};</span>
        <span class="p">};</span>
    <span class="p">};</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">PageProps</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
    <span class="c1">// false indicates an error occurred</span>
    <span class="c1">// otherwise the entry is loading or loaded</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">entry</span><span class="p">,</span> <span class="nx">setEntry</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">OpenGraphPreview</span> <span class="o">|</span> <span class="kc">false</span><span class="o">></span><span class="p">();</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=></span> <span class="p">{</span>
        <span class="c1">// Get the entry ID which is passed in via the URL</span>
        <span class="c1">// @ts-ignore</span>
        <span class="kd">const</span> <span class="nx">entryId</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">parameters</span><span class="p">?.</span><span class="nx">invocation</span><span class="p">?.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">);</span>

        <span class="c1">// If no entry ID exists, show an error message by setting content to false</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entryId</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">setEntry</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1">// Get the entry data by getting the linked asset and content body</span>
        <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">OpenGraphEntry</span><span class="o">></span><span class="p">(</span><span class="nx">entryId</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=></span> <span class="p">{</span>
            <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>
                <span class="c1">// Grabs the Image asset of the Open Graph content type</span>
                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getAsset</span><span class="o">&lt;</span><span class="nx">Asset</span><span class="o">></span><span class="p">(</span>
                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">image</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>
                <span class="p">),</span>
                <span class="c1">// Grabs the long text body of the blog post</span>
                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">Content</span><span class="o">></span><span class="p">(</span>
                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>
                <span class="p">),</span>
            <span class="p">]).</span><span class="nx">then</span><span class="p">(([</span><span class="nx">asset</span><span class="p">,</span> <span class="nx">content</span><span class="p">])</span> <span class="o">=></span> <span class="p">{</span>
                <span class="c1">// combine the data from the two `space` calls</span>
                <span class="nx">setEntry</span><span class="p">({</span>
                    <span class="na">title</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">imageUrl</span><span class="p">:</span> <span class="nx">asset</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">].</span><span class="nx">url</span><span class="p">,</span>
                    <span class="na">previewBody</span><span class="p">:</span> <span class="nx">content</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">url</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">url</span><span class="p">[</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">],</span>
                    <span class="na">id</span><span class="p">:</span> <span class="nx">entryId</span><span class="p">,</span>
                <span class="p">});</span>
            <span class="p">});</span>
        <span class="p">});</span>
    <span class="p">},</span> <span class="p">[]);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">negative</span><span class="dl">"</span><span class="o">></span><span class="nb">Error</span> <span class="nx">retrieving</span> <span class="nx">entry</span><span class="o">!&lt;</span><span class="sr">/Note></span><span class="err">;
</span>    <span class="p">}</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span>
            <span class="nx">style</span><span class="o">=</span><span class="p">{{</span>
                <span class="na">display</span><span class="p">:</span> <span class="dl">'</span><span class="s1">flex</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100%</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">height</span><span class="p">:</span> <span class="dl">'</span><span class="s1">100vh</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">alignItems</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">marginTop</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">,</span>
                <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span>
            <span class="p">}}</span>
        <span class="o">></span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">Heading</span><span class="o">></span>
                    <span class="nx">Open</span> <span class="nx">Graph</span> <span class="nx">Preview</span>
                <span class="o">&lt;</span><span class="sr">/Heading</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Card</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">260px</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="p">{</span><span class="o">!</span><span class="nx">entry</span> <span class="p">?</span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer> </span><span class="err">:
</span>                <span class="o">&lt;></span>
                    <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">></span>
                        <span class="o">&lt;</span><span class="nx">TextLink</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="o">></span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/TextLink</span><span class="err">>
</span>                        <span class="o">&lt;</span><span class="nx">Paragraph</span><span class="o">></span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">previewBody</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Paragraph</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">imageUrl</span><span class="p">}</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">""</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">200px</span><span class="dl">'</span> <span class="p">}}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/></span><span class="err">}
</span>            <span class="o">&lt;</span><span class="sr">/Card</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">Button</span>
                <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">muted</span><span class="dl">"</span>
                <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">entry</span><span class="p">}</span>
                <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=></span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">(</span><span class="nx">entry</span><span class="o">!</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span>
                <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">margin</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">}</span><span class="s2"> 0`</span> <span class="p">}}</span>
            <span class="o">></span>
                <span class="nx">Back</span> <span class="nx">to</span> <span class="nx">entry</span>
            <span class="o">&lt;</span><span class="sr">/Button</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">'</span><span class="s1">center</span><span class="dl">'</span> <span class="p">}}</span><span class="o">></span>
                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">></span>
                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">>
</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">>
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">>
</span>    <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Page</span><span class="p">;</span>
</code></pre>
<div class="highlight__panel js-actions-panel">
<div class="highlight__panel-action js-fullscreen-code-action">
    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>
    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>
</svg>

    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>
    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>
</svg>

</div>
</div>
</div>



<p>In the final code, I've added some <a href="https://github.com/davidfateh/ctfl-open-graph/blob/main/src/components/Page.tsx#L22">Typescript interfaces</a> to ensure we are working with the correct data structures. If you'd like to check out the complete code, visit the repo: <a href="https://github.com/davidfateh/ctfl-open-graph">davidfateh/ctfl-open-graph: Multi location app for Open Graph</a>.</p>

<p>If you'd like to go beyond this functionality, Salma recently <a href="https://www.contentful.com/blog/2021/03/17/puppeteer-node-open-graph-screenshot-for-socials/">wrote a post</a> on solving this issue using Puppeteer and Node.js to generate this data programmatically.</p>

<h2>
  <a name="final-thoughts" href="#final-thoughts">
  </a>
  Final thoughts
</h2>

<p>Passing data between app locations can be very useful for creating cohesive experiences for editors as they work on content that is meant to be visualized in different ways. The Open Graph app is one example of how retrieving entry data and passing it around inside of an app can extend some basic functionality.</p>

<p>If you have an app idea or are working on a prototype, our <a href="https://www.contentful.com/slack/">Slack Community</a> can be very helpful if you want to share or get help implementing ideas. You can take advantage of some of the cool things we are doing and discussing over there. Our extensibility team and I are active in our community, and we are always curious to hear ideas about your next big projects!</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/shy/how-to-build-a-multi-location-app-for-the-open-graph-protocol-2ao6" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(s,a,n,p){return p.type_of="article",p.id=736855,p.title="How to build a multi-location app for the Open Graph protocol",p.description="I'm cross-posting this article for my Colleague David Fateh. Check out the original post over on the...",p.readable_publish_date="Jun 23 '21",p.slug="how-to-build-a-multi-location-app-for-the-open-graph-protocol-2ao6",p.path="/contentful/how-to-build-a-multi-location-app-for-the-open-graph-protocol-2ao6",p.url="https://dev.to/contentful/how-to-build-a-multi-location-app-for-the-open-graph-protocol-2ao6",p.comments_count=0,p.public_reactions_count=4,p.collection_id=13352,p.published_timestamp=s,p.positive_reactions_count=4,p.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--6KHtW5Hq--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dox5vw789fym3eimyv88.png",p.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--5hv1fMcs--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dox5vw789fym3eimyv88.png",p.canonical_url="https://www.contentful.com/blog/2021/04/27/build-multi-location-app-open-graph-protocol/",p.created_at=s,p.edited_at="2021-06-23T14:52:41Z",p.crossposted_at=a,p.published_at=s,p.last_comment_at=s,p.reading_time_minutes=12,p.tag_list="opengraph, contentful, webdev",p.tags=["opengraph",n,"webdev"],p.body_html='<p>I\'m cross-posting this article for my <a href="https://www.contentful.com/blog/author/david-fateh/">Colleague David Fateh</a>. Check out the original post over on the <a href="https://www.contentful.com/blog/2021/04/27/build-multi-location-app-open-graph-protocol/">Contentful Blog</a>.</p>\n\n<p>If you are a content creator for the web, you may have used the <a href="https://ogp.me/">Open Graph protocol</a>. The Open Graph protocol is a way to display and share information about your resource on the internet. You may have seen these in action when sharing websites and URLs on Twitter and Facebook, or when you are chatting with your coworkers on Slack. The preview and metadata for the link is shown to the user as in the Twitter post below.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--tOVlOOM---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3BYIx2tORD34uKCN86t8gV/21e2c596480ca96626459372916b3c58/Screen_Shot_2021-04-05_at_21.10.32.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--tOVlOOM---/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3BYIx2tORD34uKCN86t8gV/21e2c596480ca96626459372916b3c58/Screen_Shot_2021-04-05_at_21.10.32.png" alt="Screenshot of Harald Wartig\'s tweet" loading="lazy"></a></p>\n\n<p>Building an app on the <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/">App Framework</a> can be as simple as creating a single custom button or as complicated as composing multiple components in different locations of Contentful. I want to run through an example app I\'ve created which makes use of the App Framework\'s ability to handle complexity, but more importantly shows how to pass data between different <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/locations/">app locations</a>.</p>\n\n<p>In Contentful, we can create our own Open Graph data by making use of a simple content type that provides the user with the necessary fields to show these kinds of previews. Then, using the App Framework, we can augment the editor experience to allow for automated title generation of our content as well as a visual preview.</p>\n\n<p>In this post, we will cover a two things: 1. Creating a content type to handle simple Open Graph data. 2. Creating an app which helps visualize the data and allows for a preview mode. 3. When all is said and done, our Open Graph content type will still need to be pulled from a Contentful API response when we generate our web pages. The information contained in an Open Graph entry will be enough information to populate meta tags in the head of our HTML filles. Let\'s get started!</p>\n\n<h2>\n  <a name="creating-the-content-type" href="#creating-the-content-type">\n  </a>\n  Creating the content type\n</h2>\n\n<p>We can start by creating a new content type in our space called "Open Graph," which will have five fields:</p>\n\n<ol>\n<li><p>Title: short text</p></li>\n<li><p>Content: single reference (in our case, referencing blog posts)</p></li>\n<li><p>Type: short text</p></li>\n<li><p>Image: media</p></li>\n<li><p>URL: short text</p></li>\n</ol>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--5LIQEwtj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/26NLnEssKOHZr2AheAWXlX/234b6a5170d14e239d575008067b1333/Screen_Shot_2021-04-05_at_21.17.10.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--5LIQEwtj--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/26NLnEssKOHZr2AheAWXlX/234b6a5170d14e239d575008067b1333/Screen_Shot_2021-04-05_at_21.17.10.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of Contentful content type" loading="lazy"></a></p>\n\n<p>This content type does a few things. First, it allows editors to pick a reference entry. In many cases, this could be a blog post, web page, link or other type of media. In our example, we will be using the Open Graph content type in a blog. This means our Content reference field will reference "Blog Post" content types.</p>\n\n<p>Second, we can automate the "Title" field by asking the editor to select a blog post and grabbing the title from that post. This is something we will look at when we dive into the code.</p>\n\n<p>Lastly, we can create a custom button that will show the editor a preview of our Open Graph data as it might appear in a card UI such as Twitter or Facebook. </p>\n\n<p>Now that we have our content type set up, let\'s start developing our app.</p>\n\n<h2>\n  <a name="creating-the-app" href="#creating-the-app">\n  </a>\n  Creating the app\n</h2>\n\n<p>For those that are familiar with the App Framework and want to see the source code of the app, you can see it <a href="https://github.com/davidfateh/ctfl-open-graph">here on GitHub</a>. For those less familiar, I\'ve written a few tutorials in the past about how to build apps. We also have a tutorial for beginners, <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/tutorial/">Building your first app</a>, where we explain all the necessary steps to get up and running.</p>\n\n<p>An app is a single page application that runs inside of an iframe and can be rendered in different locations inside of the Contentful Web App. While building an app can be done using any framework (or lack thereof), I\'m going to use the <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/create-contentful-app/">Create Contentful App</a> CLI tool, which will bootstrap a React app with all the necessary logic required to get up and running inside of Contentful.</p>\n\n<p>To initialize and run our app locally, run these commands in your terminal:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight shell"><code>npx @contentful/create-contentful-app init open-graph\n<span class="nb">cd </span>open-graph\nnpm start\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>The app is now running as a single page application on <a href="http://localhost:3000"><code>http://localhost:3000</code></a>. In order to see our app in Contentful, we will need to create an <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/app-definition/">AppDefinition</a> and assign our app to show up in the correct locations.</p>\n\n<h2>\n  <a name="creating-the-appdefinition" href="#creating-the-appdefinition">\n  </a>\n  Creating the AppDefinition\n</h2>\n\n<p>An AppDefinition is the entity that represents an app in Contentful. It contains general app information, like where it is visible. It also provides settings that enable it to <a href="https://www.contentful.com/developers/docs/extensibility/app-framework/app-identity/">run independently</a>, or enable particular settings for any current and future installations.</p>\n\n<p>Note: In order to create an AppDefinition, you must be a Contentful organization admin or developer. If you are not, you can ask your admin for access or sign up for a free Contentful account to use as a sandbox.</p>\n\n<p>Let\'s create a new AppDefinition. Go to your organization settings. In the top menu, select Apps. From here we will create a new AppDefinition with the following properties:</p>\n\n<ol>\n<li><p>Name: Open Graph</p></li>\n<li><p>App URL: <a href="http://localhost:3000">http://localhost:3000</a> (remember this is running on our machine)</p></li>\n<li><p>First location: Field - short text </p></li>\n<li><p>Second location: Page</p></li>\n</ol>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LMOtAZsy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7H3cqMw2syEFITf1rAIga8/49d7a778e441043cbc09bb818a38bb0b/Screen_Shot_2021-04-05_at_21.40.40.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LMOtAZsy--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7H3cqMw2syEFITf1rAIga8/49d7a778e441043cbc09bb818a38bb0b/Screen_Shot_2021-04-05_at_21.40.40.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of the new AppDefinition field in Contentful" loading="lazy"></a></p>\n\n<p>Once filled in, hit the Create button in the top-right corner. Next, let\'s install our app into the space where we created our Open Graph content type.</p>\n\n<h2>\n  <a name="installing-and-developing-the-app" href="#installing-and-developing-the-app">\n  </a>\n  Installing and developing the app\n</h2>\n\n<p>To install the app, head over to the space where we created our Open Graph content type. In the Apps menu bar, click "Manage apps" then find the Open Graph app in the list of available apps (it will show up with a private tag next to it). Click Install.</p>\n\n<p>Once our app is installed, it is ready to be assigned to our Open Graph content type. Navigate to the Content Model page and select the Open Graph content type. In there we will modify the settings of our "Title" field by navigating to the appearance area selecting our Open Graph app. Click save.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--gZ30MJeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7GIlbdE4AYLwgygiQFPEhW/aee464fe177036b840cf514164fb1d0c/Screen_Shot_2021-04-05_at_21.45.33.png%3Ffm%3Dwebp" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--gZ30MJeQ--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/7GIlbdE4AYLwgygiQFPEhW/aee464fe177036b840cf514164fb1d0c/Screen_Shot_2021-04-05_at_21.45.33.png%3Ffm%3Dwebp" alt="Illustration of the Open Graph content type in Contentful" loading="lazy"></a></p>\n\n<p>Now, create a new Open Graph entry to see how the app renders. We can see that our app is rendering by the message that is showing up in our Title field. Of course, we\'d like it if our title field actually showed a title instead of a developer message, so at this point it is time to dive into the code that was created earlier by our create-contentful-app CLI tool.</p>\n\n<p>To start, create a field that shows a title based off of the reference blog post in our Content field. To get this functionality, we will make use of <a href="https://f36.contentful.com/">Forma 36 --- the Contentful Design System</a> to implement UI elements which have the same look and feel as Contentful itself. We\'re going to use a TextInput which will be disabled for manual editing but will automatically pull the title information from our content reference field.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--j1nkKwQv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/1ia9R6cdEAqPvWFfVEPF3R/911c027646ca428c0b3d13652084478e/Screen_Shot_2021-04-05_at_21.51.33.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--j1nkKwQv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/1ia9R6cdEAqPvWFfVEPF3R/911c027646ca428c0b3d13652084478e/Screen_Shot_2021-04-05_at_21.51.33.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of the process of creating an Open Graph entry" loading="lazy"></a></p>\n\n<p>In our code, modify src/components/Field.tsx to create a better experience.</p>\n\n<p>To start, import a few libraries that come out of the box when we ran the create-contentful-app CLI commands:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">Note</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">FieldExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/app-sdk</span><span class="dl">\'</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We are using React here for our UI. Tokens is a Forma 36 utility that will provide us with certain variables like color and sizing. The Forma 36 components also come out of the box and will be useful for constructing our UI. Since we are using TypeScript, I\'m also including the SDK typings by default.</p>\n\n<p>Next, we\'ll want to modify the component itself to handle state, pull information from another field and render some UI.</p>\n\n<p>First, create some state:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="kd">const</span> <span class="nx">Field</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">FieldProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="c1">// Get the title of the field and create a setter</span>\n  <span class="kd">const</span> <span class="p">[</span><span class="nx">title</span><span class="p">,</span> <span class="nx">setTitle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Next, listen for changes to our <code>content</code> reference field. When the <code>content</code> field has been populated with data, grab the entry, find the title and set that as the title in state. Also save that as the title field\'s value in the Open Graph content type.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code>  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="c1">// Resize the field so it isn\'t cut off in the UI</span>\n    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">startAutoResizer</span><span class="p">();</span>\n\n    <span class="c1">// when the value of the `content` field changes, set the title</span>\n    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">onValueChanged</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">setTitle</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>\n        <span class="k">return</span><span class="p">;</span>\n      <span class="p">}</span>\n\n      <span class="c1">// The content field is a reference to a blog post.</span>\n      <span class="c1">// We want to grab that full entry to get the `title` of it</span>\n      <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">BlogPost</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n        <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">title</span><span class="p">)</span> <span class="p">{</span>\n          <span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">];</span>\n          <span class="nx">setTitle</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>\n          <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>\n        <span class="p">}</span>\n      <span class="p">});</span>\n    <span class="p">});</span>\n  <span class="p">});</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Last, we can render our UI based on the above logic to give editors some validation hints. We can either warn that a reference needs to be picked, or if a reference is picked, to use the correct title information in our field. We are also going to include a button, which will open up our page location by passing the entry\'s ID. We will touch on that more below.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code>  <span class="k">if</span> <span class="p">(</span><span class="nx">title</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Link</span> <span class="nx">a</span> <span class="nx">blog</span> <span class="nx">post</span> <span class="nx">below</span> <span class="nx">to</span> <span class="nx">assign</span> <span class="nx">a</span> <span class="nx">title</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/Note</span><span class="err">&gt;\n</span>  <span class="p">}</span>\n\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="o">&lt;&gt;</span>\n      <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">disabled</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="na">marginBottom</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingM</span><span class="p">}}</span><span class="sr">/</span><span class="err">&gt;\n</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openCurrentAppPage</span><span class="p">({</span><span class="na">path</span><span class="p">:</span> <span class="s2">`/</span><span class="p">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getSys</span><span class="p">().</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">})}</span> <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">naked</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Preview</span> <span class="nx">Open</span> <span class="nx">Graph</span><span class="o">&lt;</span><span class="sr">/Button</span><span class="err">&gt;\n</span>    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;\n</span>  <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Our full component code looks like this now:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span><span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">\'</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">Note</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">FieldExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/app-sdk</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="kr">interface</span> <span class="nx">FieldProps</span> <span class="p">{</span>\n  <span class="nl">sdk</span><span class="p">:</span> <span class="nx">FieldExtensionSDK</span><span class="p">;</span>\n<span class="p">}</span>\n<span class="c1">// Custom type to denote a blog post content type</span>\n<span class="kr">interface</span> <span class="nx">BlogPost</span> <span class="p">{</span>\n  <span class="nl">sys</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n  <span class="p">};</span>\n  <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>\n    <span class="na">body</span><span class="p">:</span> <span class="nx">object</span><span class="p">;</span>\n    <span class="nl">title</span><span class="p">:</span> <span class="p">{</span>\n      <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="p">};</span>\n  <span class="p">};</span>\n<span class="p">};</span>\n\n<span class="kd">const</span> <span class="nx">Field</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">FieldProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n  <span class="c1">// Get the title of the field and create a setter</span>\n  <span class="kd">const</span> <span class="p">[</span><span class="nx">title</span><span class="p">,</span> <span class="nx">setTitle</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">getValue</span><span class="p">()</span> <span class="o">||</span> <span class="kc">null</span><span class="p">);</span>\n\n  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="c1">// Resize the field so it isn\'t cut off in the UI</span>\n    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">window</span><span class="p">.</span><span class="nx">startAutoResizer</span><span class="p">();</span>\n\n    <span class="c1">// when the value of the `content` field changes, set the title</span>\n    <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">onValueChanged</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entry</span><span class="p">)</span> <span class="p">{</span>\n        <span class="nx">setTitle</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>\n        <span class="k">return</span><span class="p">;</span>\n      <span class="p">}</span>\n\n      <span class="c1">// The content field is a reference to a blog post.</span>\n      <span class="c1">// We want to grab that full entry to get the `title` of it</span>\n      <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">BlogPost</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n        <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">]</span> <span class="o">!==</span> <span class="nx">title</span><span class="p">)</span> <span class="p">{</span>\n          <span class="kd">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">];</span>\n          <span class="nx">setTitle</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>\n          <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">field</span><span class="p">.</span><span class="nx">setValue</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>\n        <span class="p">}</span>\n      <span class="p">});</span>\n    <span class="p">});</span>\n  <span class="p">});</span>\n\n  <span class="k">if</span> <span class="p">(</span><span class="nx">title</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>\n    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">warning</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Link</span> <span class="nx">a</span> <span class="nx">blog</span> <span class="nx">post</span> <span class="nx">below</span> <span class="nx">to</span> <span class="nx">assign</span> <span class="nx">a</span> <span class="nx">title</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/Note</span><span class="err">&gt;\n</span>  <span class="p">}</span>\n\n  <span class="k">return</span> <span class="p">(</span>\n    <span class="o">&lt;&gt;</span>\n      <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">disabled</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span><span class="na">marginBottom</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingM</span><span class="p">}}</span><span class="sr">/</span><span class="err">&gt;\n</span>      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openCurrentAppPage</span><span class="p">({</span><span class="na">path</span><span class="p">:</span> <span class="s2">`/</span><span class="p">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">entry</span><span class="p">.</span><span class="nx">getSys</span><span class="p">().</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">})}</span> <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">naked</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Preview</span> <span class="nx">Open</span> <span class="nx">Graph</span><span class="o">&lt;</span><span class="sr">/Button</span><span class="err">&gt;\n</span>    <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;\n</span>  <span class="p">);</span>\n<span class="p">};</span>\n\n<span class="k">export</span> <span class="k">default</span> <span class="nx">Field</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Now that we have a field that can automatically pull a title from the referenced blog post, we also want to build out a page location, which will show a preview of the Open Graph to editors when they click the preview button. The button is under our Title and says "Preview Open Graph." This button will direct us to our page location which we will create soon.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6mDXIXBU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3nZPJqbSOG5Q3wr8Wnlv9U/00a29a683e90325a44b8478db9ed426d/Screen_Shot_2021-04-05_at_21.51.33__1_.png%3Ffm%3Dwebp%26q%3D1" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6mDXIXBU--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://images.ctfassets.net/fo9twyrwpveg/3nZPJqbSOG5Q3wr8Wnlv9U/00a29a683e90325a44b8478db9ed426d/Screen_Shot_2021-04-05_at_21.51.33__1_.png%3Ffm%3Dwebp%26q%3D1" alt="Screenshot of Open Graph title preview function" loading="lazy"></a></p>\n\n<p>Let\'s start by modifying our src/components/Page.tsx file. Again, we are going to import a few things from Forma 36 in order to build a nice preview UI for our Open Graph components.<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span>\n    <span class="nx">Card</span><span class="p">,</span>\n    <span class="nx">Note</span><span class="p">,</span>\n    <span class="nx">Heading</span><span class="p">,</span>\n    <span class="nx">Paragraph</span><span class="p">,</span>\n    <span class="nx">Typography</span><span class="p">,</span>\n    <span class="nx">TextLink</span><span class="p">,</span>\n    <span class="nx">Button</span><span class="p">,</span>\n    <span class="nx">SkeletonBodyText</span><span class="p">,</span>\n    <span class="nx">SkeletonContainer</span><span class="p">,</span>\n    <span class="nx">SkeletonDisplayText</span><span class="p">,</span>\n<span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">PageExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/app-sdk</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="nx">In</span> <span class="nx">the</span> <span class="nx">Page</span> <span class="nx">component</span><span class="p">,</span> <span class="nx">check</span> <span class="nx">the</span> <span class="nx">URL</span> <span class="nx">parameters</span> <span class="nx">that</span> <span class="nx">we</span> <span class="nx">passed</span> <span class="k">in</span> <span class="nx">when</span> <span class="nx">the</span> <span class="nx">editor</span> <span class="nx">clicked</span> <span class="nx">the</span> <span class="nx">button</span><span class="p">:</span>\n\n<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">PageProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="c1">// false indicates an error occurred</span>\n    <span class="c1">// otherwise the entry is loading or loaded</span>\n    <span class="kd">const</span> <span class="p">[</span><span class="nx">entry</span><span class="p">,</span> <span class="nx">setEntry</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">OpenGraphPreview</span> <span class="o">|</span> <span class="kc">false</span><span class="o">&gt;</span><span class="p">();</span>\n\n    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n        <span class="c1">// Get the entry ID which is passed in via the URL</span>\n        <span class="kd">const</span> <span class="nx">entryId</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">parameters</span><span class="p">?.</span><span class="nx">invocation</span><span class="p">?.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">\'</span><span class="s1">/</span><span class="dl">\'</span><span class="p">,</span> <span class="dl">\'\'</span><span class="p">);</span>\n\n        <span class="c1">// If no entry ID exists, show an error message by setting content to false</span>\n        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entryId</span><span class="p">)</span> <span class="p">{</span>\n            <span class="nx">setEntry</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>\n            <span class="k">return</span><span class="p">;</span>\n        <span class="p">}</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We use <code>sdk.parameters.invocation.path</code> to access the custom path in the URL of our app, which was passed in by <code>sdk.navigator.openCurrentAppPage</code> from our field component as the on click function of the button.</p>\n\n<p>Now, complete the <code>useEffect</code> function with some network calls to get all the data we need to display the preview:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code>        <span class="c1">// Get the entry data by getting the linked asset and content body</span>\n        <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">OpenGraphEntry</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">entryId</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n            <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>\n                <span class="c1">// Grabs the Image asset of the Open Graph content type</span>\n                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getAsset</span><span class="o">&lt;</span><span class="nx">Asset</span><span class="o">&gt;</span><span class="p">(</span>\n                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">image</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>\n                <span class="p">),</span>\n                <span class="c1">// Grabs the long text body of the blog post</span>\n                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">Content</span><span class="o">&gt;</span><span class="p">(</span>\n                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>\n                <span class="p">),</span>\n            <span class="p">]).</span><span class="nx">then</span><span class="p">(([</span><span class="nx">asset</span><span class="p">,</span> <span class="nx">content</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>\n                <span class="c1">// combine the data from the two `space` calls</span>\n                <span class="nx">setEntry</span><span class="p">({</span>\n                    <span class="na">title</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">imageUrl</span><span class="p">:</span> <span class="nx">asset</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">url</span><span class="p">,</span>\n                    <span class="na">previewBody</span><span class="p">:</span> <span class="nx">content</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">url</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">url</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">id</span><span class="p">:</span> <span class="nx">entryId</span><span class="p">,</span>\n                <span class="p">});</span>\n            <span class="p">});</span>\n        <span class="p">});</span>\n    <span class="p">},</span> <span class="p">[]);</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Notice that we\'re using <code>Promise.all</code> to get data about the entry and the image asset which we will use in our preview.</p>\n\n<p>Now render the component UI:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code>    <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>\n        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">negative</span><span class="dl">"</span><span class="o">&gt;</span><span class="nb">Error</span> <span class="nx">retrieving</span> <span class="nx">entry</span><span class="o">!&lt;</span><span class="sr">/Note&gt;</span><span class="err">;\n</span>    <span class="p">}</span>\n\n    <span class="k">return</span> <span class="p">(</span>\n        <span class="o">&lt;</span><span class="nx">div</span>\n            <span class="nx">style</span><span class="o">=</span><span class="p">{{</span>\n                <span class="na">display</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">flex</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">100%</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">height</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">100vh</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">alignItems</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">marginTop</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">,</span>\n                <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">column</span><span class="dl">\'</span><span class="p">,</span>\n            <span class="p">}}</span>\n        <span class="o">&gt;</span>\n            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">Heading</span><span class="o">&gt;</span>\n                    <span class="nx">Open</span> <span class="nx">Graph</span> <span class="nx">Preview</span>\n                <span class="o">&lt;</span><span class="sr">/Heading</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Card</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">260px</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="p">{</span><span class="o">!</span><span class="nx">entry</span> <span class="p">?</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer&gt; </span><span class="err">:\n</span>                <span class="o">&lt;&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>\n                        <span class="o">&lt;</span><span class="nx">TextLink</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/TextLink</span><span class="err">&gt;\n</span>                        <span class="o">&lt;</span><span class="nx">Paragraph</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">previewBody</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Paragraph</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">imageUrl</span><span class="p">}</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">""</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">200px</span><span class="dl">\'</span> <span class="p">}}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/&gt;</span><span class="err">}\n</span>            <span class="o">&lt;</span><span class="sr">/Card</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Button</span>\n                <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">muted</span><span class="dl">"</span>\n                <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">entry</span><span class="p">}</span>\n                <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">(</span><span class="nx">entry</span><span class="o">!</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span>\n                <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">margin</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">}</span><span class="s2"> 0`</span> <span class="p">}}</span>\n            <span class="o">&gt;</span>\n                <span class="nx">Back</span> <span class="nx">to</span> <span class="nx">entry</span>\n            <span class="o">&lt;</span><span class="sr">/Button</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>    <span class="p">);</span>\n<span class="p">};</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>For the most part, I am using Skeleton components, which are for looks; they show a loading preview. The Card component is used for actually displaying the content in the Open Graph card. All together, the Page component code looks like this:<br>\n</p>\n\n<div class="highlight js-code-highlight">\n<pre class="highlight javascript"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">react</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span>\n    <span class="nx">Card</span><span class="p">,</span>\n    <span class="nx">Note</span><span class="p">,</span>\n    <span class="nx">Heading</span><span class="p">,</span>\n    <span class="nx">Paragraph</span><span class="p">,</span>\n    <span class="nx">Typography</span><span class="p">,</span>\n    <span class="nx">TextLink</span><span class="p">,</span>\n    <span class="nx">Button</span><span class="p">,</span>\n    <span class="nx">SkeletonBodyText</span><span class="p">,</span>\n    <span class="nx">SkeletonContainer</span><span class="p">,</span>\n    <span class="nx">SkeletonDisplayText</span><span class="p">,</span>\n<span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-react-components</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="nx">tokens</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/forma-36-tokens</span><span class="dl">\'</span><span class="p">;</span>\n<span class="k">import</span> <span class="p">{</span> <span class="nx">PageExtensionSDK</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">\'</span><span class="s1">@contentful/app-sdk</span><span class="dl">\'</span><span class="p">;</span>\n\n<span class="kr">interface</span> <span class="nx">PageProps</span> <span class="p">{</span>\n    <span class="nl">sdk</span><span class="p">:</span> <span class="nx">PageExtensionSDK</span><span class="p">;</span>\n<span class="p">}</span>\n\n<span class="c1">// An open graph content type</span>\n<span class="kr">interface</span> <span class="nx">OpenGraphEntry</span> <span class="p">{</span>\n    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>\n        <span class="na">title</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n        <span class="p">};</span>\n        <span class="nl">type</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n        <span class="p">};</span>\n        <span class="nl">url</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n        <span class="p">};</span>\n        <span class="nl">image</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n                <span class="na">sys</span><span class="p">:</span> <span class="p">{</span>\n                    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n                <span class="p">};</span>\n            <span class="p">};</span>\n        <span class="p">};</span>\n        <span class="nl">content</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n                <span class="na">sys</span><span class="p">:</span> <span class="p">{</span>\n                    <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n                <span class="p">};</span>\n            <span class="p">};</span>\n        <span class="p">};</span>\n    <span class="p">};</span>\n    <span class="nl">sys</span><span class="p">:</span> <span class="p">{</span>\n        <span class="na">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="p">};</span>\n<span class="p">}</span>\n\n<span class="c1">// A custom shape for the entry we are going to render in our UI</span>\n<span class="kr">interface</span> <span class="nx">OpenGraphPreview</span> <span class="p">{</span>\n    <span class="nl">id</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="nl">title</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="nl">imageUrl</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="nl">previewBody</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n    <span class="nl">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n<span class="p">}</span>\n\n<span class="kr">interface</span> <span class="nx">Content</span> <span class="p">{</span>\n    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>\n        <span class="na">body</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n        <span class="p">};</span>\n    <span class="p">};</span>\n<span class="p">}</span>\n\n<span class="kr">interface</span> <span class="nx">Asset</span> <span class="p">{</span>\n    <span class="nl">fields</span><span class="p">:</span> <span class="p">{</span>\n        <span class="na">file</span><span class="p">:</span> <span class="p">{</span>\n            <span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">:</span> <span class="p">{</span>\n                <span class="na">url</span><span class="p">:</span> <span class="nx">string</span><span class="p">;</span>\n            <span class="p">};</span>\n        <span class="p">};</span>\n    <span class="p">};</span>\n<span class="p">}</span>\n\n<span class="kd">const</span> <span class="nx">Page</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">:</span> <span class="nx">PageProps</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n    <span class="c1">// false indicates an error occurred</span>\n    <span class="c1">// otherwise the entry is loading or loaded</span>\n    <span class="kd">const</span> <span class="p">[</span><span class="nx">entry</span><span class="p">,</span> <span class="nx">setEntry</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">OpenGraphPreview</span> <span class="o">|</span> <span class="kc">false</span><span class="o">&gt;</span><span class="p">();</span>\n\n    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>\n        <span class="c1">// Get the entry ID which is passed in via the URL</span>\n        <span class="c1">// @ts-ignore</span>\n        <span class="kd">const</span> <span class="nx">entryId</span> <span class="o">=</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">parameters</span><span class="p">?.</span><span class="nx">invocation</span><span class="p">?.</span><span class="nx">path</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">\'</span><span class="s1">/</span><span class="dl">\'</span><span class="p">,</span> <span class="dl">\'\'</span><span class="p">);</span>\n\n        <span class="c1">// If no entry ID exists, show an error message by setting content to false</span>\n        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">entryId</span><span class="p">)</span> <span class="p">{</span>\n            <span class="nx">setEntry</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>\n            <span class="k">return</span><span class="p">;</span>\n        <span class="p">}</span>\n\n        <span class="c1">// Get the entry data by getting the linked asset and content body</span>\n        <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">OpenGraphEntry</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">entryId</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>\n            <span class="nb">Promise</span><span class="p">.</span><span class="nx">all</span><span class="p">([</span>\n                <span class="c1">// Grabs the Image asset of the Open Graph content type</span>\n                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getAsset</span><span class="o">&lt;</span><span class="nx">Asset</span><span class="o">&gt;</span><span class="p">(</span>\n                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">image</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>\n                <span class="p">),</span>\n                <span class="c1">// Grabs the long text body of the blog post</span>\n                <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nx">space</span><span class="p">.</span><span class="nx">getEntry</span><span class="o">&lt;</span><span class="nx">Content</span><span class="o">&gt;</span><span class="p">(</span>\n                    <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">content</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">sys</span><span class="p">.</span><span class="nx">id</span>\n                <span class="p">),</span>\n            <span class="p">]).</span><span class="nx">then</span><span class="p">(([</span><span class="nx">asset</span><span class="p">,</span> <span class="nx">content</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>\n                <span class="c1">// combine the data from the two `space` calls</span>\n                <span class="nx">setEntry</span><span class="p">({</span>\n                    <span class="na">title</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">title</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">imageUrl</span><span class="p">:</span> <span class="nx">asset</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">file</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">].</span><span class="nx">url</span><span class="p">,</span>\n                    <span class="na">previewBody</span><span class="p">:</span> <span class="nx">content</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">body</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">url</span><span class="p">:</span> <span class="nx">data</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">url</span><span class="p">[</span><span class="dl">\'</span><span class="s1">en-US</span><span class="dl">\'</span><span class="p">],</span>\n                    <span class="na">id</span><span class="p">:</span> <span class="nx">entryId</span><span class="p">,</span>\n                <span class="p">});</span>\n            <span class="p">});</span>\n        <span class="p">});</span>\n    <span class="p">},</span> <span class="p">[]);</span>\n\n    <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>\n        <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Note</span> <span class="nx">noteType</span><span class="o">=</span><span class="dl">"</span><span class="s2">negative</span><span class="dl">"</span><span class="o">&gt;</span><span class="nb">Error</span> <span class="nx">retrieving</span> <span class="nx">entry</span><span class="o">!&lt;</span><span class="sr">/Note&gt;</span><span class="err">;\n</span>    <span class="p">}</span>\n\n    <span class="k">return</span> <span class="p">(</span>\n        <span class="o">&lt;</span><span class="nx">div</span>\n            <span class="nx">style</span><span class="o">=</span><span class="p">{{</span>\n                <span class="na">display</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">flex</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">100%</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">height</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">100vh</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">alignItems</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span><span class="p">,</span>\n                <span class="na">marginTop</span><span class="p">:</span> <span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">,</span>\n                <span class="na">flexDirection</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">column</span><span class="dl">\'</span><span class="p">,</span>\n            <span class="p">}}</span>\n        <span class="o">&gt;</span>\n            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">Heading</span><span class="o">&gt;</span>\n                    <span class="nx">Open</span> <span class="nx">Graph</span> <span class="nx">Preview</span>\n                <span class="o">&lt;</span><span class="sr">/Heading</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Card</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">260px</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="p">{</span><span class="o">!</span><span class="nx">entry</span> <span class="p">?</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">3</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer&gt; </span><span class="err">:\n</span>                <span class="o">&lt;&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">Typography</span><span class="o">&gt;</span>\n                        <span class="o">&lt;</span><span class="nx">TextLink</span> <span class="nx">href</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">url</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/TextLink</span><span class="err">&gt;\n</span>                        <span class="o">&lt;</span><span class="nx">Paragraph</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">previewBody</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/Paragraph</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="sr">/Typography</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">entry</span><span class="p">.</span><span class="nx">imageUrl</span><span class="p">}</span> <span class="nx">alt</span><span class="o">=</span><span class="dl">""</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">200px</span><span class="dl">\'</span> <span class="p">}}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/&gt;</span><span class="err">}\n</span>            <span class="o">&lt;</span><span class="sr">/Card</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">Button</span>\n                <span class="nx">buttonType</span><span class="o">=</span><span class="dl">"</span><span class="s2">muted</span><span class="dl">"</span>\n                <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">entry</span><span class="p">}</span>\n                <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">sdk</span><span class="p">.</span><span class="nb">navigator</span><span class="p">.</span><span class="nx">openEntry</span><span class="p">(</span><span class="nx">entry</span><span class="o">!</span><span class="p">.</span><span class="nx">id</span><span class="p">)}</span>\n                <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">margin</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">tokens</span><span class="p">.</span><span class="nx">spacingXl</span><span class="p">}</span><span class="s2"> 0`</span> <span class="p">}}</span>\n            <span class="o">&gt;</span>\n                <span class="nx">Back</span> <span class="nx">to</span> <span class="nx">entry</span>\n            <span class="o">&lt;</span><span class="sr">/Button</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="na">justifyContent</span><span class="p">:</span> <span class="dl">\'</span><span class="s1">center</span><span class="dl">\'</span> <span class="p">}}</span><span class="o">&gt;</span>\n                <span class="o">&lt;</span><span class="nx">SkeletonContainer</span><span class="o">&gt;</span>\n                    <span class="o">&lt;</span><span class="nx">SkeletonDisplayText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                    <span class="o">&lt;</span><span class="nx">SkeletonBodyText</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span> <span class="nx">offsetTop</span><span class="o">=</span><span class="p">{</span><span class="mi">35</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;\n</span>                <span class="o">&lt;</span><span class="sr">/SkeletonContainer</span><span class="err">&gt;\n</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;\n</span>    <span class="p">);</span>\n<span class="p">};</span>\n\n<span class="k">export</span> <span class="k">default</span> <span class="nx">Page</span><span class="p">;</span>\n</code></pre>\n<div class="highlight__panel js-actions-panel">\n<div class="highlight__panel-action js-fullscreen-code-action">\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-on"><title>Enter fullscreen mode</title>\n    <path d="M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z"></path>\n</svg>\n\n    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewbox="0 0 24 24" class="highlight-action crayons-icon highlight-action--fullscreen-off"><title>Exit fullscreen mode</title>\n    <path d="M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>In the final code, I\'ve added some <a href="https://github.com/davidfateh/ctfl-open-graph/blob/main/src/components/Page.tsx#L22">Typescript interfaces</a> to ensure we are working with the correct data structures. If you\'d like to check out the complete code, visit the repo: <a href="https://github.com/davidfateh/ctfl-open-graph">davidfateh/ctfl-open-graph: Multi location app for Open Graph</a>.</p>\n\n<p>If you\'d like to go beyond this functionality, Salma recently <a href="https://www.contentful.com/blog/2021/03/17/puppeteer-node-open-graph-screenshot-for-socials/">wrote a post</a> on solving this issue using Puppeteer and Node.js to generate this data programmatically.</p>\n\n<h2>\n  <a name="final-thoughts" href="#final-thoughts">\n  </a>\n  Final thoughts\n</h2>\n\n<p>Passing data between app locations can be very useful for creating cohesive experiences for editors as they work on content that is meant to be visualized in different ways. The Open Graph app is one example of how retrieving entry data and passing it around inside of an app can extend some basic functionality.</p>\n\n<p>If you have an app idea or are working on a prototype, our <a href="https://www.contentful.com/slack/">Slack Community</a> can be very helpful if you want to share or get help implementing ideas. You can take advantage of some of the cool things we are doing and discussing over there. Our extensibility team and I are active in our community, and we are always curious to hear ideas about your next big projects!</p>\n\n',p.body_markdown="I'm cross-posting this article for my [Colleague David Fateh](https://www.contentful.com/blog/author/david-fateh/). Check out the original post over on the [Contentful Blog](https://www.contentful.com/blog/2021/04/27/build-multi-location-app-open-graph-protocol/).\n\nIf you are a content creator for the web, you may have used the [Open Graph protocol](https://ogp.me/). The Open Graph protocol is a way to display and share information about your resource on the internet. You may have seen these in action when sharing websites and URLs on Twitter and Facebook, or when you are chatting with your coworkers on Slack. The preview and metadata for the link is shown to the user as in the Twitter post below.\n\n![Screenshot of Harald Wartig's tweet](https://images.ctfassets.net/fo9twyrwpveg/3BYIx2tORD34uKCN86t8gV/21e2c596480ca96626459372916b3c58/Screen_Shot_2021-04-05_at_21.10.32.png)\n\nBuilding an app on the [App Framework](https://www.contentful.com/developers/docs/extensibility/app-framework/) can be as simple as creating a single custom button or as complicated as composing multiple components in different locations of Contentful. I want to run through an example app I've created which makes use of the App Framework's ability to handle complexity, but more importantly shows how to pass data between different [app locations](https://www.contentful.com/developers/docs/extensibility/app-framework/locations/).\n\nIn Contentful, we can create our own Open Graph data by making use of a simple content type that provides the user with the necessary fields to show these kinds of previews. Then, using the App Framework, we can augment the editor experience to allow for automated title generation of our content as well as a visual preview.\n\nIn this post, we will cover a two things: 1. Creating a content type to handle simple Open Graph data. 2. Creating an app which helps visualize the data and allows for a preview mode. 3. When all is said and done, our Open Graph content type will still need to be pulled from a Contentful API response when we generate our web pages. The information contained in an Open Graph entry will be enough information to populate meta tags in the head of our HTML filles. Let's get started!\n\nCreating the content type\n-------------------------\n\nWe can start by creating a new content type in our space called \"Open Graph,\" which will have five fields:\n\n1.  Title: short text\n\n2.  Content: single reference (in our case, referencing blog posts)\n\n3.  Type: short text\n\n4.  Image: media\n\n5.  URL: short text\n\n![Screenshot of Contentful content type](https://images.ctfassets.net/fo9twyrwpveg/26NLnEssKOHZr2AheAWXlX/234b6a5170d14e239d575008067b1333/Screen_Shot_2021-04-05_at_21.17.10.png?fm=webp&q=1)\n\nThis content type does a few things. First, it allows editors to pick a reference entry. In many cases, this could be a blog post, web page, link or other type of media. In our example, we will be using the Open Graph content type in a blog. This means our Content reference field will reference \"Blog Post\" content types.\n\nSecond, we can automate the \"Title\" field by asking the editor to select a blog post and grabbing the title from that post. This is something we will look at when we dive into the code.\n\nLastly, we can create a custom button that will show the editor a preview of our Open Graph data as it might appear in a card UI such as Twitter or Facebook. \n\nNow that we have our content type set up, let's start developing our app.\n\nCreating the app\n----------------\n\nFor those that are familiar with the App Framework and want to see the source code of the app, you can see it [here on GitHub](https://github.com/davidfateh/ctfl-open-graph). For those less familiar, I've written a few tutorials in the past about how to build apps. We also have a tutorial for beginners, [Building your first app](https://www.contentful.com/developers/docs/extensibility/app-framework/tutorial/), where we explain all the necessary steps to get up and running.\n\nAn app is a single page application that runs inside of an iframe and can be rendered in different locations inside of the Contentful Web App. While building an app can be done using any framework (or lack thereof), I'm going to use the [Create Contentful App](https://www.contentful.com/developers/docs/extensibility/app-framework/create-contentful-app/) CLI tool, which will bootstrap a React app with all the necessary logic required to get up and running inside of Contentful.\n\nTo initialize and run our app locally, run these commands in your terminal:\n\n```sh\nnpx @contentful/create-contentful-app init open-graph\ncd open-graph\nnpm start\n```\n\nThe app is now running as a single page application on [`http://localhost:3000`](http://localhost:3000). In order to see our app in Contentful, we will need to create an [AppDefinition](https://www.contentful.com/developers/docs/extensibility/app-framework/app-definition/) and assign our app to show up in the correct locations.\n\nCreating the AppDefinition\n--------------------------\n\nAn AppDefinition is the entity that represents an app in Contentful. It contains general app information, like where it is visible. It also provides settings that enable it to [run independently](https://www.contentful.com/developers/docs/extensibility/app-framework/app-identity/), or enable particular settings for any current and future installations.\n\nNote: In order to create an AppDefinition, you must be a Contentful organization admin or developer. If you are not, you can ask your admin for access or sign up for a free Contentful account to use as a sandbox.\n\nLet's create a new AppDefinition. Go to your organization settings. In the top menu, select Apps. From here we will create a new AppDefinition with the following properties:\n\n1.  Name: Open Graph\n\n2.  App URL: <http://localhost:3000> (remember this is running on our machine)\n\n3.  First location: Field - short text \n\n4.  Second location: Page\n\n![Screenshot of the new AppDefinition field in Contentful](https://images.ctfassets.net/fo9twyrwpveg/7H3cqMw2syEFITf1rAIga8/49d7a778e441043cbc09bb818a38bb0b/Screen_Shot_2021-04-05_at_21.40.40.png?fm=webp&q=1)\n\nOnce filled in, hit the Create button in the top-right corner. Next, let's install our app into the space where we created our Open Graph content type.\n\nInstalling and developing the app\n---------------------------------\n\nTo install the app, head over to the space where we created our Open Graph content type. In the Apps menu bar, click \"Manage apps\" then find the Open Graph app in the list of available apps (it will show up with a private tag next to it). Click Install.\n\nOnce our app is installed, it is ready to be assigned to our Open Graph content type. Navigate to the Content Model page and select the Open Graph content type. In there we will modify the settings of our \"Title\" field by navigating to the appearance area selecting our Open Graph app. Click save.\n\n![Illustration of the Open Graph content type in Contentful](https://images.ctfassets.net/fo9twyrwpveg/7GIlbdE4AYLwgygiQFPEhW/aee464fe177036b840cf514164fb1d0c/Screen_Shot_2021-04-05_at_21.45.33.png?fm=webp)\n\nNow, create a new Open Graph entry to see how the app renders. We can see that our app is rendering by the message that is showing up in our Title field. Of course, we'd like it if our title field actually showed a title instead of a developer message, so at this point it is time to dive into the code that was created earlier by our create-contentful-app CLI tool.\n\nTo start, create a field that shows a title based off of the reference blog post in our Content field. To get this functionality, we will make use of [Forma 36 --- the Contentful Design System](https://f36.contentful.com/) to implement UI elements which have the same look and feel as Contentful itself. We're going to use a TextInput which will be disabled for manual editing but will automatically pull the title information from our content reference field.\n\n![Screenshot of the process of creating an Open Graph entry](https://images.ctfassets.net/fo9twyrwpveg/1ia9R6cdEAqPvWFfVEPF3R/911c027646ca428c0b3d13652084478e/Screen_Shot_2021-04-05_at_21.51.33.png?fm=webp&q=1)\n\nIn our code, modify src/components/Field.tsx to create a better experience.\n\nTo start, import a few libraries that come out of the box when we ran the create-contentful-app CLI commands:\n\n```js\nimport React, {useState, useEffect} from 'react';\nimport tokens from '@contentful/forma-36-tokens'\nimport { TextInput, Note, Button } from '@contentful/forma-36-react-components';\nimport { FieldExtensionSDK } from '@contentful/app-sdk';\n```\n\nWe are using React here for our UI. Tokens is a Forma 36 utility that will provide us with certain variables like color and sizing. The Forma 36 components also come out of the box and will be useful for constructing our UI. Since we are using TypeScript, I'm also including the SDK typings by default.\n\nNext, we'll want to modify the component itself to handle state, pull information from another field and render some UI.\n\nFirst, create some state:\n\n```js\nconst Field = (props: FieldProps) => {\n  // Get the title of the field and create a setter\n  const [title, setTitle] = useState(props.sdk.field.getValue() || null);\n```\n\nNext, listen for changes to our `content` reference field. When the `content` field has been populated with data, grab the entry, find the title and set that as the title in state. Also save that as the title field's value in the Open Graph content type.\n\n```js\n  useEffect(() => {\n    // Resize the field so it isn't cut off in the UI\n    props.sdk.window.startAutoResizer();\n\n    // when the value of the `content` field changes, set the title\n    props.sdk.entry.fields.content.onValueChanged((entry) => {\n      if (!entry) {\n        setTitle(null);\n        return;\n      }\n\n      // The content field is a reference to a blog post.\n      // We want to grab that full entry to get the `title` of it\n      props.sdk.space.getEntry<BlogPost>(entry.sys.id).then((data) => {\n        if (data.fields.title['en-US'] !== title) {\n          const title = data.fields.title['en-US'];\n          setTitle(title);\n          props.sdk.field.setValue(title);\n        }\n      });\n    });\n  });\n```\n\nLast, we can render our UI based on the above logic to give editors some validation hints. We can either warn that a reference needs to be picked, or if a reference is picked, to use the correct title information in our field. We are also going to include a button, which will open up our page location by passing the entry's ID. We will touch on that more below.\n\n```js\n  if (title === null) {\n    return <Note noteType=\"warning\">Link a blog post below to assign a title.</Note>\n  }\n\n  return (\n    <>\n      <TextInput disabled value={title} style={{marginBottom: tokens.spacingM}}/>\n      <Button onClick={() => props.sdk.navigator.openCurrentAppPage({path: `/${props.sdk.entry.getSys().id}`})} buttonType=\"naked\">Preview Open Graph</Button>\n    </>\n  );\n};\n```\n\nOur full component code looks like this now:\n\n```js\nimport React, {useState, useEffect} from 'react';\nimport tokens from '@contentful/forma-36-tokens'\nimport { TextInput, Note, Button } from '@contentful/forma-36-react-components';\nimport { FieldExtensionSDK } from '@contentful/app-sdk';\n\ninterface FieldProps {\n  sdk: FieldExtensionSDK;\n}\n// Custom type to denote a blog post content type\ninterface BlogPost {\n  sys: {\n    id: string;\n  };\n  fields: {\n    body: object;\n    title: {\n      'en-US': string;\n    };\n  };\n};\n\nconst Field = (props: FieldProps) => {\n  // Get the title of the field and create a setter\n  const [title, setTitle] = useState(props.sdk.field.getValue() || null);\n\n  useEffect(() => {\n    // Resize the field so it isn't cut off in the UI\n    props.sdk.window.startAutoResizer();\n\n    // when the value of the `content` field changes, set the title\n    props.sdk.entry.fields.content.onValueChanged((entry) => {\n      if (!entry) {\n        setTitle(null);\n        return;\n      }\n\n      // The content field is a reference to a blog post.\n      // We want to grab that full entry to get the `title` of it\n      props.sdk.space.getEntry<BlogPost>(entry.sys.id).then((data) => {\n        if (data.fields.title['en-US'] !== title) {\n          const title = data.fields.title['en-US'];\n          setTitle(title);\n          props.sdk.field.setValue(title);\n        }\n      });\n    });\n  });\n\n  if (title === null) {\n    return <Note noteType=\"warning\">Link a blog post below to assign a title.</Note>\n  }\n\n  return (\n    <>\n      <TextInput disabled value={title} style={{marginBottom: tokens.spacingM}}/>\n      <Button onClick={() => props.sdk.navigator.openCurrentAppPage({path: `/${props.sdk.entry.getSys().id}`})} buttonType=\"naked\">Preview Open Graph</Button>\n    </>\n  );\n};\n\nexport default Field;\n```\n\nNow that we have a field that can automatically pull a title from the referenced blog post, we also want to build out a page location, which will show a preview of the Open Graph to editors when they click the preview button. The button is under our Title and says \"Preview Open Graph.\" This button will direct us to our page location which we will create soon.\n\n![Screenshot of Open Graph title preview function](https://images.ctfassets.net/fo9twyrwpveg/3nZPJqbSOG5Q3wr8Wnlv9U/00a29a683e90325a44b8478db9ed426d/Screen_Shot_2021-04-05_at_21.51.33__1_.png?fm=webp&q=1)\n\nLet's start by modifying our src/components/Page.tsx file. Again, we are going to import a few things from Forma 36 in order to build a nice preview UI for our Open Graph components.\n\n```js\nimport React, { useState, useEffect } from 'react';\nimport {\n    Card,\n    Note,\n    Heading,\n    Paragraph,\n    Typography,\n    TextLink,\n    Button,\n    SkeletonBodyText,\n    SkeletonContainer,\n    SkeletonDisplayText,\n} from '@contentful/forma-36-react-components';\nimport tokens from '@contentful/forma-36-tokens';\nimport { PageExtensionSDK } from '@contentful/app-sdk';\n\nIn the Page component, check the URL parameters that we passed in when the editor clicked the button:\n\nconst Page = (props: PageProps) => {\n    // false indicates an error occurred\n    // otherwise the entry is loading or loaded\n    const [entry, setEntry] = useState<OpenGraphPreview | false>();\n\n    useEffect(() => {\n        // Get the entry ID which is passed in via the URL\n        const entryId = props.sdk.parameters?.invocation?.path.replace('/', '');\n\n        // If no entry ID exists, show an error message by setting content to false\n        if (!entryId) {\n            setEntry(false);\n            return;\n        }\n```\n\nWe use `sdk.parameters.invocation.path` to access the custom path in the URL of our app, which was passed in by `sdk.navigator.openCurrentAppPage` from our field component as the on click function of the button.\n\nNow, complete the `useEffect` function with some network calls to get all the data we need to display the preview:\n\n```js\n        // Get the entry data by getting the linked asset and content body\n        props.sdk.space.getEntry<OpenGraphEntry>(entryId).then((data) => {\n            Promise.all([\n                // Grabs the Image asset of the Open Graph content type\n                props.sdk.space.getAsset<Asset>(\n                    data.fields.image['en-US'].sys.id\n                ),\n                // Grabs the long text body of the blog post\n                props.sdk.space.getEntry<Content>(\n                    data.fields.content['en-US'].sys.id\n                ),\n            ]).then(([asset, content]) => {\n                // combine the data from the two `space` calls\n                setEntry({\n                    title: data.fields.title['en-US'],\n                    imageUrl: asset.fields.file['en-US'].url,\n                    previewBody: content.fields.body['en-US'],\n                    url: data.fields.url['en-US'],\n                    id: entryId,\n                });\n            });\n        });\n    }, []);\n```\n\nNotice that we're using `Promise.all` to get data about the entry and the image asset which we will use in our preview.\n\nNow render the component UI:\n\n```js\n    if (entry === false) {\n        return <Note noteType=\"negative\">Error retrieving entry!</Note>;\n    }\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                width: '100%',\n                height: '100vh',\n                alignItems: 'center',\n                marginTop: tokens.spacingXl,\n                flexDirection: 'column',\n            }}\n        >\n            <div style={{ justifyContent: 'center' }}>\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={3} offsetTop={35} />\n                </SkeletonContainer>\n            </div>\n            <Typography>\n                <Heading>\n                    Open Graph Preview\n                </Heading>\n            </Typography>\n            <Card style={{ width: '260px' }}>\n                {!entry ?\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={3} offsetTop={35} />\n                </SkeletonContainer> :\n                <>\n                    <Typography>\n                        <TextLink href={entry.url}>{entry.title}</TextLink>\n                        <Paragraph>{entry.previewBody}</Paragraph>\n                    </Typography>\n                    <img src={entry.imageUrl} alt=\"\" style={{ width: '200px' }} />\n                </>}\n            </Card>\n            <Button\n                buttonType=\"muted\"\n                disabled={!entry}\n                onClick={() => props.sdk.navigator.openEntry(entry!.id)}\n                style={{ margin: `${tokens.spacingXl} 0` }}\n            >\n                Back to entry\n            </Button>\n            <div style={{ justifyContent: 'center' }}>\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={10} offsetTop={35} />\n                </SkeletonContainer>\n            </div>\n        </div>\n    );\n};\n```\n\nFor the most part, I am using Skeleton components, which are for looks; they show a loading preview. The Card component is used for actually displaying the content in the Open Graph card. All together, the Page component code looks like this:\n\n```js\nimport React, { useState, useEffect } from 'react';\nimport {\n    Card,\n    Note,\n    Heading,\n    Paragraph,\n    Typography,\n    TextLink,\n    Button,\n    SkeletonBodyText,\n    SkeletonContainer,\n    SkeletonDisplayText,\n} from '@contentful/forma-36-react-components';\nimport tokens from '@contentful/forma-36-tokens';\nimport { PageExtensionSDK } from '@contentful/app-sdk';\n\ninterface PageProps {\n    sdk: PageExtensionSDK;\n}\n\n// An open graph content type\ninterface OpenGraphEntry {\n    fields: {\n        title: {\n            'en-US': string;\n        };\n        type: {\n            'en-US': string;\n        };\n        url: {\n            'en-US': string;\n        };\n        image: {\n            'en-US': {\n                sys: {\n                    id: string;\n                };\n            };\n        };\n        content: {\n            'en-US': {\n                sys: {\n                    id: string;\n                };\n            };\n        };\n    };\n    sys: {\n        id: string;\n    };\n}\n\n// A custom shape for the entry we are going to render in our UI\ninterface OpenGraphPreview {\n    id: string;\n    title: string;\n    imageUrl: string;\n    previewBody: string;\n    url: string;\n}\n\ninterface Content {\n    fields: {\n        body: {\n            'en-US': string;\n        };\n    };\n}\n\ninterface Asset {\n    fields: {\n        file: {\n            'en-US': {\n                url: string;\n            };\n        };\n    };\n}\n\nconst Page = (props: PageProps) => {\n    // false indicates an error occurred\n    // otherwise the entry is loading or loaded\n    const [entry, setEntry] = useState<OpenGraphPreview | false>();\n\n    useEffect(() => {\n        // Get the entry ID which is passed in via the URL\n        // @ts-ignore\n        const entryId = props.sdk.parameters?.invocation?.path.replace('/', '');\n\n        // If no entry ID exists, show an error message by setting content to false\n        if (!entryId) {\n            setEntry(false);\n            return;\n        }\n\n        // Get the entry data by getting the linked asset and content body\n        props.sdk.space.getEntry<OpenGraphEntry>(entryId).then((data) => {\n            Promise.all([\n                // Grabs the Image asset of the Open Graph content type\n                props.sdk.space.getAsset<Asset>(\n                    data.fields.image['en-US'].sys.id\n                ),\n                // Grabs the long text body of the blog post\n                props.sdk.space.getEntry<Content>(\n                    data.fields.content['en-US'].sys.id\n                ),\n            ]).then(([asset, content]) => {\n                // combine the data from the two `space` calls\n                setEntry({\n                    title: data.fields.title['en-US'],\n                    imageUrl: asset.fields.file['en-US'].url,\n                    previewBody: content.fields.body['en-US'],\n                    url: data.fields.url['en-US'],\n                    id: entryId,\n                });\n            });\n        });\n    }, []);\n\n    if (entry === false) {\n        return <Note noteType=\"negative\">Error retrieving entry!</Note>;\n    }\n\n    return (\n        <div\n            style={{\n                display: 'flex',\n                width: '100%',\n                height: '100vh',\n                alignItems: 'center',\n                marginTop: tokens.spacingXl,\n                flexDirection: 'column',\n            }}\n        >\n            <div style={{ justifyContent: 'center' }}>\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={3} offsetTop={35} />\n                </SkeletonContainer>\n            </div>\n            <Typography>\n                <Heading>\n                    Open Graph Preview\n                </Heading>\n            </Typography>\n            <Card style={{ width: '260px' }}>\n                {!entry ?\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={3} offsetTop={35} />\n                </SkeletonContainer> :\n                <>\n                    <Typography>\n                        <TextLink href={entry.url}>{entry.title}</TextLink>\n                        <Paragraph>{entry.previewBody}</Paragraph>\n                    </Typography>\n                    <img src={entry.imageUrl} alt=\"\" style={{ width: '200px' }} />\n                </>}\n            </Card>\n            <Button\n                buttonType=\"muted\"\n                disabled={!entry}\n                onClick={() => props.sdk.navigator.openEntry(entry!.id)}\n                style={{ margin: `${tokens.spacingXl} 0` }}\n            >\n                Back to entry\n            </Button>\n            <div style={{ justifyContent: 'center' }}>\n                <SkeletonContainer>\n                    <SkeletonDisplayText numberOfLines={1} />\n                    <SkeletonBodyText numberOfLines={10} offsetTop={35} />\n                </SkeletonContainer>\n            </div>\n        </div>\n    );\n};\n\nexport default Page;\n```\n\nIn the final code, I've added some [Typescript interfaces](https://github.com/davidfateh/ctfl-open-graph/blob/main/src/components/Page.tsx#L22) to ensure we are working with the correct data structures. If you'd like to check out the complete code, visit the repo: [davidfateh/ctfl-open-graph: Multi location app for Open Graph](https://github.com/davidfateh/ctfl-open-graph).\n\nIf you'd like to go beyond this functionality, Salma recently [wrote a post](https://www.contentful.com/blog/2021/03/17/puppeteer-node-open-graph-screenshot-for-socials/) on solving this issue using Puppeteer and Node.js to generate this data programmatically.\n\nFinal thoughts\n--------------\n\nPassing data between app locations can be very useful for creating cohesive experiences for editors as they work on content that is meant to be visualized in different ways. The Open Graph app is one example of how retrieving entry data and passing it around inside of an app can extend some basic functionality.\n\nIf you have an app idea or are working on a prototype, our [Slack Community](https://www.contentful.com/slack/) can be very helpful if you want to share or get help implementing ideas. You can take advantage of some of the cool things we are doing and discussing over there. Our extensibility team and I are active in our community, and we are always curious to hear ideas about your next big projects!",p.user={name:"Shy Ruparel",username:"shy",twitter_username:a,github_username:"Shy",website_url:"https://shy.dev/",profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--i52rrwBd--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/14347/5d245040-80e5-46dd-b210-ff3640bb9cbf.jpg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--ZThVedq8--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/14347/5d245040-80e5-46dd-b210-ff3640bb9cbf.jpg"},p.organization={name:"Contentful",username:n,slug:n,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--5IH1E5Ek--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/390/6233b08f-25c6-4d56-98bb-10a1ea51bad0.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--ErwShxv8--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/390/6233b08f-25c6-4d56-98bb-10a1ea51bad0.png"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:p}},error:a,state:{currentArticle:p},serverRendered:!0,routePath:"/shy/736855",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:a}}}}("2021-06-23T14:44:09Z",null,"contentful",{})</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
