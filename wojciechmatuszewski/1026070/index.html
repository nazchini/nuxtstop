<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Minimal AWS SSO setup for personal AWS development</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Using Nuxt.js fetch() hook to build dev.to with a new look"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/nuxtstop/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:400,500,600&display=swap"><link rel="preload" href="/nuxtstop/_nuxt/f6e87fb.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/6474719.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/9b75090.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/18df600.js" as="script"><link rel="preload" href="/nuxtstop/_nuxt/dc9ce94.js" as="script"><style data-vue-ssr-id="c650fd98:0 af4684f0:0 a9c71758:0 dcafa518:0 4b9cec49:0 b093d766:0 9d98bcb4:0 6b6a11ea:0 0248ed80:0 ea8e4264:0">html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}html{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{border:0 solid #e0e0e0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,p,pre{margin:0}button{background:0 0;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}hr{border-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:inherit;opacity:.5}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:inherit;opacity:.5}input::placeholder,textarea::placeholder{color:inherit;opacity:.5}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;font-family:sans-serif}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;font-family:inherit;font-size:100%}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;overflow:auto;word-break:break-word;white-space:normal}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}html{height:100%;font-size:18px;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}@media(min-width:640px){html{font-size:20px}}body{height:100%;min-width:320px;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:400;line-height:1.5;color:#000;background-color:#eff4f7;-webkit-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility;font-synthesis:none;font-kerning:normal;font-feature-settings:"normal","kern";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-overflow-scrolling:touch;overflow-x:hidden;overflow-y:scroll}h1,h2,h3,h4,h5,h6{color:#000;font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-weight:600;font-feature-settings:"normal";line-height:1.2}pre{background:#29292e;border-radius:2px;overflow:auto;padding:1rem;color:#eff1f9;line-height:1.42em;font-size:13px}@media screen and (min-width:380px){pre{font-size:15px}}pre code{background:#29292e;color:#eff0f9;white-space:pre}div.highlight pre.highlight code{font-size:inherit;padding:0}div.inner-comment div.body div.highlight pre.highlight{background:#29292e}div.inner-comment div.body div.highlight pre.highlight code{font-size:inherit;white-space:inherit;background:inherit;color:inherit}.highlight .hll{background-color:#49483e}.highlight{background:#29292e;color:#f8f8f2}.highlight .c{color:grey}.highlight .err{text-shadow:0 0 7px #f9690e}.highlight .k{color:#f39c12}.highlight .l{color:plum}.highlight .n{color:#f8f8f2}.highlight .o{color:#f9690e}.highlight .p{color:#f8f8f2}.highlight .c1,.highlight .ch,.highlight .cm,.highlight .cp,.highlight .cpf,.highlight .cs{color:grey}.highlight .gd{color:#f9690e}.highlight .ge{font-style:italic}.highlight .gi{color:#7ed07e}.highlight .gs{font-weight:700}.highlight .gu{color:grey}.highlight .kc,.highlight .kd{color:#f39c12}.highlight .kn{color:#f9690e}.highlight .kp,.highlight .kr,.highlight .kt{color:#f39c12}.highlight .ld{color:#f2ca27}.highlight .m{color:plum}.highlight .s{color:#f2ca27}.highlight .na{color:#7ed07e}.highlight .nb{color:#f8f8f2}.highlight .nc{color:#7ed07e}.highlight .no{color:#f39c12}.highlight .nd{color:#7ed07e}.highlight .ni{color:#f8f8f2}.highlight .ne,.highlight .nf{color:#7ed07e}.highlight .nl,.highlight .nn{color:#f8f8f2}.highlight .nx{color:#7ed07e}.highlight .py{color:#f8f8f2}.highlight .nt{color:#f9690e}.highlight .nv{color:#f8f8f2}.highlight .ow{color:#f9690e}.highlight .w{color:#f8f8f2}.highlight .mb,.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:plum}.highlight .dl,.highlight .s2,.highlight .sa,.highlight .sb,.highlight .sc,.highlight .sd{color:#f2ca27}.highlight .se{color:plum}.highlight .s1,.highlight .sh,.highlight .si,.highlight .sr,.highlight .ss,.highlight .sx{color:#f2ca27}.highlight .bp{color:#f8f8f2}.highlight .fm{color:#7ed07e}.highlight .vc,.highlight .vg,.highlight .vi,.highlight .vm{color:#f8f8f2}.highlight .il{color:plum}.vue-content-placeholders-heading__img,.vue-content-placeholders-heading__subtitle,.vue-content-placeholders-heading__title,.vue-content-placeholders-img,.vue-content-placeholders-text__line{background:#bfcdec!important}.vue-content-placeholders-is-animated .vue-content-placeholders-heading__img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__subtitle:before,.vue-content-placeholders-is-animated .vue-content-placeholders-heading__title:before,.vue-content-placeholders-is-animated .vue-content-placeholders-img:before,.vue-content-placeholders-is-animated .vue-content-placeholders-text__line:before{background:linear-gradient(90deg,transparent 0,#d3ddf9 15%,transparent 30%)!important}header[data-v-27046cca]{max-width:1280px;margin:auto;padding:1rem;height:6rem;border-bottom:1px solid rgba(0,0,0,.2)}header .logo-wrapper[data-v-27046cca],header[data-v-27046cca]{display:flex;align-items:center;justify-content:space-between}header .logo-wrapper[data-v-27046cca]{margin:0 .5rem}header .logo-wrapper svg[data-v-27046cca]{width:3rem;height:100%}header .logo-wrapper .name-wrapper[data-v-27046cca]{margin-left:.6em}header .logo-wrapper .name-wrapper .subtitle[data-v-27046cca]{font-size:1rem}header .logo-wrapper .name-wrapper .app-name[data-v-27046cca]{font-weight:700;font-size:2.25rem;line-height:1.25}header nav[data-v-27046cca]{letter-spacing:-.025rem;font-weight:600;text-transform:uppercase}header nav ul[data-v-27046cca]{display:flex}header nav ul li[data-v-27046cca]{margin:0 .5rem}header nav ul li a[data-v-27046cca]{box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;padding:.25rem 1rem;border-radius:.5rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header nav ul li a[data-v-27046cca]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header nav ul li a.nuxt-link-exact-active[data-v-27046cca]{cursor:default}header nav ul li a.nuxt-link-exact-active[data-v-27046cca],header nav ul li a[data-v-27046cca]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}.page-wrapper[data-v-10d06ee8]{max-width:1280px;margin:auto;padding:1rem}.article-content-wrapper[data-v-10d06ee8]{display:flex;flex-direction:column;align-items:center;margin:auto auto 2rem}@media(min-width:1024px){.article-content-wrapper[data-v-10d06ee8]{align-items:normal;flex-direction:row}}.article-content-wrapper .article-block[data-v-10d06ee8]{width:100%;max-width:880px}@media(min-width:1024px){.article-content-wrapper .article-block[data-v-10d06ee8]{margin-right:1rem;width:66.66666%;margin-bottom:2rem}}.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{max-width:880px;width:100%;position:relative}@media(min-width:1024px){.article-content-wrapper .aside-username-wrapper[data-v-10d06ee8]{display:block;width:33.33333%}}.article-content-wrapper .aside-username-wrapper .aside-username-block[data-v-10d06ee8]{position:-webkit-sticky;position:sticky;top:1rem}@media(min-width:1280px){.comments-block[data-v-10d06ee8]{margin:.5rem}}article[data-v-70afb46a]{padding:.5rem;border-radius:1rem}header h1[data-v-70afb46a],header[data-v-70afb46a]{margin-bottom:1rem}header h1[data-v-70afb46a]{font-size:2.25rem;letter-spacing:-.025rem}header .tags[data-v-70afb46a]{display:flex;flex-wrap:wrap;margin-bottom:1.5rem}header .tags .tag[data-v-70afb46a]{font-weight:500;line-height:1;padding:.5rem;margin:0 .5rem .5rem 0;border-radius:.25rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db}header .tags .tag[data-v-70afb46a]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}header .tags .tag[data-v-70afb46a]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}header .image-wrapper[data-v-70afb46a]{position:relative;padding-bottom:56.25%;background-color:#d4dfe8;margin-bottom:1.5rem;border-radius:.5rem;overflow:hidden}@media(min-width:834px){header .image-wrapper[data-v-70afb46a]{margin-bottom:1.5rem}}header .image-wrapper img[data-v-70afb46a]{position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}header .meta[data-v-70afb46a]{line-height:1;font-size:.875rem;text-transform:uppercase;font-weight:500;letter-spacing:-.025rem;display:flex;align-items:center;justify-content:space-between}header .meta .scl[data-v-70afb46a]{display:flex}header .meta .scl span[data-v-70afb46a]{display:flex;align-items:center;margin-right:1rem}header .meta .scl span svg[data-v-70afb46a]{margin-right:.25rem}header .meta .scl .comments[data-v-70afb46a]{cursor:pointer}[data-v-70afb46a] .content .ltag__user{display:none}[data-v-70afb46a] .content iframe{max-width:100%}[data-v-70afb46a] .content h1{font-size:1.875rem}[data-v-70afb46a] .content h1,[data-v-70afb46a] .content h2{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h2{font-size:1.5rem}[data-v-70afb46a] .content h3{font-size:1.25rem}[data-v-70afb46a] .content h3,[data-v-70afb46a] .content h4{margin-top:2rem;margin-bottom:1rem;letter-spacing:-.025rem}[data-v-70afb46a] .content h4{font-size:1rem}[data-v-70afb46a] .content a{color:#6e87d2}[data-v-70afb46a] .content p{margin-bottom:1rem;line-height:1.4}[data-v-70afb46a] .content p code{background-color:#d2f3e1;border-radius:.25rem;padding:.25rem}[data-v-70afb46a] .content img{width:100%;border-radius:.5rem}[data-v-70afb46a] .content .highlight{margin-bottom:1rem;border-radius:.5rem}[data-v-70afb46a] .content ul{list-style:numeral;margin-bottom:1rem}[data-v-70afb46a] .content ul li p{margin-bottom:0}[data-v-70afb46a] .content ol{margin-bottom:1rem}aside[data-v-37984f8c]{padding:1rem;background-color:#dfe8ef;border-radius:1rem}aside .username-heading[data-v-37984f8c]{display:flex;margin-bottom:1rem}aside .username-heading[data-v-37984f8c]:hover{color:#6e87d2}aside .username-heading img[data-v-37984f8c]{width:3rem;height:3rem;border-radius:50%;margin-right:1rem}aside .username-heading .text[data-v-37984f8c]{display:flex;flex-direction:column;justify-content:center}aside .username-heading .text a[data-v-37984f8c]{line-height:1}aside .username-heading .text a[data-v-37984f8c]:first-child{font-size:1.25rem;font-weight:500;letter-spacing:-.025rem;margin-bottom:.25rem}aside .username-heading .text a[data-v-37984f8c]:last-child{color:#999;font-size:.875rem}aside .username-heading.loading[data-v-37984f8c]{display:block}aside .f-button[data-v-37984f8c]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}aside .f-button[data-v-37984f8c]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}aside .f-button[data-v-37984f8c]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}aside .info>div[data-v-37984f8c]{margin-bottom:.5rem}aside .info .title[data-v-37984f8c]{font-size:.666666rem;letter-spacing:-.0125rem;font-weight:500;color:#999;text-transform:uppercase;margin-bottom:.1rem}aside .info .content[data-v-37984f8c]{font-size:.875rem;line-height:1.4}.add-comment[data-v-8c4375bc]{display:block;width:100%;padding:.5rem;border-radius:.5rem;box-shadow:-4px -4px 8px #f8fafe,4px 4px 8px #ced2db;text-transform:uppercase;text-align:center;font-weight:600;letter-spacing:-.025rem;margin-bottom:1rem}.add-comment[data-v-8c4375bc]:hover{background:linear-gradient(135deg,rgba(0,0,0,.09),hsla(0,0%,100%,0))}.add-comment[data-v-8c4375bc]:active{background:0 0;box-shadow:inset -4px -4px 8px #f0f3f9,inset 4px 4px 8px #ced2db,inset -1px -1px 4px #8e8e8e}footer[data-v-22cb8fd0]{padding:2rem;text-align:center;display:flex;align-items:center;justify-content:center}footer span[data-v-22cb8fd0]{display:inline-block;line-height:1;text-transform:uppercase;letter-spacing:-.025rem;font-size:.75rem;font-weight:500}footer a svg[data-v-22cb8fd0]{width:3rem;height:3rem;margin:0 .5rem}footer a .nuxt-icon[data-v-22cb8fd0]{width:2.5rem;height:2.5rem;margin:0 .25rem}</style>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div><header data-v-27046cca><a href="/nuxtstop/" class="logo-wrapper nuxt-link-active" data-v-27046cca><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-27046cca><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-27046cca></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-27046cca></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-27046cca></path></svg> <div class="name-wrapper" data-v-27046cca><span class="app-name" data-v-27046cca>Nuxtstop</span> <p class="subtitle" data-v-27046cca>For all things nuxt.js</p></div></a> <nav data-v-27046cca><ul data-v-27046cca><li data-v-27046cca><a href="/nuxtstop/" class="nuxt-link-active" data-v-27046cca>
          New
        </a></li><li data-v-27046cca><a href="/nuxtstop/top" data-v-27046cca>
          Top
        </a></li></ul></nav></header> <div class="page-wrapper" data-v-10d06ee8><div class="article-content-wrapper" data-v-10d06ee8><article data-fetch-key="data-v-70afb46a:0" class="article-block" data-v-70afb46a data-v-10d06ee8><header data-v-70afb46a><h1 data-v-70afb46a>Minimal AWS SSO setup for personal AWS development</h1> <div class="tags" data-v-70afb46a><a href="/nuxtstop/t/aws" class="tag" data-v-70afb46a>
          #aws
        </a><a href="/nuxtstop/t/sso" class="tag" data-v-70afb46a>
          #sso
        </a><a href="/nuxtstop/t/iam" class="tag" data-v-70afb46a>
          #iam
        </a></div> <div class="image-wrapper" data-v-70afb46a><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--XChjfvsw--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a3d3j0z6alvwq2rmr8id.jpeg" alt="Minimal AWS SSO setup for personal AWS development" data-v-70afb46a></div> <div class="meta" data-v-70afb46a><div class="scl" data-v-70afb46a><span data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M16.4444 3C14.6733 3 13.0333 3.94162 12 5.34C10.9667 3.94162 9.32667 3 7.55556 3C4.49222 3 2 5.52338 2 8.625C2 14.8024 11.0267 20.586 11.4122 20.829C11.5922 20.9426 11.7956 21 12 21C12.2044 21 12.4078 20.9426 12.5878 20.829C12.9733 20.586 22 14.8024 22 8.625C22 5.52338 19.5078 3 16.4444 3Z" fill="#FF0000" data-v-70afb46a data-v-70afb46a></path></svg>
            114
          </span> <span class="comments" data-v-70afb46a><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-70afb46a data-v-70afb46a><path d="M6.11765 22H4.94118L5.64706 21.05C6.11765 20.3969 6.41176 19.5656 6.58824 18.5563C3.64706 17.1906 2 14.6375 2 11.3125C2 6.20625 5.82353 3 12 3C18.1765 3 22 6.20625 22 11.3125C22 16.5375 18.2353 19.625 12 19.625H11.5882C10.6471 20.7531 9 22 6.11765 22ZM12 4.1875C6.47059 4.1875 3.17647 6.85937 3.17647 11.3125C3.17647 15.1125 5.47059 16.8938 7.41177 17.6656L7.82353 17.8437L7.76471 18.3187C7.64706 19.2687 7.47059 20.1 7.11765 20.8125C9.05882 20.575 10.1765 19.5656 10.8235 18.7344L11 18.4969H12C19.9412 18.4969 20.8235 13.5094 20.8235 11.3719C20.8235 6.85938 17.5294 4.1875 12 4.1875Z" fill="black" data-v-70afb46a data-v-70afb46a></path></svg>
            3
          </span></div> <time data-v-70afb46a>Mar 17</time></div></header> <div class="content" data-v-70afb46a><p>I would argue that the <a href="https://aws.amazon.com/single-sign-on/">AWS SSO</a> is a "hidden gem" of AWS service. With AWS SSO, you do not have to deal with <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html">AWS IAM Users</a> and long-lived credentials.</p>

<p>I have a suspicion that there is a lot of misinformation about AWS SSO out there. Some common misconceptions I've heard are:</p>

<ul>
<li><p><em>"You need <a href="https://www.okta.com/">OKTA</a> to use AWS SSO"</em>.</p></li>
<li><p><em>"You have to use <a href="https://aws.amazon.com/controltower/?control-blogs.sort-by=item.additionalFields.createdDate&control-blogs.sort-order=desc">AWS Control Tower</a> to use AWS SSO"</em>.</p></li>
<li><p><em>"The AWS SSO setup is complex, and only experienced AWS developers can utilize it"</em>.</p></li>
</ul>

<p>None of the above are correct. I'm using AWS SSO for my personal AWS stuff, and I've never had to interact with AWS Control Tower or OKTA in any shape or form. It is entirely possible to have AWS SSO working with a <strong>bare minimum <a href="https://aws.amazon.com/organizations/">AWS Organizations</a> and AWS IAM configuration</strong>, and this blog post will show you how.</p>

<h2>
  <a name="the-why-of-aws-sso-for-aws-development" href="#the-why-of-aws-sso-for-aws-development">
  </a>
  The why of AWS SSO for AWS development
</h2>

<p><em>"Why should I bother using/taking my time to learn AWS SSO?"</em> is a valid question, especially when time is the scarcest resource we have. My arguments in favor of learning/using AWS SSO follow.</p>

<p>The first point is that <strong>you do not have to worry about long-lived credentials</strong> for your AWS accounts anymore (except the root one), which drastically improves the security posture of your environment.</p>

<p>The second point is that <strong>if set up correctly</strong>, AWS SSO is <strong>extremely convenient to use</strong>. In my current personal dev workflow, all I do to obtain a time-bound AWS session is type one short command and pick the right account/IAM role combo.</p>

<p>The third point is that <strong>knowing just a little about AWS SSO</strong> could <strong>help you in your day job</strong> where you <strong>most likely use OKTA (or any other identity provider) with AWS SSO</strong> (If you are not, and the configuration you have works for you, more power to you). Someone had to know how to connect the services in the first place. That someone might be you :).</p>

<h2>
  <a name="setting-the-stage" href="#setting-the-stage">
  </a>
  Setting the stage
</h2>

<p>Before we dive into the configuration itself, I think it is vital to set expectations regarding what I'm about to show you.</p>

<ol>
<li><p>We will only use the bare minimum of AWS services/features for simplicity.</p></li>
<li><p>I would not recommend using this setup for your company's AWS SSO story. Look into combining <a href="https://github.com/org-formation/org-formation-cli">OrgFormation</a> / AWS Control Tower with AWS SSO for that.</p></li>
<li><p><strong>I've tried to keep the complexity to a minimum</strong> so that people who are not familiar with AWS (for example, me from 3 years ago) can go through the listed steps without significant issues.</p></li>
<li><p>You will be using the AWS console through configuration steps. Creating an IaC template to automate the setup is beyond this blog post's scope.</p></li>
</ol>

<h2>
  <a name="the-end-goal" href="#the-end-goal">
  </a>
  The end goal
</h2>

<p>After you have completed the configuration steps, you will be able to do the following:</p>

<ol>
<li>Login into a given AWS account console with a single click via the AWS SSO user portal. Here is a screenshot of my AWS SSO portal dashboard.</li>
</ol>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Pb6IPFdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/u2xz7v5p3aru31q9trl4.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Pb6IPFdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/u2xz7v5p3aru31q9trl4.png" alt="AWS SSO portal dashboard sneak-peak" loading="lazy" width="880" height="424"></a></p>

<ol>
<li>Assume credentials for a given AWS IAM role in a given AWS account for CLI usage with a single command.</li>
</ol>

<p>Interested? Let us get started with the configuration.</p>

<h2>
  <a name="the-configuration" href="#the-configuration">
  </a>
  The configuration
</h2>

<h3>
  <a name="the-prerequisites" href="#the-prerequisites">
  </a>
  The prerequisites
</h3>

<ul>
<li>
<a href="https://aws.amazon.com/cli/">AWS CLI</a> installed.</li>
</ul>

<h3>
  <a name="the-steps" href="#the-steps">
  </a>
  The steps
</h3>

<p><strong>1</strong> - If you do not have an AWS account already, create one. There are many great resources on how to do just that, for example, <a href="https://acloudguru.com/videos/acg-fundamentals/how-to-create-an-aws-account?utm_campaign=11244863417&utm_source=google&utm_medium=cpc&utm_content=469352928666&utm_term=_&adgroupid=115625160932">this guide by A Cloud Guru</a>.</p>

<ul>
<li>I would <strong>strongly recommend this AWS account</strong> be <strong>used only for AWS SSO / AWS Organizations set up</strong>. Consider <strong>not</strong> running any deployments on this account.</li>
</ul>

<p><strong>2</strong>‏‏‎‏‏‎ - Pick the region you wish your AWS SSO configuration to be deployed into. To my best knowledge, the <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/regions.html#region-data">AWS SSO is a region-bound service</a>. <strong>For demonstration purposes</strong> I will be using the <em>eu-west-1</em> region throughout this blog post.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sH-i5S89--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pwoctne9f5jh7y9o5jzh.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sH-i5S89--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pwoctne9f5jh7y9o5jzh.png" alt="2-AWS-Region" loading="lazy" width="880" height="500"></a></p>

<p><strong>3</strong> - In the search bar, look for AWS SSO service. The <em>sso</em> search phrase should do. Click on the service tile to go to its dashboard.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VK_aWobz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mjwcq49cy7v7mzyp4asu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VK_aWobz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mjwcq49cy7v7mzyp4asu.png" alt="3-search-for-sso" loading="lazy" width="880" height="500"></a></p>

<p><strong>4</strong> - After landing on the AWS SSO dashboard, assuming you do not have it enabled in any other AWS regions, you should be presented with a landing page that contains a big <em>"Enable AWS SSO"</em> button – click on it.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--f-l__nPG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rd7fdqgvciuao3eqr7ko.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--f-l__nPG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rd7fdqgvciuao3eqr7ko.png" alt="4-landing-page-enable-sso" loading="lazy" width="880" height="500"></a></p>

<p><strong>5</strong> - Assuming you do not have any <a href="https://aws.amazon.com/organizations/">AWS Organizations</a> created on this account, the AWS console will greet you with the popup to create one. Click on the <em>"Create AWS Organization"</em> button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--hGd4V9uF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zlf3vk1l2hguzwjgiv8o.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--hGd4V9uF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zlf3vk1l2hguzwjgiv8o.png" alt="5-create-organization-prompt" loading="lazy" width="880" height="500"></a></p>

<ul>
<li>
<strong>If you are new to AWS and have no idea what AWS Organizations are</strong>, consider them a way of creating multiple AWS accounts with ease. <strong>You do NOT have to know a lot about them to configure AWS SSO</strong>. Consult the <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">AWS Organizations documentation</a> for more information.</li>
</ul>

<p>After waiting a bit for the AWS console to create the AWS Organization, you will be redirected to the AWS SSO service dashboard.</p>

<p><strong>6</strong> - Next up, we need to create an AWS account we will be SSOing into (and assuming given policy in that account, more on that later). As I eluded earlier, we will be using AWS Organizations to manage AWS accounts. AWS SSO service created an AWS Organization for us in the previous step. Go to the created AWS Organization by searching for the service name.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--t7yN3xje--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atlo5dc1yneyf7apnyd5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--t7yN3xje--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atlo5dc1yneyf7apnyd5.png" alt="6-Search-for-AWS-Organizations" loading="lazy" width="880" height="500"></a></p>

<p><strong>7</strong> - Next up, click on the <em>"Add an AWS account"</em> button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ku3o24SI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/om9qhk3uhtf2qo7ksjdi.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ku3o24SI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/om9qhk3uhtf2qo7ksjdi.png" alt="7.1-Add an AWS account" loading="lazy" width="880" height="500"></a></p>

<ul>
<li><p>We want to create a <strong>new AWS account</strong>.</p></li>
<li><p>Pick whatever name you want. My recommendation would be to add the "Development" suffix to the name to signal that this is the account I'm using for playing around – i.e., it contains deployed AWS resources.</p></li>
<li><p>I would leave the <em>"IAM role name"</em> default value. The permission model of AWS Organizations goes beyond the scope of this article.</p></li>
<li><p>I would not bother with any Tags for personal-only use.</p></li>
</ul>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--p09fBxFB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0zheae95pb8izlk1zhlk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--p09fBxFB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0zheae95pb8izlk1zhlk.png" alt="7.2-Create-AWS-Account" loading="lazy" width="880" height="500"></a></p>

<p><strong>8</strong> - After you have successfully created the AWS account and set the password (the email you have received from AWS), it is time to go back to the AWS SSO dashboard to finish the configuration.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6jkqUDjp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gnt5r6kqdm1bqj2jsnin.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6jkqUDjp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gnt5r6kqdm1bqj2jsnin.png" alt="8-Go-back-to-SSO" loading="lazy" width="880" height="500"></a></p>

<p><strong>9</strong> - Next, we have to create a <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html">permission set</a> (a scary name for a collection of IAM Policies) you will be acquiring when SSOing into a given AWS account. <strong>This part is what allows us to ditch the long-lived credentials</strong>. Switch to the <em>"Permission sets"</em> tab and click on <em>"Create permission set"</em>.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--KqJRAXGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/06u7wwpnxogsaqvpdzvi.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KqJRAXGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/06u7wwpnxogsaqvpdzvi.png" alt="9.1-SSO-permission-sets" loading="lazy" width="880" height="500"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xw1Yhpjr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iy8et8k4msvn33mch6oh.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xw1Yhpjr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iy8et8k4msvn33mch6oh.png" alt="9.2-SSO-create-permission-set" loading="lazy" width="880" height="500"></a></p>

<p><strong>10</strong> - Now comes the permission set creation wizard. The following are my recommendations for each step.</p>

<ul>
<li><p>For the <em>"Type"</em> step, I recommend sticking with <em>"Use an existing job function policy"</em> unless you are adept at writing AWS IAM Policies.</p></li>
<li><p>For the <em>"Detail"</em> step, I recommend picking the <em>"PowerUserAccess"</em> policy. <strong>Make sure you understand what a given policy grants</strong>.</p></li>
<li><p>When it comes to the <em>"Tags"</em> step, I would not bother setting them for personal use, but I leave that decision up to you.</p></li>
</ul>

<blockquote>
<p>Tags are essential in a work environment where multiple teams operate on different resources.</p>
</blockquote>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dzUZ92Y7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lm9edogddajjuupkoida.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dzUZ92Y7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lm9edogddajjuupkoida.png" alt="10-Create-SSO-permission-set" loading="lazy" width="880" height="500"></a></p>

<p><strong>11</strong> - Next, we have to create a user that can sign in to an AWS SSO user portal. We will be associating the user with a permission set and AWS account later. To create an AWS SSO user, navigate to the <em>"Users"</em> tab and click the <em>"Add user"</em> button.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--fth-Nd1t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r97sl1scuofoi5v1s9f6.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--fth-Nd1t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r97sl1scuofoi5v1s9f6.png" alt="11-Add-SSO-User" loading="lazy" width="880" height="500"></a></p>

<ul>
<li><p>Make sure to save the username you specified in the <em>"Specify user details"</em> step – you will need it later on.</p></li>
<li><p>I would suggest omitting creating groups for simplicity's sake, but that is up to you.</p></li>
<li><p>After you have created the user, <strong>I would strongly consider adding an MFA for that user</strong>.</p></li>
</ul>

<p><strong>12</strong> - With the AWS SSO user created, it is time to tie everything we have been configuring together. Navigate to the <em>"AWS accounts"</em> tab. We will be associating the AWS SSO user with a given permission set and an AWS account.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--wSEIBQCz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rrm7arirt8sse375f31r.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--wSEIBQCz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rrm7arirt8sse375f31r.png" alt="12.1-navigate-to-accounts" loading="lazy" width="880" height="500"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--S4QZF5Zo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6fexjk8o3pyu6ckmeyls.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--S4QZF5Zo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6fexjk8o3pyu6ckmeyls.png" alt="12.2-assign-users-or-groups" loading="lazy" width="880" height="500"></a></p>

<p>As with AWS SSO users, the AWS console uses a wizard-style form for this configuration. The following are screenshots that should help you navigate the steps.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LG7EKpfc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q6zp8z6hlmodgwts0tb5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LG7EKpfc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q6zp8z6hlmodgwts0tb5.png" alt="12.3" loading="lazy" width="880" height="500"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YRMfVh3H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x7pvtl0vembpbaptckpk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YRMfVh3H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x7pvtl0vembpbaptckpk.png" alt="12.4" loading="lazy" width="880" height="500"></a></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--KN7GPks4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/krzhufd5c2hozf7zjca7.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KN7GPks4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/krzhufd5c2hozf7zjca7.png" alt="12.5" loading="lazy" width="880" height="500"></a></p>

<h2>
  <a name="testing" href="#testing">
  </a>
  Testing
</h2>

<p>Okay, we have done everything we need to make the AWS SSO work in its simplest, from – having access to an AWS account without using long-lived credentials. Now it is time to test our setup to ensure everything is working correctly. Let us start with AWS console access using AWS SSO.</p>

<h3>
  <a name="aws-console-access-through-aws-sso" href="#aws-console-access-through-aws-sso">
  </a>
  AWS console access through AWS SSO
</h3>

<p>After finishing step 12 from the <em>The steps</em> section of this article, navigate to the AWS SSO <em>"Dashboard"</em> tab and copy the <em>"User portal URL"</em></p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Ugjul8fc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i3n4yha2z75hgudy593g.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Ugjul8fc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i3n4yha2z75hgudy593g.png" alt="testing-aws-console-access" loading="lazy" width="880" height="500"></a></p>

<p>After signing in successfully (<strong>use credentials for AWS SSO user and NOT the AWS account</strong>), you should be able to pick the AWS account and the permission set combo, we have configured in the previous section.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--mT2w6cpn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6lbapxp3x1o0fce0i6vl.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--mT2w6cpn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6lbapxp3x1o0fce0i6vl.png" alt="testing-aws-console-access-2" loading="lazy" width="880" height="500"></a></p>

<p>The <em>"Management console"</em> link should redirect you to a given AWS account as a <em>federated user</em> scoped to a given permission set.</p>

<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--E-kSWawM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ra74zap8vfdk7s90uesf.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--E-kSWawM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ra74zap8vfdk7s90uesf.png" alt="testing-aws-console-access-3" loading="lazy" width="880" height="500"></a></p>

<p><strong>Consider bookmarking the <em>"User portal URL"</em> for easy access</strong>.</p>

<h3>
  <a name="aws-cli-access" href="#aws-cli-access">
  </a>
  AWS CLI access
</h3>

<p>With the AWS console access out of the way, let us focus on AWS CLI access and getting the AWS credentials from the AWS SSO session.</p>

<p>Luckily for us, the <a href="https://aws.amazon.com/cli/">AWS CLI</a> already has excellent support for AWS SSO.</p>

<p>I find the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html">official AWS CLI SSO configuration guide</a> to be a very well-put resource on how to configure the AWS CLI with AWS SSO correctly.</p>

<p>After configuring the CLI, I recommend you look into <a href="https://github.com/benkehoe/aws-export-credentials"><em>aws-export-credentials</em></a> for exporting the credentials as environment variables across different shells you use.</p>

<h2>
  <a name="possible-improvements" href="#possible-improvements">
  </a>
  Possible improvements
</h2>

<p>One improvement that one can make to the configuration I presented is to encapsulate it within reproducible IaC deployment. This goes beyond my area of expertise as I'm more of an application developer that never had to deal with creating IaC code for AWS Organizations and AWS SSO.</p>

<p>If you feel like this is what you want to do next – great! I would start by reading on either <a href="https://aws.amazon.com/controltower/">AWS ControlTower</a> or <a href="https://bahr.dev/2022/02/07/org-formation/">OrgFormation</a>.</p>

<h2>
  <a name="closing-words" href="#closing-words">
  </a>
  Closing words
</h2>

<p>I hope you find this blog post helpful as I would a couple of months prior when I had no idea what I was doing going through the process I described in the <em>"The steps"</em> section.</p>

<p>We configured AWS SSO for our development account with twelve steps and ditched the long-lived credentials associated with IAM Users in the process.</p>

<p>For more AWS / serverless content, consider following me on Twitter - <a href="https://twitter.com/wm_matuszewski">@wm_matuszewski</a></p>

<p>And, as always, thank you for your valuable time.</p>

</div></article> <div class="aside-username-wrapper" data-v-10d06ee8><aside class="aside-username-block" data-v-37984f8c data-v-10d06ee8><div class="username-heading loading" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-heading" data-v-37984f8c><div class="vue-content-placeholders-heading__img"></div> <div class="vue-content-placeholders-heading__content"><div class="vue-content-placeholders-heading__title"></div> <div class="vue-content-placeholders-heading__subtitle"></div></div></div></div></div> <div class="info" data-v-37984f8c><div class="vue-content-placeholders vue-content-placeholders-is-animated" data-v-37984f8c><div class="vue-content-placeholders-text" data-v-37984f8c><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div><div class="vue-content-placeholders-text__line"></div></div></div></div></aside></div></div> <div class="comments-block" data-v-8c4375bc data-v-10d06ee8><!----> <a href="https://dev.to/wojciechmatuszewski/minimal-aws-sso-setup-for-personal-aws-development-220k" target="_blank" rel="nofollow noopener noreferer" class="add-comment" data-v-8c4375bc>
    Add comment
  </a></div></div> <footer data-v-22cb8fd0><span data-v-22cb8fd0>Built with</span> <a href="https://nuxtjs.org" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="nuxt-icon" data-v-22cb8fd0 data-v-22cb8fd0><path d="M13.5599 8.54348L12.8055 9.87164L10.2257 5.3282L2.306 19.274H7.66815C7.66815 20.0075 8.25298 20.6021 8.97441 20.6021H2.306C1.83937 20.6021 1.40822 20.3489 1.17494 19.9379C0.941664 19.527 0.941687 19.0208 1.175 18.6099L9.09469 4.66412C9.32802 4.25316 9.75926 4 10.226 4C10.6926 4 11.1239 4.25316 11.3572 4.66412L13.5599 8.54348V8.54348Z" fill="#00C58E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M19.2769 18.6099L14.3143 9.87165L13.5599 8.54348L12.8055 9.87165L7.84343 18.6099C7.61011 19.0208 7.61009 19.527 7.84337 19.9379C8.07665 20.3489 8.50779 20.6021 8.97443 20.6021H18.1443C18.611 20.6021 19.0424 20.3491 19.2758 19.9382C19.5092 19.5272 19.5092 19.0209 19.2758 18.6099H19.2769ZM8.97443 19.274L13.5599 11.1998L18.1443 19.274H8.97443H8.97443Z" fill="#2F495E" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M22.825 19.938C22.5917 20.3489 22.1606 20.6021 21.694 20.6021H18.1443C18.8657 20.6021 19.4505 20.0075 19.4505 19.274H21.6913L15.3331 8.07696L14.3142 9.87164L13.5599 8.54348L14.2021 7.41287C14.4354 7.00192 14.8667 6.74875 15.3334 6.74875C15.8001 6.74875 16.2313 7.00192 16.4646 7.41287L22.825 18.6099C23.0583 19.0208 23.0583 19.5271 22.825 19.938V19.938Z" fill="#108775" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a> <span data-v-22cb8fd0>&</span> <a href="https://docs.dev.to/api" rel="nofollow noopener" target="_blank" data-v-22cb8fd0><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-22cb8fd0 data-v-22cb8fd0><path d="M1.5726 5.13748C1.42945 5.20622 1.2411 5.36661 1.15822 5.48117C1 5.69503 1 5.74849 1 11.8739C1 17.9993 1 18.0528 1.15822 18.2667C1.2411 18.3812 1.42945 18.5416 1.5726 18.6104C1.8137 18.7402 2.46164 18.7478 12 18.7478C21.5384 18.7478 22.1863 18.7402 22.4274 18.6104C22.5706 18.5416 22.7589 18.3812 22.8418 18.2667C23 18.0528 23 17.9993 23 11.8739C23 5.74849 23 5.69503 22.8418 5.48117C22.7589 5.36661 22.5706 5.20622 22.4274 5.13748C22.1863 5.00764 21.5384 5 12 5C2.46164 5 1.8137 5.00764 1.5726 5.13748ZM7.7055 8.2613C8.0822 8.45989 8.59454 9.0098 8.77536 9.40694C8.89589 9.66664 8.91095 9.94922 8.91095 12.0649C8.91095 14.3104 8.90344 14.4478 8.75275 14.7839C8.51919 15.288 8.16506 15.6546 7.68288 15.899C7.26096 16.1052 7.22328 16.1128 5.7315 16.1358L4.20206 16.1663V12.1031V8.04744L5.80684 8.07035C7.27602 8.09327 7.42672 8.10854 7.7055 8.2613ZM13.6952 8.89521V9.73538H12.4521H11.2089V10.4991V11.2629H11.9623H12.7158V12.1031V12.9432H11.9623H11.2089V13.707V14.4708H12.4521H13.6952V15.3109V16.151H12C10.1315 16.151 10.0411 16.1358 9.67191 15.6928L9.47603 15.4484V12.1336C9.47603 8.46752 9.46851 8.49807 9.95069 8.20783C10.1692 8.07035 10.3425 8.05508 11.9473 8.05508H13.6952V8.89521ZM16.5658 10.3769C16.8897 11.6295 17.1685 12.6912 17.176 12.7293C17.1911 12.7675 17.4699 11.7441 17.8014 10.461C18.1254 9.17017 18.4343 8.1009 18.4795 8.08563C18.5247 8.06271 18.9541 8.06271 19.4288 8.07035L20.3028 8.09327L19.376 11.6219C18.8713 13.5542 18.4117 15.2269 18.3664 15.3261C18.0123 16.0135 17.274 16.3343 16.7164 16.0441C16.4528 15.899 16.0911 15.4865 15.9705 15.1887C15.9254 15.0665 15.4884 13.4549 15.0062 11.6142C14.524 9.76593 14.1171 8.20783 14.0945 8.15437C14.0644 8.07035 14.2301 8.05508 15.0212 8.07035L15.9856 8.09327L16.5658 10.3769Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path><path d="M5.93491 12.103V14.4707H6.27394C6.66574 14.4707 7.01983 14.3103 7.1404 14.0965C7.18559 14.0048 7.21575 13.2105 7.21575 12.0648V10.1783L6.99725 9.95683C6.80133 9.76591 6.71847 9.73535 6.35683 9.73535H5.93491V12.103Z" fill="black" data-v-22cb8fd0 data-v-22cb8fd0></path></svg></a></footer></div></div></div><script>window.__NUXT__=function(e,t,o,a,s){return t.type_of="article",t.id=1026070,t.title="Minimal AWS SSO setup for personal AWS development",t.description="Say goodbye to long-lived credentials and embrace the AWS SSO service!",t.readable_publish_date="Mar 17",t.slug="minimal-aws-sso-setup-for-personal-aws-development-220k",t.path="/aws-builders/minimal-aws-sso-setup-for-personal-aws-development-220k",t.url=o,t.comments_count=3,t.public_reactions_count=114,t.collection_id=e,t.published_timestamp=a,t.positive_reactions_count=114,t.cover_image="https://res.cloudinary.com/practicaldev/image/fetch/s--XChjfvsw--/c_imagga_scale,f_auto,fl_progressive,h_420,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a3d3j0z6alvwq2rmr8id.jpeg",t.social_image="https://res.cloudinary.com/practicaldev/image/fetch/s--RVEUw6sB--/c_imagga_scale,f_auto,fl_progressive,h_500,q_auto,w_1000/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a3d3j0z6alvwq2rmr8id.jpeg",t.canonical_url=o,t.created_at="2022-03-17T13:27:00Z",t.edited_at=e,t.crossposted_at=e,t.published_at=a,t.last_comment_at="2022-04-18T15:37:24Z",t.reading_time_minutes=9,t.tag_list="aws, sso, iam",t.tags=["aws","sso","iam"],t.body_html='<p>I would argue that the <a href="https://aws.amazon.com/single-sign-on/">AWS SSO</a> is a "hidden gem" of AWS service. With AWS SSO, you do not have to deal with <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html">AWS IAM Users</a> and long-lived credentials.</p>\n\n<p>I have a suspicion that there is a lot of misinformation about AWS SSO out there. Some common misconceptions I\'ve heard are:</p>\n\n<ul>\n<li><p><em>"You need <a href="https://www.okta.com/">OKTA</a> to use AWS SSO"</em>.</p></li>\n<li><p><em>"You have to use <a href="https://aws.amazon.com/controltower/?control-blogs.sort-by=item.additionalFields.createdDate&amp;control-blogs.sort-order=desc">AWS Control Tower</a> to use AWS SSO"</em>.</p></li>\n<li><p><em>"The AWS SSO setup is complex, and only experienced AWS developers can utilize it"</em>.</p></li>\n</ul>\n\n<p>None of the above are correct. I\'m using AWS SSO for my personal AWS stuff, and I\'ve never had to interact with AWS Control Tower or OKTA in any shape or form. It is entirely possible to have AWS SSO working with a <strong>bare minimum <a href="https://aws.amazon.com/organizations/">AWS Organizations</a> and AWS IAM configuration</strong>, and this blog post will show you how.</p>\n\n<h2>\n  <a name="the-why-of-aws-sso-for-aws-development" href="#the-why-of-aws-sso-for-aws-development">\n  </a>\n  The why of AWS SSO for AWS development\n</h2>\n\n<p><em>"Why should I bother using/taking my time to learn AWS SSO?"</em> is a valid question, especially when time is the scarcest resource we have. My arguments in favor of learning/using AWS SSO follow.</p>\n\n<p>The first point is that <strong>you do not have to worry about long-lived credentials</strong> for your AWS accounts anymore (except the root one), which drastically improves the security posture of your environment.</p>\n\n<p>The second point is that <strong>if set up correctly</strong>, AWS SSO is <strong>extremely convenient to use</strong>. In my current personal dev workflow, all I do to obtain a time-bound AWS session is type one short command and pick the right account/IAM role combo.</p>\n\n<p>The third point is that <strong>knowing just a little about AWS SSO</strong> could <strong>help you in your day job</strong> where you <strong>most likely use OKTA (or any other identity provider) with AWS SSO</strong> (If you are not, and the configuration you have works for you, more power to you). Someone had to know how to connect the services in the first place. That someone might be you :).</p>\n\n<h2>\n  <a name="setting-the-stage" href="#setting-the-stage">\n  </a>\n  Setting the stage\n</h2>\n\n<p>Before we dive into the configuration itself, I think it is vital to set expectations regarding what I\'m about to show you.</p>\n\n<ol>\n<li><p>We will only use the bare minimum of AWS services/features for simplicity.</p></li>\n<li><p>I would not recommend using this setup for your company\'s AWS SSO story. Look into combining <a href="https://github.com/org-formation/org-formation-cli">OrgFormation</a> / AWS Control Tower with AWS SSO for that.</p></li>\n<li><p><strong>I\'ve tried to keep the complexity to a minimum</strong> so that people who are not familiar with AWS (for example, me from 3 years ago) can go through the listed steps without significant issues.</p></li>\n<li><p>You will be using the AWS console through configuration steps. Creating an IaC template to automate the setup is beyond this blog post\'s scope.</p></li>\n</ol>\n\n<h2>\n  <a name="the-end-goal" href="#the-end-goal">\n  </a>\n  The end goal\n</h2>\n\n<p>After you have completed the configuration steps, you will be able to do the following:</p>\n\n<ol>\n<li>Login into a given AWS account console with a single click via the AWS SSO user portal. Here is a screenshot of my AWS SSO portal dashboard.</li>\n</ol>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Pb6IPFdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/u2xz7v5p3aru31q9trl4.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Pb6IPFdt--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/u2xz7v5p3aru31q9trl4.png" alt="AWS SSO portal dashboard sneak-peak" loading="lazy" width="880" height="424"></a></p>\n\n<ol>\n<li>Assume credentials for a given AWS IAM role in a given AWS account for CLI usage with a single command.</li>\n</ol>\n\n<p>Interested? Let us get started with the configuration.</p>\n\n<h2>\n  <a name="the-configuration" href="#the-configuration">\n  </a>\n  The configuration\n</h2>\n\n<h3>\n  <a name="the-prerequisites" href="#the-prerequisites">\n  </a>\n  The prerequisites\n</h3>\n\n<ul>\n<li>\n<a href="https://aws.amazon.com/cli/">AWS CLI</a> installed.</li>\n</ul>\n\n<h3>\n  <a name="the-steps" href="#the-steps">\n  </a>\n  The steps\n</h3>\n\n<p><strong>1</strong> - If you do not have an AWS account already, create one. There are many great resources on how to do just that, for example, <a href="https://acloudguru.com/videos/acg-fundamentals/how-to-create-an-aws-account?utm_campaign=11244863417&amp;utm_source=google&amp;utm_medium=cpc&amp;utm_content=469352928666&amp;utm_term=_&amp;adgroupid=115625160932">this guide by A Cloud Guru</a>.</p>\n\n<ul>\n<li>I would <strong>strongly recommend this AWS account</strong> be <strong>used only for AWS SSO / AWS Organizations set up</strong>. Consider <strong>not</strong> running any deployments on this account.</li>\n</ul>\n\n<p><strong>2</strong>‏‏‎‏‏‎ - Pick the region you wish your AWS SSO configuration to be deployed into. To my best knowledge, the <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/regions.html#region-data">AWS SSO is a region-bound service</a>. <strong>For demonstration purposes</strong> I will be using the <em>eu-west-1</em> region throughout this blog post.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--sH-i5S89--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pwoctne9f5jh7y9o5jzh.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--sH-i5S89--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pwoctne9f5jh7y9o5jzh.png" alt="2-AWS-Region" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>3</strong> - In the search bar, look for AWS SSO service. The <em>sso</em> search phrase should do. Click on the service tile to go to its dashboard.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--VK_aWobz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mjwcq49cy7v7mzyp4asu.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--VK_aWobz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mjwcq49cy7v7mzyp4asu.png" alt="3-search-for-sso" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>4</strong> - After landing on the AWS SSO dashboard, assuming you do not have it enabled in any other AWS regions, you should be presented with a landing page that contains a big <em>"Enable AWS SSO"</em> button – click on it.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--f-l__nPG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rd7fdqgvciuao3eqr7ko.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--f-l__nPG--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rd7fdqgvciuao3eqr7ko.png" alt="4-landing-page-enable-sso" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>5</strong> - Assuming you do not have any <a href="https://aws.amazon.com/organizations/">AWS Organizations</a> created on this account, the AWS console will greet you with the popup to create one. Click on the <em>"Create AWS Organization"</em> button.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--hGd4V9uF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zlf3vk1l2hguzwjgiv8o.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--hGd4V9uF--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zlf3vk1l2hguzwjgiv8o.png" alt="5-create-organization-prompt" loading="lazy" width="880" height="500"></a></p>\n\n<ul>\n<li>\n<strong>If you are new to AWS and have no idea what AWS Organizations are</strong>, consider them a way of creating multiple AWS accounts with ease. <strong>You do NOT have to know a lot about them to configure AWS SSO</strong>. Consult the <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html">AWS Organizations documentation</a> for more information.</li>\n</ul>\n\n<p>After waiting a bit for the AWS console to create the AWS Organization, you will be redirected to the AWS SSO service dashboard.</p>\n\n<p><strong>6</strong> - Next up, we need to create an AWS account we will be SSOing into (and assuming given policy in that account, more on that later). As I eluded earlier, we will be using AWS Organizations to manage AWS accounts. AWS SSO service created an AWS Organization for us in the previous step. Go to the created AWS Organization by searching for the service name.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--t7yN3xje--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atlo5dc1yneyf7apnyd5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--t7yN3xje--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atlo5dc1yneyf7apnyd5.png" alt="6-Search-for-AWS-Organizations" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>7</strong> - Next up, click on the <em>"Add an AWS account"</em> button.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--ku3o24SI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/om9qhk3uhtf2qo7ksjdi.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--ku3o24SI--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/om9qhk3uhtf2qo7ksjdi.png" alt="7.1-Add an AWS account" loading="lazy" width="880" height="500"></a></p>\n\n<ul>\n<li><p>We want to create a <strong>new AWS account</strong>.</p></li>\n<li><p>Pick whatever name you want. My recommendation would be to add the "Development" suffix to the name to signal that this is the account I\'m using for playing around – i.e., it contains deployed AWS resources.</p></li>\n<li><p>I would leave the <em>"IAM role name"</em> default value. The permission model of AWS Organizations goes beyond the scope of this article.</p></li>\n<li><p>I would not bother with any Tags for personal-only use.</p></li>\n</ul>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--p09fBxFB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0zheae95pb8izlk1zhlk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--p09fBxFB--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0zheae95pb8izlk1zhlk.png" alt="7.2-Create-AWS-Account" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>8</strong> - After you have successfully created the AWS account and set the password (the email you have received from AWS), it is time to go back to the AWS SSO dashboard to finish the configuration.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--6jkqUDjp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gnt5r6kqdm1bqj2jsnin.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--6jkqUDjp--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gnt5r6kqdm1bqj2jsnin.png" alt="8-Go-back-to-SSO" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>9</strong> - Next, we have to create a <a href="https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html">permission set</a> (a scary name for a collection of IAM Policies) you will be acquiring when SSOing into a given AWS account. <strong>This part is what allows us to ditch the long-lived credentials</strong>. Switch to the <em>"Permission sets"</em> tab and click on <em>"Create permission set"</em>.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--KqJRAXGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/06u7wwpnxogsaqvpdzvi.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KqJRAXGM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/06u7wwpnxogsaqvpdzvi.png" alt="9.1-SSO-permission-sets" loading="lazy" width="880" height="500"></a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--xw1Yhpjr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iy8et8k4msvn33mch6oh.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--xw1Yhpjr--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iy8et8k4msvn33mch6oh.png" alt="9.2-SSO-create-permission-set" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>10</strong> - Now comes the permission set creation wizard. The following are my recommendations for each step.</p>\n\n<ul>\n<li><p>For the <em>"Type"</em> step, I recommend sticking with <em>"Use an existing job function policy"</em> unless you are adept at writing AWS IAM Policies.</p></li>\n<li><p>For the <em>"Detail"</em> step, I recommend picking the <em>"PowerUserAccess"</em> policy. <strong>Make sure you understand what a given policy grants</strong>.</p></li>\n<li><p>When it comes to the <em>"Tags"</em> step, I would not bother setting them for personal use, but I leave that decision up to you.</p></li>\n</ul>\n\n<blockquote>\n<p>Tags are essential in a work environment where multiple teams operate on different resources.</p>\n</blockquote>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--dzUZ92Y7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lm9edogddajjuupkoida.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--dzUZ92Y7--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lm9edogddajjuupkoida.png" alt="10-Create-SSO-permission-set" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>11</strong> - Next, we have to create a user that can sign in to an AWS SSO user portal. We will be associating the user with a permission set and AWS account later. To create an AWS SSO user, navigate to the <em>"Users"</em> tab and click the <em>"Add user"</em> button.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--fth-Nd1t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r97sl1scuofoi5v1s9f6.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--fth-Nd1t--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r97sl1scuofoi5v1s9f6.png" alt="11-Add-SSO-User" loading="lazy" width="880" height="500"></a></p>\n\n<ul>\n<li><p>Make sure to save the username you specified in the <em>"Specify user details"</em> step – you will need it later on.</p></li>\n<li><p>I would suggest omitting creating groups for simplicity\'s sake, but that is up to you.</p></li>\n<li><p>After you have created the user, <strong>I would strongly consider adding an MFA for that user</strong>.</p></li>\n</ul>\n\n<p><strong>12</strong> - With the AWS SSO user created, it is time to tie everything we have been configuring together. Navigate to the <em>"AWS accounts"</em> tab. We will be associating the AWS SSO user with a given permission set and an AWS account.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--wSEIBQCz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rrm7arirt8sse375f31r.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--wSEIBQCz--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rrm7arirt8sse375f31r.png" alt="12.1-navigate-to-accounts" loading="lazy" width="880" height="500"></a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--S4QZF5Zo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6fexjk8o3pyu6ckmeyls.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--S4QZF5Zo--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6fexjk8o3pyu6ckmeyls.png" alt="12.2-assign-users-or-groups" loading="lazy" width="880" height="500"></a></p>\n\n<p>As with AWS SSO users, the AWS console uses a wizard-style form for this configuration. The following are screenshots that should help you navigate the steps.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--LG7EKpfc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q6zp8z6hlmodgwts0tb5.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--LG7EKpfc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q6zp8z6hlmodgwts0tb5.png" alt="12.3" loading="lazy" width="880" height="500"></a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--YRMfVh3H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x7pvtl0vembpbaptckpk.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--YRMfVh3H--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x7pvtl0vembpbaptckpk.png" alt="12.4" loading="lazy" width="880" height="500"></a></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--KN7GPks4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/krzhufd5c2hozf7zjca7.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--KN7GPks4--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/krzhufd5c2hozf7zjca7.png" alt="12.5" loading="lazy" width="880" height="500"></a></p>\n\n<h2>\n  <a name="testing" href="#testing">\n  </a>\n  Testing\n</h2>\n\n<p>Okay, we have done everything we need to make the AWS SSO work in its simplest, from – having access to an AWS account without using long-lived credentials. Now it is time to test our setup to ensure everything is working correctly. Let us start with AWS console access using AWS SSO.</p>\n\n<h3>\n  <a name="aws-console-access-through-aws-sso" href="#aws-console-access-through-aws-sso">\n  </a>\n  AWS console access through AWS SSO\n</h3>\n\n<p>After finishing step 12 from the <em>The steps</em> section of this article, navigate to the AWS SSO <em>"Dashboard"</em> tab and copy the <em>"User portal URL"</em></p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--Ugjul8fc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i3n4yha2z75hgudy593g.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Ugjul8fc--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i3n4yha2z75hgudy593g.png" alt="testing-aws-console-access" loading="lazy" width="880" height="500"></a></p>\n\n<p>After signing in successfully (<strong>use credentials for AWS SSO user and NOT the AWS account</strong>), you should be able to pick the AWS account and the permission set combo, we have configured in the previous section.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--mT2w6cpn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6lbapxp3x1o0fce0i6vl.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--mT2w6cpn--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6lbapxp3x1o0fce0i6vl.png" alt="testing-aws-console-access-2" loading="lazy" width="880" height="500"></a></p>\n\n<p>The <em>"Management console"</em> link should redirect you to a given AWS account as a <em>federated user</em> scoped to a given permission set.</p>\n\n<p><a href="https://res.cloudinary.com/practicaldev/image/fetch/s--E-kSWawM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ra74zap8vfdk7s90uesf.png" class="article-body-image-wrapper"><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--E-kSWawM--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ra74zap8vfdk7s90uesf.png" alt="testing-aws-console-access-3" loading="lazy" width="880" height="500"></a></p>\n\n<p><strong>Consider bookmarking the <em>"User portal URL"</em> for easy access</strong>.</p>\n\n<h3>\n  <a name="aws-cli-access" href="#aws-cli-access">\n  </a>\n  AWS CLI access\n</h3>\n\n<p>With the AWS console access out of the way, let us focus on AWS CLI access and getting the AWS credentials from the AWS SSO session.</p>\n\n<p>Luckily for us, the <a href="https://aws.amazon.com/cli/">AWS CLI</a> already has excellent support for AWS SSO.</p>\n\n<p>I find the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html">official AWS CLI SSO configuration guide</a> to be a very well-put resource on how to configure the AWS CLI with AWS SSO correctly.</p>\n\n<p>After configuring the CLI, I recommend you look into <a href="https://github.com/benkehoe/aws-export-credentials"><em>aws-export-credentials</em></a> for exporting the credentials as environment variables across different shells you use.</p>\n\n<h2>\n  <a name="possible-improvements" href="#possible-improvements">\n  </a>\n  Possible improvements\n</h2>\n\n<p>One improvement that one can make to the configuration I presented is to encapsulate it within reproducible IaC deployment. This goes beyond my area of expertise as I\'m more of an application developer that never had to deal with creating IaC code for AWS Organizations and AWS SSO.</p>\n\n<p>If you feel like this is what you want to do next – great! I would start by reading on either <a href="https://aws.amazon.com/controltower/">AWS ControlTower</a> or <a href="https://bahr.dev/2022/02/07/org-formation/">OrgFormation</a>.</p>\n\n<h2>\n  <a name="closing-words" href="#closing-words">\n  </a>\n  Closing words\n</h2>\n\n<p>I hope you find this blog post helpful as I would a couple of months prior when I had no idea what I was doing going through the process I described in the <em>"The steps"</em> section.</p>\n\n<p>We configured AWS SSO for our development account with twelve steps and ditched the long-lived credentials associated with IAM Users in the process.</p>\n\n<p>For more AWS / serverless content, consider following me on Twitter - <a href="https://twitter.com/wm_matuszewski">@wm_matuszewski</a></p>\n\n<p>And, as always, thank you for your valuable time.</p>\n\n',t.body_markdown='---\ntitle: Minimal AWS SSO setup for personal AWS development\npublished: true\ndescription: Say goodbye to long-lived credentials and embrace the AWS SSO service!\ntags: aws, sso, iam\ncover_image: https://dev-to-uploads.s3.amazonaws.com/uploads/articles/a3d3j0z6alvwq2rmr8id.jpeg\n---\nI would argue that the [AWS SSO](https://aws.amazon.com/single-sign-on/) is a "hidden gem" of AWS service. With AWS SSO, you do not have to deal with [AWS IAM Users](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users.html) and long-lived credentials.\n\nI have a suspicion that there is a lot of misinformation about AWS SSO out there. Some common misconceptions I\'ve heard are:\n\n- _"You need [OKTA](https://www.okta.com/) to use AWS SSO"_.\n\n- _"You have to use [AWS Control Tower](https://aws.amazon.com/controltower/?control-blogs.sort-by=item.additionalFields.createdDate&control-blogs.sort-order=desc) to use AWS SSO"_.\n\n- _"The AWS SSO setup is complex, and only experienced AWS developers can utilize it"_.\n\nNone of the above are correct. I\'m using AWS SSO for my personal AWS stuff, and I\'ve never had to interact with AWS Control Tower or OKTA in any shape or form. It is entirely possible to have AWS SSO working with a **bare minimum [AWS Organizations](https://aws.amazon.com/organizations/) and AWS IAM configuration**, and this blog post will show you how.\n\n## The why of AWS SSO for AWS development\n\n_"Why should I bother using/taking my time to learn AWS SSO?"_ is a valid question, especially when time is the scarcest resource we have. My arguments in favor of learning/using AWS SSO follow.\n\nThe first point is that **you do not have to worry about long-lived credentials** for your AWS accounts anymore (except the root one), which drastically improves the security posture of your environment.\n\nThe second point is that **if set up correctly**, AWS SSO is **extremely convenient to use**. In my current personal dev workflow, all I do to obtain a time-bound AWS session is type one short command and pick the right account/IAM role combo.\n\nThe third point is that **knowing just a little about AWS SSO** could **help you in your day job** where you **most likely use OKTA (or any other identity provider) with AWS SSO** (If you are not, and the configuration you have works for you, more power to you). Someone had to know how to connect the services in the first place. That someone might be you :).\n\n## Setting the stage\n\nBefore we dive into the configuration itself, I think it is vital to set expectations regarding what I\'m about to show you.\n\n1. We will only use the bare minimum of AWS services/features for simplicity.\n\n1. I would not recommend using this setup for your company\'s AWS SSO story. Look into combining [OrgFormation](https://github.com/org-formation/org-formation-cli) / AWS Control Tower with AWS SSO for that.\n\n1. **I\'ve tried to keep the complexity to a minimum** so that people who are not familiar with AWS (for example, me from 3 years ago) can go through the listed steps without significant issues.\n\n1. You will be using the AWS console through configuration steps. Creating an IaC template to automate the setup is beyond this blog post\'s scope.\n\n## The end goal\n\nAfter you have completed the configuration steps, you will be able to do the following:\n\n1. Login into a given AWS account console with a single click via the AWS SSO user portal. Here is a screenshot of my AWS SSO portal dashboard.\n\n![AWS SSO portal dashboard sneak-peak](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/u2xz7v5p3aru31q9trl4.png)\n\n2. Assume credentials for a given AWS IAM role in a given AWS account for CLI usage with a single command.\n\nInterested? Let us get started with the configuration.\n\n## The configuration\n\n### The prerequisites\n\n- [AWS CLI](https://aws.amazon.com/cli/) installed.\n\n### The steps\n\n**1** - If you do not have an AWS account already, create one. There are many great resources on how to do just that, for example, [this guide by A Cloud Guru](https://acloudguru.com/videos/acg-fundamentals/how-to-create-an-aws-account?utm_campaign=11244863417&utm_source=google&utm_medium=cpc&utm_content=469352928666&utm_term=_&adgroupid=115625160932).\n\n- I would **strongly recommend this AWS account** be **used only for AWS SSO / AWS Organizations set up**. Consider **not** running any deployments on this account.\n\n**2**‏‏‎‏‏‎ - Pick the region you wish your AWS SSO configuration to be deployed into. To my best knowledge, the [AWS SSO is a region-bound service](https://docs.aws.amazon.com/singlesignon/latest/userguide/regions.html#region-data). **For demonstration purposes** I will be using the _eu-west-1_ region throughout this blog post.\n\n![2-AWS-Region](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pwoctne9f5jh7y9o5jzh.png)\n\n**3** - In the search bar, look for AWS SSO service. The _sso_ search phrase should do. Click on the service tile to go to its dashboard.\n\n![3-search-for-sso](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mjwcq49cy7v7mzyp4asu.png)\n\n**4** - After landing on the AWS SSO dashboard, assuming you do not have it enabled in any other AWS regions, you should be presented with a landing page that contains a big _"Enable AWS SSO"_ button – click on it.\n\n![4-landing-page-enable-sso](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rd7fdqgvciuao3eqr7ko.png)\n\n**5** - Assuming you do not have any [AWS Organizations](https://aws.amazon.com/organizations/) created on this account, the AWS console will greet you with the popup to create one. Click on the _"Create AWS Organization"_ button.\n\n![5-create-organization-prompt](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zlf3vk1l2hguzwjgiv8o.png)\n\n- **If you are new to AWS and have no idea what AWS Organizations are**, consider them a way of creating multiple AWS accounts with ease. **You do NOT have to know a lot about them to configure AWS SSO**. Consult the [AWS Organizations documentation](https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html) for more information.\n\nAfter waiting a bit for the AWS console to create the AWS Organization, you will be redirected to the AWS SSO service dashboard.\n\n**6** - Next up, we need to create an AWS account we will be SSOing into (and assuming given policy in that account, more on that later). As I eluded earlier, we will be using AWS Organizations to manage AWS accounts. AWS SSO service created an AWS Organization for us in the previous step. Go to the created AWS Organization by searching for the service name.\n\n![6-Search-for-AWS-Organizations](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/atlo5dc1yneyf7apnyd5.png)\n\n**7** - Next up, click on the _"Add an AWS account"_ button.\n\n![7.1-Add an AWS account](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/om9qhk3uhtf2qo7ksjdi.png)\n\n- We want to create a **new AWS account**.\n\n- Pick whatever name you want. My recommendation would be to add the "Development" suffix to the name to signal that this is the account I\'m using for playing around – i.e., it contains deployed AWS resources.\n\n- I would leave the _"IAM role name"_ default value. The permission model of AWS Organizations goes beyond the scope of this article.\n\n- I would not bother with any Tags for personal-only use.\n\n![7.2-Create-AWS-Account](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/0zheae95pb8izlk1zhlk.png)\n\n**8** - After you have successfully created the AWS account and set the password (the email you have received from AWS), it is time to go back to the AWS SSO dashboard to finish the configuration.\n\n![8-Go-back-to-SSO](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/gnt5r6kqdm1bqj2jsnin.png)\n\n**9** - Next, we have to create a [permission set](https://docs.aws.amazon.com/singlesignon/latest/userguide/permissionsetsconcept.html) (a scary name for a collection of IAM Policies) you will be acquiring when SSOing into a given AWS account. **This part is what allows us to ditch the long-lived credentials**. Switch to the _"Permission sets"_ tab and click on _"Create permission set"_.\n\n![9.1-SSO-permission-sets](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/06u7wwpnxogsaqvpdzvi.png)\n\n![9.2-SSO-create-permission-set](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iy8et8k4msvn33mch6oh.png)\n\n**10** - Now comes the permission set creation wizard. The following are my recommendations for each step.\n\n- For the _"Type"_ step, I recommend sticking with _"Use an existing job function policy"_ unless you are adept at writing AWS IAM Policies.\n\n- For the _"Detail"_ step, I recommend picking the _"PowerUserAccess"_ policy. **Make sure you understand what a given policy grants**.\n\n- When it comes to the _"Tags"_ step, I would not bother setting them for personal use, but I leave that decision up to you.\n\n  > Tags are essential in a work environment where multiple teams operate on different resources.\n\n![10-Create-SSO-permission-set](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lm9edogddajjuupkoida.png)\n\n**11** - Next, we have to create a user that can sign in to an AWS SSO user portal. We will be associating the user with a permission set and AWS account later. To create an AWS SSO user, navigate to the _"Users"_ tab and click the _"Add user"_ button.\n\n![11-Add-SSO-User](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/r97sl1scuofoi5v1s9f6.png)\n\n- Make sure to save the username you specified in the _"Specify user details"_ step – you will need it later on.\n\n- I would suggest omitting creating groups for simplicity\'s sake, but that is up to you.\n\n- After you have created the user, **I would strongly consider adding an MFA for that user**.\n\n**12** - With the AWS SSO user created, it is time to tie everything we have been configuring together. Navigate to the _"AWS accounts"_ tab. We will be associating the AWS SSO user with a given permission set and an AWS account.\n\n![12.1-navigate-to-accounts](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rrm7arirt8sse375f31r.png)\n\n![12.2-assign-users-or-groups](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6fexjk8o3pyu6ckmeyls.png)\n\nAs with AWS SSO users, the AWS console uses a wizard-style form for this configuration. The following are screenshots that should help you navigate the steps.\n\n![12.3](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q6zp8z6hlmodgwts0tb5.png)\n\n![12.4](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/x7pvtl0vembpbaptckpk.png)\n\n![12.5](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/krzhufd5c2hozf7zjca7.png)\n\n## Testing\n\nOkay, we have done everything we need to make the AWS SSO work in its simplest, from – having access to an AWS account without using long-lived credentials. Now it is time to test our setup to ensure everything is working correctly. Let us start with AWS console access using AWS SSO.\n\n### AWS console access through AWS SSO\n\nAfter finishing step 12 from the _The steps_ section of this article, navigate to the AWS SSO _"Dashboard"_ tab and copy the _"User portal URL"_\n\n![testing-aws-console-access](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i3n4yha2z75hgudy593g.png)\n\nAfter signing in successfully (**use credentials for AWS SSO user and NOT the AWS account**), you should be able to pick the AWS account and the permission set combo, we have configured in the previous section.\n\n![testing-aws-console-access-2](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/6lbapxp3x1o0fce0i6vl.png)\n\nThe _"Management console"_ link should redirect you to a given AWS account as a _federated user_ scoped to a given permission set.\n\n![testing-aws-console-access-3](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ra74zap8vfdk7s90uesf.png)\n\n**Consider bookmarking the _"User portal URL"_ for easy access**.\n\n### AWS CLI access\n\nWith the AWS console access out of the way, let us focus on AWS CLI access and getting the AWS credentials from the AWS SSO session.\n\nLuckily for us, the [AWS CLI](https://aws.amazon.com/cli/) already has excellent support for AWS SSO.\n\nI find the [official AWS CLI SSO configuration guide](https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html) to be a very well-put resource on how to configure the AWS CLI with AWS SSO correctly.\n\nAfter configuring the CLI, I recommend you look into [_aws-export-credentials_](https://github.com/benkehoe/aws-export-credentials) for exporting the credentials as environment variables across different shells you use.\n\n## Possible improvements\n\nOne improvement that one can make to the configuration I presented is to encapsulate it within reproducible IaC deployment. This goes beyond my area of expertise as I\'m more of an application developer that never had to deal with creating IaC code for AWS Organizations and AWS SSO.\n\nIf you feel like this is what you want to do next – great! I would start by reading on either [AWS ControlTower](https://aws.amazon.com/controltower/) or [OrgFormation](https://bahr.dev/2022/02/07/org-formation/).\n\n## Closing words\n\nI hope you find this blog post helpful as I would a couple of months prior when I had no idea what I was doing going through the process I described in the _"The steps"_ section.\n\nWe configured AWS SSO for our development account with twelve steps and ditched the long-lived credentials associated with IAM Users in the process.\n\nFor more AWS / serverless content, consider following me on Twitter - [@wm_matuszewski](https://twitter.com/wm_matuszewski)\n\nAnd, as always, thank you for your valuable time.\n\n',t.user={name:"Wojciech Matuszewski",username:"wojciechmatuszewski",twitter_username:"wm_matuszewski",github_username:"WojciechMatuszewski",website_url:e,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--yi3n4oD1--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/163656/e93f9923-06f4-4629-91db-5160fa1ee51f.jpeg",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--KnuMYxCc--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/163656/e93f9923-06f4-4629-91db-5160fa1ee51f.jpeg"},t.organization={name:"AWS Community Builders ",username:s,slug:s,profile_image:"https://res.cloudinary.com/practicaldev/image/fetch/s--zmOZQNzv--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/2794/88da75b6-aadd-4ea1-8083-ae2dfca8be94.png",profile_image_90:"https://res.cloudinary.com/practicaldev/image/fetch/s--vWmcJ-ty--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/organization/profile_image/2794/88da75b6-aadd-4ea1-8083-ae2dfca8be94.png"},{layout:"default",data:[{}],fetch:{"data-v-70afb46a:0":{article:t}},error:e,state:{currentArticle:t},serverRendered:!0,routePath:"/wojciechmatuszewski/1026070",config:{_app:{basePath:"/nuxtstop/",assetsPath:"/nuxtstop/_nuxt/",cdnURL:e}}}}(null,{},"https://dev.to/aws-builders/minimal-aws-sso-setup-for-personal-aws-development-220k","2022-03-17T13:48:29Z","aws-builders")</script><script src="/nuxtstop/_nuxt/f6e87fb.js" defer></script><script src="/nuxtstop/_nuxt/dc9ce94.js" defer></script><script src="/nuxtstop/_nuxt/6474719.js" defer></script><script src="/nuxtstop/_nuxt/9b75090.js" defer></script><script src="/nuxtstop/_nuxt/18df600.js" defer></script>
  </body>
</html>
